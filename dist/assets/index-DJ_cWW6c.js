(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))d(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&d(m)}).observe(document,{childList:!0,subtree:!0});function c(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function d(f){if(f.ep)return;f.ep=!0;const p=c(f);fetch(f.href,p)}})();function sp(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Do={exports:{}},Jn={},Ao={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu;function lp(){if(Xu)return ve;Xu=1;var l=Symbol.for("react.element"),o=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.iterator;function S(b){return b===null||typeof b!="object"?null:(b=N&&b[N]||b["@@iterator"],typeof b=="function"?b:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,C={};function F(b,M,g){this.props=b,this.context=M,this.refs=C,this.updater=g||P}F.prototype.isReactComponent={},F.prototype.setState=function(b,M){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,M,"setState")},F.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Q(){}Q.prototype=F.prototype;function ee(b,M,g){this.props=b,this.context=M,this.refs=C,this.updater=g||P}var se=ee.prototype=new Q;se.constructor=ee,_(se,F.prototype),se.isPureReactComponent=!0;var ue=Array.isArray,me=Object.prototype.hasOwnProperty,pe={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function de(b,M,g){var z,Y={},ce=null,Ce=null;if(M!=null)for(z in M.ref!==void 0&&(Ce=M.ref),M.key!==void 0&&(ce=""+M.key),M)me.call(M,z)&&!D.hasOwnProperty(z)&&(Y[z]=M[z]);var je=arguments.length-2;if(je===1)Y.children=g;else if(1<je){for(var A=Array(je),he=0;he<je;he++)A[he]=arguments[he+2];Y.children=A}if(b&&b.defaultProps)for(z in je=b.defaultProps,je)Y[z]===void 0&&(Y[z]=je[z]);return{$$typeof:l,type:b,key:ce,ref:Ce,props:Y,_owner:pe.current}}function W(b,M){return{$$typeof:l,type:b.type,key:M,ref:b.ref,props:b.props,_owner:b._owner}}function le(b){return typeof b=="object"&&b!==null&&b.$$typeof===l}function K(b){var M={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(g){return M[g]})}var J=/\/+/g;function ae(b,M){return typeof b=="object"&&b!==null&&b.key!=null?K(""+b.key):M.toString(36)}function Se(b,M,g,z,Y){var ce=typeof b;(ce==="undefined"||ce==="boolean")&&(b=null);var Ce=!1;if(b===null)Ce=!0;else switch(ce){case"string":case"number":Ce=!0;break;case"object":switch(b.$$typeof){case l:case o:Ce=!0}}if(Ce)return Ce=b,Y=Y(Ce),b=z===""?"."+ae(Ce,0):z,ue(Y)?(g="",b!=null&&(g=b.replace(J,"$&/")+"/"),Se(Y,M,g,"",function(he){return he})):Y!=null&&(le(Y)&&(Y=W(Y,g+(!Y.key||Ce&&Ce.key===Y.key?"":(""+Y.key).replace(J,"$&/")+"/")+b)),M.push(Y)),1;if(Ce=0,z=z===""?".":z+":",ue(b))for(var je=0;je<b.length;je++){ce=b[je];var A=z+ae(ce,je);Ce+=Se(ce,M,g,A,Y)}else if(A=S(b),typeof A=="function")for(b=A.call(b),je=0;!(ce=b.next()).done;)ce=ce.value,A=z+ae(ce,je++),Ce+=Se(ce,M,g,A,Y);else if(ce==="object")throw M=String(b),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Ie(b,M,g){if(b==null)return b;var z=[],Y=0;return Se(b,z,"","",function(ce){return M.call(g,ce,Y++)}),z}function Re(b){if(b._status===-1){var M=b._result;M=M(),M.then(function(g){(b._status===0||b._status===-1)&&(b._status=1,b._result=g)},function(g){(b._status===0||b._status===-1)&&(b._status=2,b._result=g)}),b._status===-1&&(b._status=0,b._result=M)}if(b._status===1)return b._result.default;throw b._result}var B={current:null},I={transition:null},X={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:I,ReactCurrentOwner:pe};function q(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:Ie,forEach:function(b,M,g){Ie(b,function(){M.apply(this,arguments)},g)},count:function(b){var M=0;return Ie(b,function(){M++}),M},toArray:function(b){return Ie(b,function(M){return M})||[]},only:function(b){if(!le(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},ve.Component=F,ve.Fragment=c,ve.Profiler=f,ve.PureComponent=ee,ve.StrictMode=d,ve.Suspense=k,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,ve.act=q,ve.cloneElement=function(b,M,g){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var z=_({},b.props),Y=b.key,ce=b.ref,Ce=b._owner;if(M!=null){if(M.ref!==void 0&&(ce=M.ref,Ce=pe.current),M.key!==void 0&&(Y=""+M.key),b.type&&b.type.defaultProps)var je=b.type.defaultProps;for(A in M)me.call(M,A)&&!D.hasOwnProperty(A)&&(z[A]=M[A]===void 0&&je!==void 0?je[A]:M[A])}var A=arguments.length-2;if(A===1)z.children=g;else if(1<A){je=Array(A);for(var he=0;he<A;he++)je[he]=arguments[he+2];z.children=je}return{$$typeof:l,type:b.type,key:Y,ref:ce,props:z,_owner:Ce}},ve.createContext=function(b){return b={$$typeof:m,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:p,_context:b},b.Consumer=b},ve.createElement=de,ve.createFactory=function(b){var M=de.bind(null,b);return M.type=b,M},ve.createRef=function(){return{current:null}},ve.forwardRef=function(b){return{$$typeof:x,render:b}},ve.isValidElement=le,ve.lazy=function(b){return{$$typeof:w,_payload:{_status:-1,_result:b},_init:Re}},ve.memo=function(b,M){return{$$typeof:v,type:b,compare:M===void 0?null:M}},ve.startTransition=function(b){var M=I.transition;I.transition={};try{b()}finally{I.transition=M}},ve.unstable_act=q,ve.useCallback=function(b,M){return B.current.useCallback(b,M)},ve.useContext=function(b){return B.current.useContext(b)},ve.useDebugValue=function(){},ve.useDeferredValue=function(b){return B.current.useDeferredValue(b)},ve.useEffect=function(b,M){return B.current.useEffect(b,M)},ve.useId=function(){return B.current.useId()},ve.useImperativeHandle=function(b,M,g){return B.current.useImperativeHandle(b,M,g)},ve.useInsertionEffect=function(b,M){return B.current.useInsertionEffect(b,M)},ve.useLayoutEffect=function(b,M){return B.current.useLayoutEffect(b,M)},ve.useMemo=function(b,M){return B.current.useMemo(b,M)},ve.useReducer=function(b,M,g){return B.current.useReducer(b,M,g)},ve.useRef=function(b){return B.current.useRef(b)},ve.useState=function(b){return B.current.useState(b)},ve.useSyncExternalStore=function(b,M,g){return B.current.useSyncExternalStore(b,M,g)},ve.useTransition=function(){return B.current.useTransition()},ve.version="18.3.1",ve}var Ju;function Jo(){return Ju||(Ju=1,Ao.exports=lp()),Ao.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu;function ap(){if(Yu)return Jn;Yu=1;var l=Jo(),o=Symbol.for("react.element"),c=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,f=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function m(x,k,v){var w,N={},S=null,P=null;v!==void 0&&(S=""+v),k.key!==void 0&&(S=""+k.key),k.ref!==void 0&&(P=k.ref);for(w in k)d.call(k,w)&&!p.hasOwnProperty(w)&&(N[w]=k[w]);if(x&&x.defaultProps)for(w in k=x.defaultProps,k)N[w]===void 0&&(N[w]=k[w]);return{$$typeof:o,type:x,key:S,ref:P,props:N,_owner:f.current}}return Jn.Fragment=c,Jn.jsx=m,Jn.jsxs=m,Jn}var Gu;function op(){return Gu||(Gu=1,Do.exports=ap()),Do.exports}var n=op(),O=Jo();const ip=sp(O);var xl={},Oo={exports:{}},at={},zo={exports:{}},Io={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu;function cp(){return Zu||(Zu=1,(function(l){function o(I,X){var q=I.length;I.push(X);e:for(;0<q;){var b=q-1>>>1,M=I[b];if(0<f(M,X))I[b]=X,I[q]=M,q=b;else break e}}function c(I){return I.length===0?null:I[0]}function d(I){if(I.length===0)return null;var X=I[0],q=I.pop();if(q!==X){I[0]=q;e:for(var b=0,M=I.length,g=M>>>1;b<g;){var z=2*(b+1)-1,Y=I[z],ce=z+1,Ce=I[ce];if(0>f(Y,q))ce<M&&0>f(Ce,Y)?(I[b]=Ce,I[ce]=q,b=ce):(I[b]=Y,I[z]=q,b=z);else if(ce<M&&0>f(Ce,q))I[b]=Ce,I[ce]=q,b=ce;else break e}}return X}function f(I,X){var q=I.sortIndex-X.sortIndex;return q!==0?q:I.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;l.unstable_now=function(){return p.now()}}else{var m=Date,x=m.now();l.unstable_now=function(){return m.now()-x}}var k=[],v=[],w=1,N=null,S=3,P=!1,_=!1,C=!1,F=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function se(I){for(var X=c(v);X!==null;){if(X.callback===null)d(v);else if(X.startTime<=I)d(v),X.sortIndex=X.expirationTime,o(k,X);else break;X=c(v)}}function ue(I){if(C=!1,se(I),!_)if(c(k)!==null)_=!0,Re(me);else{var X=c(v);X!==null&&B(ue,X.startTime-I)}}function me(I,X){_=!1,C&&(C=!1,Q(de),de=-1),P=!0;var q=S;try{for(se(X),N=c(k);N!==null&&(!(N.expirationTime>X)||I&&!K());){var b=N.callback;if(typeof b=="function"){N.callback=null,S=N.priorityLevel;var M=b(N.expirationTime<=X);X=l.unstable_now(),typeof M=="function"?N.callback=M:N===c(k)&&d(k),se(X)}else d(k);N=c(k)}if(N!==null)var g=!0;else{var z=c(v);z!==null&&B(ue,z.startTime-X),g=!1}return g}finally{N=null,S=q,P=!1}}var pe=!1,D=null,de=-1,W=5,le=-1;function K(){return!(l.unstable_now()-le<W)}function J(){if(D!==null){var I=l.unstable_now();le=I;var X=!0;try{X=D(!0,I)}finally{X?ae():(pe=!1,D=null)}}else pe=!1}var ae;if(typeof ee=="function")ae=function(){ee(J)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ie=Se.port2;Se.port1.onmessage=J,ae=function(){Ie.postMessage(null)}}else ae=function(){F(J,0)};function Re(I){D=I,pe||(pe=!0,ae())}function B(I,X){de=F(function(){I(l.unstable_now())},X)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(I){I.callback=null},l.unstable_continueExecution=function(){_||P||(_=!0,Re(me))},l.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<I?Math.floor(1e3/I):5},l.unstable_getCurrentPriorityLevel=function(){return S},l.unstable_getFirstCallbackNode=function(){return c(k)},l.unstable_next=function(I){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var q=S;S=X;try{return I()}finally{S=q}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(I,X){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var q=S;S=I;try{return X()}finally{S=q}},l.unstable_scheduleCallback=function(I,X,q){var b=l.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?b+q:b):q=b,I){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=q+M,I={id:w++,callback:X,priorityLevel:I,startTime:q,expirationTime:M,sortIndex:-1},q>b?(I.sortIndex=q,o(v,I),c(k)===null&&I===c(v)&&(C?(Q(de),de=-1):C=!0,B(ue,q-b))):(I.sortIndex=M,o(k,I),_||P||(_=!0,Re(me))),I},l.unstable_shouldYield=K,l.unstable_wrapCallback=function(I){var X=S;return function(){var q=S;S=X;try{return I.apply(this,arguments)}finally{S=q}}}})(Io)),Io}var ed;function up(){return ed||(ed=1,zo.exports=cp()),zo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function dp(){if(td)return at;td=1;var l=Jo(),o=up();function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,f={};function p(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(f[e]=t,e=0;e<t.length;e++)d.add(t[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},N={};function S(e){return k.call(N,e)?!0:k.call(w,e)?!1:v.test(e)?N[e]=!0:(w[e]=!0,!1)}function P(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,t,r,s){if(t===null||typeof t>"u"||P(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function C(e,t,r,s,a,i,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=u}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){F[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];F[t]=new C(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){F[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){F[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){F[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){F[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){F[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){F[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){F[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function ee(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Q,ee);F[t]=new C(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Q,ee);F[t]=new C(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Q,ee);F[t]=new C(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){F[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),F.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){F[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function se(e,t,r,s){var a=F.hasOwnProperty(t)?F[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_(t,r,a,s)&&(r=null),s||a===null?S(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var ue=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=Symbol.for("react.element"),pe=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),de=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),K=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),I=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,b;function M(e){if(b===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var g=!1;function z(e,t){if(!e||g)return"";g=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var s=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){s=T}e.call(t.prototype)}else{try{throw Error()}catch(T){s=T}e()}}catch(T){if(T&&s&&typeof T.stack=="string"){for(var a=T.stack.split(`
`),i=s.stack.split(`
`),u=a.length-1,h=i.length-1;1<=u&&0<=h&&a[u]!==i[h];)h--;for(;1<=u&&0<=h;u--,h--)if(a[u]!==i[h]){if(u!==1||h!==1)do if(u--,h--,0>h||a[u]!==i[h]){var y=`
`+a[u].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=u&&0<=h);break}}}finally{g=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?M(e):""}function Y(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1),e;case 11:return e=z(e.type.render,!1),e;case 1:return e=z(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case pe:return"Portal";case W:return"Profiler";case de:return"StrictMode";case ae:return"Suspense";case Se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K:return(e.displayName||"Context")+".Consumer";case le:return(e._context.displayName||"Context")+".Provider";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ie:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function Ce(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===de?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function je(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function A(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function he(e){var t=A(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(u){s=""+u,i.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(u){s=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function be(e){e._valueTracker||(e._valueTracker=he(e))}function Ge(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=A(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function dr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ul(e,t){var r=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ri(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=je(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ni(e,t){t=t.checked,t!=null&&se(e,"checked",t,!1)}function $l(e,t){ni(e,t);var r=je(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bl(e,t.type,je(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function si(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bl(e,t,r){(t!=="number"||dr(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var dn=Array.isArray;function Pr(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+je(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(c(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function li(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(c(92));if(dn(r)){if(1<r.length)throw Error(c(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:je(r)}}function ai(e,t){var r=je(t.value),s=je(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function oi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ii(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ii(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cs,ci=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},of=["Webkit","ms","Moz","O"];Object.keys(mn).forEach(function(e){of.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mn[t]=mn[e]})});function ui(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mn.hasOwnProperty(e)&&mn[e]?(""+t).trim():t+"px"}function di(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=ui(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var cf=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kl(e,t){if(t){if(cf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(c(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(t.style!=null&&typeof t.style!="object")throw Error(c(62))}}function ql(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=null;function Ql(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xl=null,Rr=null,Tr=null;function fi(e){if(e=An(e)){if(typeof Xl!="function")throw Error(c(280));var t=e.stateNode;t&&(t=Fs(t),Xl(e.stateNode,e.type,t))}}function mi(e){Rr?Tr?Tr.push(e):Tr=[e]:Rr=e}function pi(){if(Rr){var e=Rr,t=Tr;if(Tr=Rr=null,fi(e),t)for(e=0;e<t.length;e++)fi(t[e])}}function hi(e,t){return e(t)}function gi(){}var Jl=!1;function xi(e,t,r){if(Jl)return e(t,r);Jl=!0;try{return hi(e,t,r)}finally{Jl=!1,(Rr!==null||Tr!==null)&&(gi(),pi())}}function pn(e,t){var r=e.stateNode;if(r===null)return null;var s=Fs(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(c(231,t,typeof r));return r}var Yl=!1;if(x)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{Yl=!1}function uf(e,t,r,s,a,i,u,h,y){var T=Array.prototype.slice.call(arguments,3);try{t.apply(r,T)}catch($){this.onError($)}}var gn=!1,us=null,ds=!1,Gl=null,df={onError:function(e){gn=!0,us=e}};function ff(e,t,r,s,a,i,u,h,y){gn=!1,us=null,uf.apply(df,arguments)}function mf(e,t,r,s,a,i,u,h,y){if(ff.apply(this,arguments),gn){if(gn){var T=us;gn=!1,us=null}else throw Error(c(198));ds||(ds=!0,Gl=T)}}function fr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vi(e){if(fr(e)!==e)throw Error(c(188))}function pf(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(c(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return vi(a),e;if(i===s)return vi(a),t;i=i.sibling}throw Error(c(188))}if(r.return!==s.return)r=a,s=i;else{for(var u=!1,h=a.child;h;){if(h===r){u=!0,r=a,s=i;break}if(h===s){u=!0,s=a,r=i;break}h=h.sibling}if(!u){for(h=i.child;h;){if(h===r){u=!0,r=i,s=a;break}if(h===s){u=!0,s=i,r=a;break}h=h.sibling}if(!u)throw Error(c(189))}}if(r.alternate!==s)throw Error(c(190))}if(r.tag!==3)throw Error(c(188));return r.stateNode.current===r?e:t}function wi(e){return e=pf(e),e!==null?ji(e):null}function ji(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ji(e);if(t!==null)return t;e=e.sibling}return null}var Ni=o.unstable_scheduleCallback,bi=o.unstable_cancelCallback,hf=o.unstable_shouldYield,gf=o.unstable_requestPaint,Ae=o.unstable_now,xf=o.unstable_getCurrentPriorityLevel,Zl=o.unstable_ImmediatePriority,Si=o.unstable_UserBlockingPriority,fs=o.unstable_NormalPriority,yf=o.unstable_LowPriority,ki=o.unstable_IdlePriority,ms=null,Tt=null;function vf(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(ms,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Nf,wf=Math.log,jf=Math.LN2;function Nf(e){return e>>>=0,e===0?32:31-(wf(e)/jf|0)|0}var ps=64,hs=4194304;function xn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gs(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,u=r&268435455;if(u!==0){var h=u&~a;h!==0?s=xn(h):(i&=u,i!==0&&(s=xn(i)))}else u=r&~a,u!==0?s=xn(u):i!==0&&(s=xn(i));if(s===0)return 0;if(t!==0&&t!==s&&(t&a)===0&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-jt(t),a=1<<r,s|=e[r],t&=~a;return s}function bf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sf(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var u=31-jt(i),h=1<<u,y=a[u];y===-1?((h&r)===0||(h&s)!==0)&&(a[u]=bf(h,t)):y<=t&&(e.expiredLanes|=h),i&=~h}}function ea(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ci(){var e=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),e}function ta(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=r}function kf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-jt(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function ra(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-jt(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var ke=0;function Ei(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var _i,na,Pi,Ri,Ti,sa=!1,xs=[],Kt=null,qt=null,Wt=null,vn=new Map,wn=new Map,Qt=[],Cf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fi(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":vn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wn.delete(t.pointerId)}}function jn(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=An(t),t!==null&&na(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Ef(e,t,r,s,a){switch(t){case"focusin":return Kt=jn(Kt,e,t,r,s,a),!0;case"dragenter":return qt=jn(qt,e,t,r,s,a),!0;case"mouseover":return Wt=jn(Wt,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return vn.set(i,jn(vn.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,wn.set(i,jn(wn.get(i)||null,e,t,r,s,a)),!0}return!1}function Li(e){var t=mr(e.target);if(t!==null){var r=fr(t);if(r!==null){if(t=r.tag,t===13){if(t=yi(r),t!==null){e.blockedOn=t,Ti(e.priority,function(){Pi(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=aa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Wl=s,r.target.dispatchEvent(s),Wl=null}else return t=An(r),t!==null&&na(t),e.blockedOn=r,!1;t.shift()}return!0}function Di(e,t,r){ys(e)&&r.delete(t)}function _f(){sa=!1,Kt!==null&&ys(Kt)&&(Kt=null),qt!==null&&ys(qt)&&(qt=null),Wt!==null&&ys(Wt)&&(Wt=null),vn.forEach(Di),wn.forEach(Di)}function Nn(e,t){e.blockedOn===t&&(e.blockedOn=null,sa||(sa=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_f)))}function bn(e){function t(a){return Nn(a,e)}if(0<xs.length){Nn(xs[0],e);for(var r=1;r<xs.length;r++){var s=xs[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Kt!==null&&Nn(Kt,e),qt!==null&&Nn(qt,e),Wt!==null&&Nn(Wt,e),vn.forEach(t),wn.forEach(t),r=0;r<Qt.length;r++)s=Qt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Qt.length&&(r=Qt[0],r.blockedOn===null);)Li(r),r.blockedOn===null&&Qt.shift()}var Fr=ue.ReactCurrentBatchConfig,vs=!0;function Pf(e,t,r,s){var a=ke,i=Fr.transition;Fr.transition=null;try{ke=1,la(e,t,r,s)}finally{ke=a,Fr.transition=i}}function Rf(e,t,r,s){var a=ke,i=Fr.transition;Fr.transition=null;try{ke=4,la(e,t,r,s)}finally{ke=a,Fr.transition=i}}function la(e,t,r,s){if(vs){var a=aa(e,t,r,s);if(a===null)ba(e,t,s,ws,r),Fi(e,s);else if(Ef(a,e,t,r,s))s.stopPropagation();else if(Fi(e,s),t&4&&-1<Cf.indexOf(e)){for(;a!==null;){var i=An(a);if(i!==null&&_i(i),i=aa(e,t,r,s),i===null&&ba(e,t,s,ws,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else ba(e,t,s,null,r)}}var ws=null;function aa(e,t,r,s){if(ws=null,e=Ql(s),e=mr(e),e!==null)if(t=fr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yi(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ws=e,null}function Ai(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xf()){case Zl:return 1;case Si:return 4;case fs:case yf:return 16;case ki:return 536870912;default:return 16}default:return 16}}var Xt=null,oa=null,js=null;function Oi(){if(js)return js;var e,t=oa,r=t.length,s,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var u=r-e;for(s=1;s<=u&&t[r-s]===a[i-s];s++);return js=a.slice(e,1<s?1-s:void 0)}function Ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function zi(){return!1}function ct(e){function t(r,s,a,i,u){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(r=e[h],this[h]=r?r(i):i[h]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bs:zi,this.isPropagationStopped=zi,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=ct(Lr),Sn=q({},Lr,{view:0,detail:0}),Tf=ct(Sn),ca,ua,kn,Ss=q({},Sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kn&&(kn&&e.type==="mousemove"?(ca=e.screenX-kn.screenX,ua=e.screenY-kn.screenY):ua=ca=0,kn=e),ca)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Ii=ct(Ss),Ff=q({},Ss,{dataTransfer:0}),Lf=ct(Ff),Df=q({},Sn,{relatedTarget:0}),da=ct(Df),Af=q({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Of=ct(Af),zf=q({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),If=ct(zf),Mf=q({},Lr,{data:0}),Mi=ct(Mf),Uf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bf[e])?!!t[e]:!1}function fa(){return Hf}var Vf=q({},Sn,{key:function(e){if(e.key){var t=Uf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$f[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kf=ct(Vf),qf=q({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=ct(qf),Wf=q({},Sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),Qf=ct(Wf),Xf=q({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=ct(Xf),Yf=q({},Ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gf=ct(Yf),Zf=[9,13,27,32],ma=x&&"CompositionEvent"in window,Cn=null;x&&"documentMode"in document&&(Cn=document.documentMode);var em=x&&"TextEvent"in window&&!Cn,$i=x&&(!ma||Cn&&8<Cn&&11>=Cn),Bi=" ",Hi=!1;function Vi(e,t){switch(e){case"keyup":return Zf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ki(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function tm(e,t){switch(e){case"compositionend":return Ki(t);case"keypress":return t.which!==32?null:(Hi=!0,Bi);case"textInput":return e=t.data,e===Bi&&Hi?null:e;default:return null}}function rm(e,t){if(Dr)return e==="compositionend"||!ma&&Vi(e,t)?(e=Oi(),js=oa=Xt=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $i&&t.locale!=="ko"?null:t.data;default:return null}}var nm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nm[e.type]:t==="textarea"}function Wi(e,t,r,s){mi(s),t=Ps(t,"onChange"),0<t.length&&(r=new ia("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var En=null,_n=null;function sm(e){dc(e,0)}function ks(e){var t=Mr(e);if(Ge(t))return e}function lm(e,t){if(e==="change")return t}var Qi=!1;if(x){var pa;if(x){var ha="oninput"in document;if(!ha){var Xi=document.createElement("div");Xi.setAttribute("oninput","return;"),ha=typeof Xi.oninput=="function"}pa=ha}else pa=!1;Qi=pa&&(!document.documentMode||9<document.documentMode)}function Ji(){En&&(En.detachEvent("onpropertychange",Yi),_n=En=null)}function Yi(e){if(e.propertyName==="value"&&ks(_n)){var t=[];Wi(t,_n,e,Ql(e)),xi(sm,t)}}function am(e,t,r){e==="focusin"?(Ji(),En=t,_n=r,En.attachEvent("onpropertychange",Yi)):e==="focusout"&&Ji()}function om(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ks(_n)}function im(e,t){if(e==="click")return ks(t)}function cm(e,t){if(e==="input"||e==="change")return ks(t)}function um(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:um;function Pn(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!k.call(t,a)||!Nt(e[a],t[a]))return!1}return!0}function Gi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zi(e,t){var r=Gi(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gi(r)}}function ec(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ec(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tc(){for(var e=window,t=dr();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=dr(e.document)}return t}function ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dm(e){var t=tc(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ec(r.ownerDocument.documentElement,r)){if(s!==null&&ga(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Zi(r,i);var u=Zi(r,s);a&&u&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fm=x&&"documentMode"in document&&11>=document.documentMode,Ar=null,xa=null,Rn=null,ya=!1;function rc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ya||Ar==null||Ar!==dr(s)||(s=Ar,"selectionStart"in s&&ga(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Rn&&Pn(Rn,s)||(Rn=s,s=Ps(xa,"onSelect"),0<s.length&&(t=new ia("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Ar)))}function Cs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Or={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},va={},nc={};x&&(nc=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Es(e){if(va[e])return va[e];if(!Or[e])return e;var t=Or[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in nc)return va[e]=t[r];return e}var sc=Es("animationend"),lc=Es("animationiteration"),ac=Es("animationstart"),oc=Es("transitionend"),ic=new Map,cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){ic.set(e,t),p(t,[e])}for(var wa=0;wa<cc.length;wa++){var ja=cc[wa],mm=ja.toLowerCase(),pm=ja[0].toUpperCase()+ja.slice(1);Jt(mm,"on"+pm)}Jt(sc,"onAnimationEnd"),Jt(lc,"onAnimationIteration"),Jt(ac,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(oc,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function uc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,mf(s,t,void 0,e),e.currentTarget=null}function dc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var u=s.length-1;0<=u;u--){var h=s[u],y=h.instance,T=h.currentTarget;if(h=h.listener,y!==i&&a.isPropagationStopped())break e;uc(a,h,T),i=y}else for(u=0;u<s.length;u++){if(h=s[u],y=h.instance,T=h.currentTarget,h=h.listener,y!==i&&a.isPropagationStopped())break e;uc(a,h,T),i=y}}}if(ds)throw e=Gl,ds=!1,Gl=null,e}function _e(e,t){var r=t[Pa];r===void 0&&(r=t[Pa]=new Set);var s=e+"__bubble";r.has(s)||(fc(t,e,2,!1),r.add(s))}function Na(e,t,r){var s=0;t&&(s|=4),fc(r,e,s,t)}var _s="_reactListening"+Math.random().toString(36).slice(2);function Fn(e){if(!e[_s]){e[_s]=!0,d.forEach(function(r){r!=="selectionchange"&&(hm.has(r)||Na(r,!1,e),Na(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_s]||(t[_s]=!0,Na("selectionchange",!1,t))}}function fc(e,t,r,s){switch(Ai(t)){case 1:var a=Pf;break;case 4:a=Rf;break;default:a=la}r=a.bind(null,t,r,e),a=void 0,!Yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ba(e,t,r,s,a){var i=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var u=s.tag;if(u===3||u===4){var h=s.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(u===4)for(u=s.return;u!==null;){var y=u.tag;if((y===3||y===4)&&(y=u.stateNode.containerInfo,y===a||y.nodeType===8&&y.parentNode===a))return;u=u.return}for(;h!==null;){if(u=mr(h),u===null)return;if(y=u.tag,y===5||y===6){s=i=u;continue e}h=h.parentNode}}s=s.return}xi(function(){var T=i,$=Ql(r),H=[];e:{var U=ic.get(e);if(U!==void 0){var G=ia,te=e;switch(e){case"keypress":if(Ns(r)===0)break e;case"keydown":case"keyup":G=Kf;break;case"focusin":te="focus",G=da;break;case"focusout":te="blur",G=da;break;case"beforeblur":case"afterblur":G=da;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Qf;break;case sc:case lc:case ac:G=Of;break;case oc:G=Jf;break;case"scroll":G=Tf;break;case"wheel":G=Gf;break;case"copy":case"cut":case"paste":G=If;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ui}var re=(t&4)!==0,Oe=!re&&e==="scroll",E=re?U!==null?U+"Capture":null:U;re=[];for(var j=T,R;j!==null;){R=j;var V=R.stateNode;if(R.tag===5&&V!==null&&(R=V,E!==null&&(V=pn(j,E),V!=null&&re.push(Ln(j,V,R)))),Oe)break;j=j.return}0<re.length&&(U=new G(U,te,null,r,$),H.push({event:U,listeners:re}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",U&&r!==Wl&&(te=r.relatedTarget||r.fromElement)&&(mr(te)||te[zt]))break e;if((G||U)&&(U=$.window===$?$:(U=$.ownerDocument)?U.defaultView||U.parentWindow:window,G?(te=r.relatedTarget||r.toElement,G=T,te=te?mr(te):null,te!==null&&(Oe=fr(te),te!==Oe||te.tag!==5&&te.tag!==6)&&(te=null)):(G=null,te=T),G!==te)){if(re=Ii,V="onMouseLeave",E="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(re=Ui,V="onPointerLeave",E="onPointerEnter",j="pointer"),Oe=G==null?U:Mr(G),R=te==null?U:Mr(te),U=new re(V,j+"leave",G,r,$),U.target=Oe,U.relatedTarget=R,V=null,mr($)===T&&(re=new re(E,j+"enter",te,r,$),re.target=R,re.relatedTarget=Oe,V=re),Oe=V,G&&te)t:{for(re=G,E=te,j=0,R=re;R;R=zr(R))j++;for(R=0,V=E;V;V=zr(V))R++;for(;0<j-R;)re=zr(re),j--;for(;0<R-j;)E=zr(E),R--;for(;j--;){if(re===E||E!==null&&re===E.alternate)break t;re=zr(re),E=zr(E)}re=null}else re=null;G!==null&&mc(H,U,G,re,!1),te!==null&&Oe!==null&&mc(H,Oe,te,re,!0)}}e:{if(U=T?Mr(T):window,G=U.nodeName&&U.nodeName.toLowerCase(),G==="select"||G==="input"&&U.type==="file")var ne=lm;else if(qi(U))if(Qi)ne=cm;else{ne=om;var oe=am}else(G=U.nodeName)&&G.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ne=im);if(ne&&(ne=ne(e,T))){Wi(H,ne,r,$);break e}oe&&oe(e,U,T),e==="focusout"&&(oe=U._wrapperState)&&oe.controlled&&U.type==="number"&&Bl(U,"number",U.value)}switch(oe=T?Mr(T):window,e){case"focusin":(qi(oe)||oe.contentEditable==="true")&&(Ar=oe,xa=T,Rn=null);break;case"focusout":Rn=xa=Ar=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,rc(H,r,$);break;case"selectionchange":if(fm)break;case"keydown":case"keyup":rc(H,r,$)}var ie;if(ma)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Dr?Vi(e,r)&&(fe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(fe="onCompositionStart");fe&&($i&&r.locale!=="ko"&&(Dr||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Dr&&(ie=Oi()):(Xt=$,oa="value"in Xt?Xt.value:Xt.textContent,Dr=!0)),oe=Ps(T,fe),0<oe.length&&(fe=new Mi(fe,e,null,r,$),H.push({event:fe,listeners:oe}),ie?fe.data=ie:(ie=Ki(r),ie!==null&&(fe.data=ie)))),(ie=em?tm(e,r):rm(e,r))&&(T=Ps(T,"onBeforeInput"),0<T.length&&($=new Mi("onBeforeInput","beforeinput",null,r,$),H.push({event:$,listeners:T}),$.data=ie))}dc(H,t)})}function Ln(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ps(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=pn(e,r),i!=null&&s.unshift(Ln(e,i,a)),i=pn(e,t),i!=null&&s.push(Ln(e,i,a))),e=e.return}return s}function zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mc(e,t,r,s,a){for(var i=t._reactName,u=[];r!==null&&r!==s;){var h=r,y=h.alternate,T=h.stateNode;if(y!==null&&y===s)break;h.tag===5&&T!==null&&(h=T,a?(y=pn(r,i),y!=null&&u.unshift(Ln(r,y,h))):a||(y=pn(r,i),y!=null&&u.push(Ln(r,y,h)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var gm=/\r\n?/g,xm=/\u0000|\uFFFD/g;function pc(e){return(typeof e=="string"?e:""+e).replace(gm,`
`).replace(xm,"")}function Rs(e,t,r){if(t=pc(t),pc(e)!==t&&r)throw Error(c(425))}function Ts(){}var Sa=null,ka=null;function Ca(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ea=typeof setTimeout=="function"?setTimeout:void 0,ym=typeof clearTimeout=="function"?clearTimeout:void 0,hc=typeof Promise=="function"?Promise:void 0,vm=typeof queueMicrotask=="function"?queueMicrotask:typeof hc<"u"?function(e){return hc.resolve(null).then(e).catch(wm)}:Ea;function wm(e){setTimeout(function(){throw e})}function _a(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),bn(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);bn(t)}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Ir,Dn="__reactProps$"+Ir,zt="__reactContainer$"+Ir,Pa="__reactEvents$"+Ir,jm="__reactListeners$"+Ir,Nm="__reactHandles$"+Ir;function mr(e){var t=e[Ft];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zt]||r[Ft]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gc(e);e!==null;){if(r=e[Ft])return r;e=gc(e)}return t}e=r,r=e.parentNode}return null}function An(e){return e=e[Ft]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function Fs(e){return e[Dn]||null}var Ra=[],Ur=-1;function Gt(e){return{current:e}}function Pe(e){0>Ur||(e.current=Ra[Ur],Ra[Ur]=null,Ur--)}function Ee(e,t){Ur++,Ra[Ur]=e.current,e.current=t}var Zt={},We=Gt(Zt),tt=Gt(!1),pr=Zt;function $r(e,t){var r=e.type.contextTypes;if(!r)return Zt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function rt(e){return e=e.childContextTypes,e!=null}function Ls(){Pe(tt),Pe(We)}function xc(e,t,r){if(We.current!==Zt)throw Error(c(168));Ee(We,t),Ee(tt,r)}function yc(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(c(108,Ce(e)||"Unknown",a));return q({},r,s)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zt,pr=We.current,Ee(We,e),Ee(tt,tt.current),!0}function vc(e,t,r){var s=e.stateNode;if(!s)throw Error(c(169));r?(e=yc(e,t,pr),s.__reactInternalMemoizedMergedChildContext=e,Pe(tt),Pe(We),Ee(We,e)):Pe(tt),Ee(tt,r)}var It=null,As=!1,Ta=!1;function wc(e){It===null?It=[e]:It.push(e)}function bm(e){As=!0,wc(e)}function er(){if(!Ta&&It!==null){Ta=!0;var e=0,t=ke;try{var r=It;for(ke=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}It=null,As=!1}catch(a){throw It!==null&&(It=It.slice(e+1)),Ni(Zl,er),a}finally{ke=t,Ta=!1}}return null}var Br=[],Hr=0,Os=null,zs=0,pt=[],ht=0,hr=null,Mt=1,Ut="";function gr(e,t){Br[Hr++]=zs,Br[Hr++]=Os,Os=e,zs=t}function jc(e,t,r){pt[ht++]=Mt,pt[ht++]=Ut,pt[ht++]=hr,hr=e;var s=Mt;e=Ut;var a=32-jt(s)-1;s&=~(1<<a),r+=1;var i=32-jt(t)+a;if(30<i){var u=a-a%5;i=(s&(1<<u)-1).toString(32),s>>=u,a-=u,Mt=1<<32-jt(t)+a|r<<a|s,Ut=i+e}else Mt=1<<i|r<<a|s,Ut=e}function Fa(e){e.return!==null&&(gr(e,1),jc(e,1,0))}function La(e){for(;e===Os;)Os=Br[--Hr],Br[Hr]=null,zs=Br[--Hr],Br[Hr]=null;for(;e===hr;)hr=pt[--ht],pt[ht]=null,Ut=pt[--ht],pt[ht]=null,Mt=pt[--ht],pt[ht]=null}var ut=null,dt=null,Te=!1,bt=null;function Nc(e,t){var r=vt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,dt=Yt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hr!==null?{id:Mt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ut=e,dt=null,!0):!1;default:return!1}}function Da(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Aa(e){if(Te){var t=dt;if(t){var r=t;if(!bc(e,t)){if(Da(e))throw Error(c(418));t=Yt(r.nextSibling);var s=ut;t&&bc(e,t)?Nc(s,r):(e.flags=e.flags&-4097|2,Te=!1,ut=e)}}else{if(Da(e))throw Error(c(418));e.flags=e.flags&-4097|2,Te=!1,ut=e}}}function Sc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Is(e){if(e!==ut)return!1;if(!Te)return Sc(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ca(e.type,e.memoizedProps)),t&&(t=dt)){if(Da(e))throw kc(),Error(c(418));for(;t;)Nc(e,t),t=Yt(t.nextSibling)}if(Sc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dt=Yt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ut?Yt(e.stateNode.nextSibling):null;return!0}function kc(){for(var e=dt;e;)e=Yt(e.nextSibling)}function Vr(){dt=ut=null,Te=!1}function Oa(e){bt===null?bt=[e]:bt.push(e)}var Sm=ue.ReactCurrentBatchConfig;function On(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(c(309));var s=r.stateNode}if(!s)throw Error(c(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(u){var h=a.refs;u===null?delete h[i]:h[i]=u},t._stringRef=i,t)}if(typeof e!="string")throw Error(c(284));if(!r._owner)throw Error(c(290,e))}return e}function Ms(e,t){throw e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cc(e){var t=e._init;return t(e._payload)}function Ec(e){function t(E,j){if(e){var R=E.deletions;R===null?(E.deletions=[j],E.flags|=16):R.push(j)}}function r(E,j){if(!e)return null;for(;j!==null;)t(E,j),j=j.sibling;return null}function s(E,j){for(E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function a(E,j){return E=ir(E,j),E.index=0,E.sibling=null,E}function i(E,j,R){return E.index=R,e?(R=E.alternate,R!==null?(R=R.index,R<j?(E.flags|=2,j):R):(E.flags|=2,j)):(E.flags|=1048576,j)}function u(E){return e&&E.alternate===null&&(E.flags|=2),E}function h(E,j,R,V){return j===null||j.tag!==6?(j=_o(R,E.mode,V),j.return=E,j):(j=a(j,R),j.return=E,j)}function y(E,j,R,V){var ne=R.type;return ne===D?$(E,j,R.props.children,V,R.key):j!==null&&(j.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Re&&Cc(ne)===j.type)?(V=a(j,R.props),V.ref=On(E,j,R),V.return=E,V):(V=cl(R.type,R.key,R.props,null,E.mode,V),V.ref=On(E,j,R),V.return=E,V)}function T(E,j,R,V){return j===null||j.tag!==4||j.stateNode.containerInfo!==R.containerInfo||j.stateNode.implementation!==R.implementation?(j=Po(R,E.mode,V),j.return=E,j):(j=a(j,R.children||[]),j.return=E,j)}function $(E,j,R,V,ne){return j===null||j.tag!==7?(j=Sr(R,E.mode,V,ne),j.return=E,j):(j=a(j,R),j.return=E,j)}function H(E,j,R){if(typeof j=="string"&&j!==""||typeof j=="number")return j=_o(""+j,E.mode,R),j.return=E,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case me:return R=cl(j.type,j.key,j.props,null,E.mode,R),R.ref=On(E,null,j),R.return=E,R;case pe:return j=Po(j,E.mode,R),j.return=E,j;case Re:var V=j._init;return H(E,V(j._payload),R)}if(dn(j)||X(j))return j=Sr(j,E.mode,R,null),j.return=E,j;Ms(E,j)}return null}function U(E,j,R,V){var ne=j!==null?j.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return ne!==null?null:h(E,j,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case me:return R.key===ne?y(E,j,R,V):null;case pe:return R.key===ne?T(E,j,R,V):null;case Re:return ne=R._init,U(E,j,ne(R._payload),V)}if(dn(R)||X(R))return ne!==null?null:$(E,j,R,V,null);Ms(E,R)}return null}function G(E,j,R,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number")return E=E.get(R)||null,h(j,E,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case me:return E=E.get(V.key===null?R:V.key)||null,y(j,E,V,ne);case pe:return E=E.get(V.key===null?R:V.key)||null,T(j,E,V,ne);case Re:var oe=V._init;return G(E,j,R,oe(V._payload),ne)}if(dn(V)||X(V))return E=E.get(R)||null,$(j,E,V,ne,null);Ms(j,V)}return null}function te(E,j,R,V){for(var ne=null,oe=null,ie=j,fe=j=0,Ve=null;ie!==null&&fe<R.length;fe++){ie.index>fe?(Ve=ie,ie=null):Ve=ie.sibling;var Ne=U(E,ie,R[fe],V);if(Ne===null){ie===null&&(ie=Ve);break}e&&ie&&Ne.alternate===null&&t(E,ie),j=i(Ne,j,fe),oe===null?ne=Ne:oe.sibling=Ne,oe=Ne,ie=Ve}if(fe===R.length)return r(E,ie),Te&&gr(E,fe),ne;if(ie===null){for(;fe<R.length;fe++)ie=H(E,R[fe],V),ie!==null&&(j=i(ie,j,fe),oe===null?ne=ie:oe.sibling=ie,oe=ie);return Te&&gr(E,fe),ne}for(ie=s(E,ie);fe<R.length;fe++)Ve=G(ie,E,fe,R[fe],V),Ve!==null&&(e&&Ve.alternate!==null&&ie.delete(Ve.key===null?fe:Ve.key),j=i(Ve,j,fe),oe===null?ne=Ve:oe.sibling=Ve,oe=Ve);return e&&ie.forEach(function(cr){return t(E,cr)}),Te&&gr(E,fe),ne}function re(E,j,R,V){var ne=X(R);if(typeof ne!="function")throw Error(c(150));if(R=ne.call(R),R==null)throw Error(c(151));for(var oe=ne=null,ie=j,fe=j=0,Ve=null,Ne=R.next();ie!==null&&!Ne.done;fe++,Ne=R.next()){ie.index>fe?(Ve=ie,ie=null):Ve=ie.sibling;var cr=U(E,ie,Ne.value,V);if(cr===null){ie===null&&(ie=Ve);break}e&&ie&&cr.alternate===null&&t(E,ie),j=i(cr,j,fe),oe===null?ne=cr:oe.sibling=cr,oe=cr,ie=Ve}if(Ne.done)return r(E,ie),Te&&gr(E,fe),ne;if(ie===null){for(;!Ne.done;fe++,Ne=R.next())Ne=H(E,Ne.value,V),Ne!==null&&(j=i(Ne,j,fe),oe===null?ne=Ne:oe.sibling=Ne,oe=Ne);return Te&&gr(E,fe),ne}for(ie=s(E,ie);!Ne.done;fe++,Ne=R.next())Ne=G(ie,E,fe,Ne.value,V),Ne!==null&&(e&&Ne.alternate!==null&&ie.delete(Ne.key===null?fe:Ne.key),j=i(Ne,j,fe),oe===null?ne=Ne:oe.sibling=Ne,oe=Ne);return e&&ie.forEach(function(np){return t(E,np)}),Te&&gr(E,fe),ne}function Oe(E,j,R,V){if(typeof R=="object"&&R!==null&&R.type===D&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case me:e:{for(var ne=R.key,oe=j;oe!==null;){if(oe.key===ne){if(ne=R.type,ne===D){if(oe.tag===7){r(E,oe.sibling),j=a(oe,R.props.children),j.return=E,E=j;break e}}else if(oe.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Re&&Cc(ne)===oe.type){r(E,oe.sibling),j=a(oe,R.props),j.ref=On(E,oe,R),j.return=E,E=j;break e}r(E,oe);break}else t(E,oe);oe=oe.sibling}R.type===D?(j=Sr(R.props.children,E.mode,V,R.key),j.return=E,E=j):(V=cl(R.type,R.key,R.props,null,E.mode,V),V.ref=On(E,j,R),V.return=E,E=V)}return u(E);case pe:e:{for(oe=R.key;j!==null;){if(j.key===oe)if(j.tag===4&&j.stateNode.containerInfo===R.containerInfo&&j.stateNode.implementation===R.implementation){r(E,j.sibling),j=a(j,R.children||[]),j.return=E,E=j;break e}else{r(E,j);break}else t(E,j);j=j.sibling}j=Po(R,E.mode,V),j.return=E,E=j}return u(E);case Re:return oe=R._init,Oe(E,j,oe(R._payload),V)}if(dn(R))return te(E,j,R,V);if(X(R))return re(E,j,R,V);Ms(E,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,j!==null&&j.tag===6?(r(E,j.sibling),j=a(j,R),j.return=E,E=j):(r(E,j),j=_o(R,E.mode,V),j.return=E,E=j),u(E)):r(E,j)}return Oe}var Kr=Ec(!0),_c=Ec(!1),Us=Gt(null),$s=null,qr=null,za=null;function Ia(){za=qr=$s=null}function Ma(e){var t=Us.current;Pe(Us),e._currentValue=t}function Ua(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Wr(e,t){$s=e,za=qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(za!==e)if(e={context:e,memoizedValue:t,next:null},qr===null){if($s===null)throw Error(c(308));qr=e,$s.dependencies={lanes:0,firstContext:e}}else qr=qr.next=e;return t}var xr=null;function $a(e){xr===null?xr=[e]:xr.push(e)}function Pc(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,$a(t)):(r.next=a.next,a.next=r),t.interleaved=r,$t(e,s)}function $t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var tr=!1;function Ba(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(we&2)!==0){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,$t(e,r)}return a=s.interleaved,a===null?(t.next=t,$a(s)):(t.next=a.next,a.next=t),s.interleaved=t,$t(e,r)}function Bs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,ra(e,r)}}function Tc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=u:i=i.next=u,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hs(e,t,r,s){var a=e.updateQueue;tr=!1;var i=a.firstBaseUpdate,u=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var y=h,T=y.next;y.next=null,u===null?i=T:u.next=T,u=y;var $=e.alternate;$!==null&&($=$.updateQueue,h=$.lastBaseUpdate,h!==u&&(h===null?$.firstBaseUpdate=T:h.next=T,$.lastBaseUpdate=y))}if(i!==null){var H=a.baseState;u=0,$=T=y=null,h=i;do{var U=h.lane,G=h.eventTime;if((s&U)===U){$!==null&&($=$.next={eventTime:G,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var te=e,re=h;switch(U=t,G=r,re.tag){case 1:if(te=re.payload,typeof te=="function"){H=te.call(G,H,U);break e}H=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,U=typeof te=="function"?te.call(G,H,U):te,U==null)break e;H=q({},H,U);break e;case 2:tr=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,U=a.effects,U===null?a.effects=[h]:U.push(h))}else G={eventTime:G,lane:U,tag:h.tag,payload:h.payload,callback:h.callback,next:null},$===null?(T=$=G,y=H):$=$.next=G,u|=U;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;U=h,h=U.next,U.next=null,a.lastBaseUpdate=U,a.shared.pending=null}}while(!0);if($===null&&(y=H),a.baseState=y,a.firstBaseUpdate=T,a.lastBaseUpdate=$,t=a.shared.interleaved,t!==null){a=t;do u|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);wr|=u,e.lanes=u,e.memoizedState=H}}function Fc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(c(191,a));a.call(s)}}}var zn={},Lt=Gt(zn),In=Gt(zn),Mn=Gt(zn);function yr(e){if(e===zn)throw Error(c(174));return e}function Ha(e,t){switch(Ee(Mn,t),Ee(In,e),Ee(Lt,zn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vl(t,e)}Pe(Lt),Ee(Lt,t)}function Qr(){Pe(Lt),Pe(In),Pe(Mn)}function Lc(e){yr(Mn.current);var t=yr(Lt.current),r=Vl(t,e.type);t!==r&&(Ee(In,e),Ee(Lt,r))}function Va(e){In.current===e&&(Pe(Lt),Pe(In))}var Fe=Gt(0);function Vs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ka=[];function qa(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var Ks=ue.ReactCurrentDispatcher,Wa=ue.ReactCurrentBatchConfig,vr=0,Le=null,Ue=null,Be=null,qs=!1,Un=!1,$n=0,km=0;function Qe(){throw Error(c(321))}function Qa(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nt(e[r],t[r]))return!1;return!0}function Xa(e,t,r,s,a,i){if(vr=i,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ks.current=e===null||e.memoizedState===null?Pm:Rm,e=r(s,a),Un){i=0;do{if(Un=!1,$n=0,25<=i)throw Error(c(301));i+=1,Be=Ue=null,t.updateQueue=null,Ks.current=Tm,e=r(s,a)}while(Un)}if(Ks.current=Xs,t=Ue!==null&&Ue.next!==null,vr=0,Be=Ue=Le=null,qs=!1,t)throw Error(c(300));return e}function Ja(){var e=$n!==0;return $n=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Le.memoizedState=Be=e:Be=Be.next=e,Be}function xt(){if(Ue===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Be===null?Le.memoizedState:Be.next;if(t!==null)Be=t,Ue=e;else{if(e===null)throw Error(c(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Be===null?Le.memoizedState=Be=e:Be=Be.next=e}return Be}function Bn(e,t){return typeof t=="function"?t(e):t}function Ya(e){var t=xt(),r=t.queue;if(r===null)throw Error(c(311));r.lastRenderedReducer=e;var s=Ue,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var u=a.next;a.next=i.next,i.next=u}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var h=u=null,y=null,T=i;do{var $=T.lane;if((vr&$)===$)y!==null&&(y=y.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),s=T.hasEagerState?T.eagerState:e(s,T.action);else{var H={lane:$,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};y===null?(h=y=H,u=s):y=y.next=H,Le.lanes|=$,wr|=$}T=T.next}while(T!==null&&T!==i);y===null?u=s:y.next=h,Nt(s,t.memoizedState)||(nt=!0),t.memoizedState=s,t.baseState=u,t.baseQueue=y,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Le.lanes|=i,wr|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ga(e){var t=xt(),r=t.queue;if(r===null)throw Error(c(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var u=a=a.next;do i=e(i,u.action),u=u.next;while(u!==a);Nt(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function Dc(){}function Ac(e,t){var r=Le,s=xt(),a=t(),i=!Nt(s.memoizedState,a);if(i&&(s.memoizedState=a,nt=!0),s=s.queue,Za(Ic.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(r.flags|=2048,Hn(9,zc.bind(null,r,s,a,t),void 0,null),He===null)throw Error(c(349));(vr&30)!==0||Oc(r,t,a)}return a}function Oc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zc(e,t,r,s){t.value=r,t.getSnapshot=s,Mc(t)&&Uc(e)}function Ic(e,t,r){return r(function(){Mc(t)&&Uc(e)})}function Mc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nt(e,r)}catch{return!0}}function Uc(e){var t=$t(e,1);t!==null&&Et(t,e,1,-1)}function $c(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},t.queue=e,e=e.dispatch=_m.bind(null,Le,e),[t.memoizedState,e]}function Hn(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Bc(){return xt().memoizedState}function Ws(e,t,r,s){var a=Dt();Le.flags|=e,a.memoizedState=Hn(1|t,r,void 0,s===void 0?null:s)}function Qs(e,t,r,s){var a=xt();s=s===void 0?null:s;var i=void 0;if(Ue!==null){var u=Ue.memoizedState;if(i=u.destroy,s!==null&&Qa(s,u.deps)){a.memoizedState=Hn(t,r,i,s);return}}Le.flags|=e,a.memoizedState=Hn(1|t,r,i,s)}function Hc(e,t){return Ws(8390656,8,e,t)}function Za(e,t){return Qs(2048,8,e,t)}function Vc(e,t){return Qs(4,2,e,t)}function Kc(e,t){return Qs(4,4,e,t)}function qc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wc(e,t,r){return r=r!=null?r.concat([e]):null,Qs(4,4,qc.bind(null,t,e),r)}function eo(){}function Qc(e,t){var r=xt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Qa(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Xc(e,t){var r=xt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Qa(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Jc(e,t,r){return(vr&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r):(Nt(r,t)||(r=Ci(),Le.lanes|=r,wr|=r,e.baseState=!0),t)}function Cm(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var s=Wa.transition;Wa.transition={};try{e(!1),t()}finally{ke=r,Wa.transition=s}}function Yc(){return xt().memoizedState}function Em(e,t,r){var s=ar(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Gc(e))Zc(t,r);else if(r=Pc(e,t,r,s),r!==null){var a=et();Et(r,e,s,a),eu(r,t,s)}}function _m(e,t,r){var s=ar(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gc(e))Zc(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var u=t.lastRenderedState,h=i(u,r);if(a.hasEagerState=!0,a.eagerState=h,Nt(h,u)){var y=t.interleaved;y===null?(a.next=a,$a(t)):(a.next=y.next,y.next=a),t.interleaved=a;return}}catch{}finally{}r=Pc(e,t,a,s),r!==null&&(a=et(),Et(r,e,s,a),eu(r,t,s))}}function Gc(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Zc(e,t){Un=qs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function eu(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,ra(e,r)}}var Xs={readContext:gt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Pm={readContext:gt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Hc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ws(4194308,4,qc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var r=Dt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Dt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Em.bind(null,Le,e),[s.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:$c,useDebugValue:eo,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=$c(!1),t=e[0];return e=Cm.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Le,a=Dt();if(Te){if(r===void 0)throw Error(c(407));r=r()}else{if(r=t(),He===null)throw Error(c(349));(vr&30)!==0||Oc(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Hc(Ic.bind(null,s,i,e),[e]),s.flags|=2048,Hn(9,zc.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Dt(),t=He.identifierPrefix;if(Te){var r=Ut,s=Mt;r=(s&~(1<<32-jt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=$n++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=km++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rm={readContext:gt,useCallback:Qc,useContext:gt,useEffect:Za,useImperativeHandle:Wc,useInsertionEffect:Vc,useLayoutEffect:Kc,useMemo:Xc,useReducer:Ya,useRef:Bc,useState:function(){return Ya(Bn)},useDebugValue:eo,useDeferredValue:function(e){var t=xt();return Jc(t,Ue.memoizedState,e)},useTransition:function(){var e=Ya(Bn)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Dc,useSyncExternalStore:Ac,useId:Yc,unstable_isNewReconciler:!1},Tm={readContext:gt,useCallback:Qc,useContext:gt,useEffect:Za,useImperativeHandle:Wc,useInsertionEffect:Vc,useLayoutEffect:Kc,useMemo:Xc,useReducer:Ga,useRef:Bc,useState:function(){return Ga(Bn)},useDebugValue:eo,useDeferredValue:function(e){var t=xt();return Ue===null?t.memoizedState=e:Jc(t,Ue.memoizedState,e)},useTransition:function(){var e=Ga(Bn)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Dc,useSyncExternalStore:Ac,useId:Yc,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function to(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:q({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Js={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=et(),a=ar(e),i=Bt(s,a);i.payload=t,r!=null&&(i.callback=r),t=rr(e,i,a),t!==null&&(Et(t,e,a,s),Bs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=et(),a=ar(e),i=Bt(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=rr(e,i,a),t!==null&&(Et(t,e,a,s),Bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=et(),s=ar(e),a=Bt(r,s);a.tag=2,t!=null&&(a.callback=t),t=rr(e,a,s),t!==null&&(Et(t,e,s,r),Bs(t,e,s))}};function tu(e,t,r,s,a,i,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,u):t.prototype&&t.prototype.isPureReactComponent?!Pn(r,s)||!Pn(a,i):!0}function ru(e,t,r){var s=!1,a=Zt,i=t.contextType;return typeof i=="object"&&i!==null?i=gt(i):(a=rt(t)?pr:We.current,s=t.contextTypes,i=(s=s!=null)?$r(e,a):Zt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Js,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function nu(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Js.enqueueReplaceState(t,t.state,null)}function ro(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ba(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=gt(i):(i=rt(t)?pr:We.current,a.context=$r(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(to(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Js.enqueueReplaceState(a,a.state,null),Hs(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var r="",s=t;do r+=Y(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function no(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function so(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Fm=typeof WeakMap=="function"?WeakMap:Map;function su(e,t,r){r=Bt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){nl||(nl=!0,wo=s),so(e,t)},r}function lu(e,t,r){r=Bt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){so(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){so(e,t),typeof s!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function au(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Fm;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=qm.bind(null,e,t,r),t.then(e,e))}function ou(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iu(e,t,r,s,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Bt(-1,1),t.tag=2,rr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Lm=ue.ReactCurrentOwner,nt=!1;function Ze(e,t,r,s){t.child=e===null?_c(t,null,r,s):Kr(t,e.child,r,s)}function cu(e,t,r,s,a){r=r.render;var i=t.ref;return Wr(t,a),s=Xa(e,t,r,s,i,a),r=Ja(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ht(e,t,a)):(Te&&r&&Fa(t),t.flags|=1,Ze(e,t,s,a),t.child)}function uu(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!Eo(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,du(e,t,i,s,a)):(e=cl(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&a)===0){var u=i.memoizedProps;if(r=r.compare,r=r!==null?r:Pn,r(u,s)&&e.ref===t.ref)return Ht(e,t,a)}return t.flags|=1,e=ir(i,s),e.ref=t.ref,e.return=t,t.child=e}function du(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Pn(i,s)&&e.ref===t.ref)if(nt=!1,t.pendingProps=s=i,(e.lanes&a)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Ht(e,t,a)}return lo(e,t,r,s,a)}function fu(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Yr,ft),ft|=r;else{if((r&1073741824)===0)return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Yr,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Ee(Yr,ft),ft|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Ee(Yr,ft),ft|=s;return Ze(e,t,a,r),t.child}function mu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lo(e,t,r,s,a){var i=rt(r)?pr:We.current;return i=$r(t,i),Wr(t,a),r=Xa(e,t,r,s,i,a),s=Ja(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ht(e,t,a)):(Te&&s&&Fa(t),t.flags|=1,Ze(e,t,r,a),t.child)}function pu(e,t,r,s,a){if(rt(r)){var i=!0;Ds(t)}else i=!1;if(Wr(t,a),t.stateNode===null)Gs(e,t),ru(t,r,s),ro(t,r,s,a),s=!0;else if(e===null){var u=t.stateNode,h=t.memoizedProps;u.props=h;var y=u.context,T=r.contextType;typeof T=="object"&&T!==null?T=gt(T):(T=rt(r)?pr:We.current,T=$r(t,T));var $=r.getDerivedStateFromProps,H=typeof $=="function"||typeof u.getSnapshotBeforeUpdate=="function";H||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==s||y!==T)&&nu(t,u,s,T),tr=!1;var U=t.memoizedState;u.state=U,Hs(t,s,u,a),y=t.memoizedState,h!==s||U!==y||tt.current||tr?(typeof $=="function"&&(to(t,r,$,s),y=t.memoizedState),(h=tr||tu(t,r,h,s,U,y,T))?(H||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=y),u.props=s,u.state=y,u.context=T,s=h):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Rc(e,t),h=t.memoizedProps,T=t.type===t.elementType?h:St(t.type,h),u.props=T,H=t.pendingProps,U=u.context,y=r.contextType,typeof y=="object"&&y!==null?y=gt(y):(y=rt(r)?pr:We.current,y=$r(t,y));var G=r.getDerivedStateFromProps;($=typeof G=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==H||U!==y)&&nu(t,u,s,y),tr=!1,U=t.memoizedState,u.state=U,Hs(t,s,u,a);var te=t.memoizedState;h!==H||U!==te||tt.current||tr?(typeof G=="function"&&(to(t,r,G,s),te=t.memoizedState),(T=tr||tu(t,r,T,s,U,te,y)||!1)?($||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,te,y),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,te,y)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=te),u.props=s,u.state=te,u.context=y,s=T):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),s=!1)}return ao(e,t,r,s,i,a)}function ao(e,t,r,s,a,i){mu(e,t);var u=(t.flags&128)!==0;if(!s&&!u)return a&&vc(t,r,!1),Ht(e,t,i);s=t.stateNode,Lm.current=t;var h=u&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&u?(t.child=Kr(t,e.child,null,i),t.child=Kr(t,null,h,i)):Ze(e,t,h,i),t.memoizedState=s.state,a&&vc(t,r,!0),t.child}function hu(e){var t=e.stateNode;t.pendingContext?xc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xc(e,t.context,!1),Ha(e,t.containerInfo)}function gu(e,t,r,s,a){return Vr(),Oa(a),t.flags|=256,Ze(e,t,r,s),t.child}var oo={dehydrated:null,treeContext:null,retryLane:0};function io(e){return{baseLanes:e,cachePool:null,transitions:null}}function xu(e,t,r){var s=t.pendingProps,a=Fe.current,i=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(a&2)!==0),h?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ee(Fe,a&1),e===null)return Aa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(u=s.children,e=s.fallback,i?(s=t.mode,i=t.child,u={mode:"hidden",children:u},(s&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=u):i=ul(u,s,0,null),e=Sr(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=io(r),t.memoizedState=oo,e):co(t,u));if(a=e.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return Dm(e,t,u,s,h,a,r);if(i){i=s.fallback,u=t.mode,a=e.child,h=a.sibling;var y={mode:"hidden",children:s.children};return(u&1)===0&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=y,t.deletions=null):(s=ir(a,y),s.subtreeFlags=a.subtreeFlags&14680064),h!==null?i=ir(h,i):(i=Sr(i,u,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,u=e.child.memoizedState,u=u===null?io(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},i.memoizedState=u,i.childLanes=e.childLanes&~r,t.memoizedState=oo,s}return i=e.child,e=i.sibling,s=ir(i,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function co(e,t){return t=ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ys(e,t,r,s){return s!==null&&Oa(s),Kr(t,e.child,null,r),e=co(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dm(e,t,r,s,a,i,u){if(r)return t.flags&256?(t.flags&=-257,s=no(Error(c(422))),Ys(e,t,u,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=ul({mode:"visible",children:s.children},a,0,null),i=Sr(i,a,u,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,(t.mode&1)!==0&&Kr(t,e.child,null,u),t.child.memoizedState=io(u),t.memoizedState=oo,i);if((t.mode&1)===0)return Ys(e,t,u,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var h=s.dgst;return s=h,i=Error(c(419)),s=no(i,s,void 0),Ys(e,t,u,s)}if(h=(u&e.childLanes)!==0,nt||h){if(s=He,s!==null){switch(u&-u){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(s.suspendedLanes|u))!==0?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,$t(e,a),Et(s,e,a,-1))}return Co(),s=no(Error(c(421))),Ys(e,t,u,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Wm.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,dt=Yt(a.nextSibling),ut=t,Te=!0,bt=null,e!==null&&(pt[ht++]=Mt,pt[ht++]=Ut,pt[ht++]=hr,Mt=e.id,Ut=e.overflow,hr=t),t=co(t,s.children),t.flags|=4096,t)}function yu(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ua(e.return,t,r)}function uo(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function vu(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Ze(e,t,s.children,r),s=Fe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yu(e,r,t);else if(e.tag===19)yu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ee(Fe,s),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Vs(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),uo(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Vs(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}uo(t,!0,r,null,i);break;case"together":uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,r=ir(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ir(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Am(e,t,r){switch(t.tag){case 3:hu(t),Vr();break;case 5:Lc(t);break;case 1:rt(t.type)&&Ds(t);break;case 4:Ha(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Ee(Us,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ee(Fe,Fe.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?xu(e,t,r):(Ee(Fe,Fe.current&1),e=Ht(e,t,r),e!==null?e.sibling:null);Ee(Fe,Fe.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return vu(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ee(Fe,Fe.current),s)break;return null;case 22:case 23:return t.lanes=0,fu(e,t,r)}return Ht(e,t,r)}var wu,fo,ju,Nu;wu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},fo=function(){},ju=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,yr(Lt.current);var i=null;switch(r){case"input":a=Ul(e,a),s=Ul(e,s),i=[];break;case"select":a=q({},a,{value:void 0}),s=q({},s,{value:void 0}),i=[];break;case"textarea":a=Hl(e,a),s=Hl(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ts)}Kl(r,s);var u;r=null;for(T in a)if(!s.hasOwnProperty(T)&&a.hasOwnProperty(T)&&a[T]!=null)if(T==="style"){var h=a[T];for(u in h)h.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(f.hasOwnProperty(T)?i||(i=[]):(i=i||[]).push(T,null));for(T in s){var y=s[T];if(h=a?.[T],s.hasOwnProperty(T)&&y!==h&&(y!=null||h!=null))if(T==="style")if(h){for(u in h)!h.hasOwnProperty(u)||y&&y.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in y)y.hasOwnProperty(u)&&h[u]!==y[u]&&(r||(r={}),r[u]=y[u])}else r||(i||(i=[]),i.push(T,r)),r=y;else T==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,h=h?h.__html:void 0,y!=null&&h!==y&&(i=i||[]).push(T,y)):T==="children"?typeof y!="string"&&typeof y!="number"||(i=i||[]).push(T,""+y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(f.hasOwnProperty(T)?(y!=null&&T==="onScroll"&&_e("scroll",e),i||h===y||(i=[])):(i=i||[]).push(T,y))}r&&(i=i||[]).push("style",r);var T=i;(t.updateQueue=T)&&(t.flags|=4)}},Nu=function(e,t,r,s){r!==s&&(t.flags|=4)};function Vn(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Om(e,t,r){var s=t.pendingProps;switch(La(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return rt(t.type)&&Ls(),Xe(t),null;case 3:return s=t.stateNode,Qr(),Pe(tt),Pe(We),qa(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bt!==null&&(bo(bt),bt=null))),fo(e,t),Xe(t),null;case 5:Va(t);var a=yr(Mn.current);if(r=t.type,e!==null&&t.stateNode!=null)ju(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Xe(t),null}if(e=yr(Lt.current),Is(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Ft]=t,s[Dn]=i,e=(t.mode&1)!==0,r){case"dialog":_e("cancel",s),_e("close",s);break;case"iframe":case"object":case"embed":_e("load",s);break;case"video":case"audio":for(a=0;a<Tn.length;a++)_e(Tn[a],s);break;case"source":_e("error",s);break;case"img":case"image":case"link":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"input":ri(s,i),_e("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},_e("invalid",s);break;case"textarea":li(s,i),_e("invalid",s)}Kl(r,i),a=null;for(var u in i)if(i.hasOwnProperty(u)){var h=i[u];u==="children"?typeof h=="string"?s.textContent!==h&&(i.suppressHydrationWarning!==!0&&Rs(s.textContent,h,e),a=["children",h]):typeof h=="number"&&s.textContent!==""+h&&(i.suppressHydrationWarning!==!0&&Rs(s.textContent,h,e),a=["children",""+h]):f.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&_e("scroll",s)}switch(r){case"input":be(s),si(s,i,!0);break;case"textarea":be(s),oi(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Ts)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{u=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ii(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=u.createElement(r,{is:s.is}):(e=u.createElement(r),r==="select"&&(u=e,s.multiple?u.multiple=!0:s.size&&(u.size=s.size))):e=u.createElementNS(e,r),e[Ft]=t,e[Dn]=s,wu(e,t,!1,!1),t.stateNode=e;e:{switch(u=ql(r,s),r){case"dialog":_e("cancel",e),_e("close",e),a=s;break;case"iframe":case"object":case"embed":_e("load",e),a=s;break;case"video":case"audio":for(a=0;a<Tn.length;a++)_e(Tn[a],e);a=s;break;case"source":_e("error",e),a=s;break;case"img":case"image":case"link":_e("error",e),_e("load",e),a=s;break;case"details":_e("toggle",e),a=s;break;case"input":ri(e,s),a=Ul(e,s),_e("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=q({},s,{value:void 0}),_e("invalid",e);break;case"textarea":li(e,s),a=Hl(e,s),_e("invalid",e);break;default:a=s}Kl(r,a),h=a;for(i in h)if(h.hasOwnProperty(i)){var y=h[i];i==="style"?di(e,y):i==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&ci(e,y)):i==="children"?typeof y=="string"?(r!=="textarea"||y!=="")&&fn(e,y):typeof y=="number"&&fn(e,""+y):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(f.hasOwnProperty(i)?y!=null&&i==="onScroll"&&_e("scroll",e):y!=null&&se(e,i,y,u))}switch(r){case"input":be(e),si(e,s,!1);break;case"textarea":be(e),oi(e);break;case"option":s.value!=null&&e.setAttribute("value",""+je(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Pr(e,!!s.multiple,i,!1):s.defaultValue!=null&&Pr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ts)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Nu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(r=yr(Mn.current),yr(Lt.current),Is(t)){if(s=t.stateNode,r=t.memoizedProps,s[Ft]=t,(i=s.nodeValue!==r)&&(e=ut,e!==null))switch(e.tag){case 3:Rs(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rs(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Ft]=t,t.stateNode=s}return Xe(t),null;case 13:if(Pe(Fe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)kc(),Vr(),t.flags|=98560,i=!1;else if(i=Is(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(c(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));i[Ft]=t}else Vr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),i=!1}else bt!==null&&(bo(bt),bt=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Fe.current&1)!==0?$e===0&&($e=3):Co())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return Qr(),fo(e,t),e===null&&Fn(t.stateNode.containerInfo),Xe(t),null;case 10:return Ma(t.type._context),Xe(t),null;case 17:return rt(t.type)&&Ls(),Xe(t),null;case 19:if(Pe(Fe),i=t.memoizedState,i===null)return Xe(t),null;if(s=(t.flags&128)!==0,u=i.rendering,u===null)if(s)Vn(i,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Vs(e),u!==null){for(t.flags|=128,Vn(i,!1),s=u.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,u=i.alternate,u===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,e=u.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ee(Fe,Fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ae()>Gr&&(t.flags|=128,s=!0,Vn(i,!1),t.lanes=4194304)}else{if(!s)if(e=Vs(u),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!Te)return Xe(t),null}else 2*Ae()-i.renderingStartTime>Gr&&r!==1073741824&&(t.flags|=128,s=!0,Vn(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(r=i.last,r!==null?r.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ae(),t.sibling=null,r=Fe.current,Ee(Fe,s?r&1|2:r&1),t):(Xe(t),null);case 22:case 23:return ko(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(ft&1073741824)!==0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(c(156,t.tag))}function zm(e,t){switch(La(t),t.tag){case 1:return rt(t.type)&&Ls(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),Pe(tt),Pe(We),qa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Va(t),null;case 13:if(Pe(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Fe),null;case 4:return Qr(),null;case 10:return Ma(t.type._context),null;case 22:case 23:return ko(),null;case 24:return null;default:return null}}var Zs=!1,Je=!1,Im=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Jr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){De(e,t,s)}else r.current=null}function mo(e,t,r){try{r()}catch(s){De(e,t,s)}}var bu=!1;function Mm(e,t){if(Sa=vs,e=tc(),ga(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var u=0,h=-1,y=-1,T=0,$=0,H=e,U=null;t:for(;;){for(var G;H!==r||a!==0&&H.nodeType!==3||(h=u+a),H!==i||s!==0&&H.nodeType!==3||(y=u+s),H.nodeType===3&&(u+=H.nodeValue.length),(G=H.firstChild)!==null;)U=H,H=G;for(;;){if(H===e)break t;if(U===r&&++T===a&&(h=u),U===i&&++$===s&&(y=u),(G=H.nextSibling)!==null)break;H=U,U=H.parentNode}H=G}r=h===-1||y===-1?null:{start:h,end:y}}else r=null}r=r||{start:0,end:0}}else r=null;for(ka={focusedElem:e,selectionRange:r},vs=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var te=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var re=te.memoizedProps,Oe=te.memoizedState,E=t.stateNode,j=E.getSnapshotBeforeUpdate(t.elementType===t.type?re:St(t.type,re),Oe);E.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(V){De(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return te=bu,bu=!1,te}function Kn(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&mo(t,r,i)}a=a.next}while(a!==s)}}function el(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function po(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Su(e){var t=e.alternate;t!==null&&(e.alternate=null,Su(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[Dn],delete t[Pa],delete t[jm],delete t[Nm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ku(e){return e.tag===5||e.tag===3||e.tag===4}function Cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ku(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ho(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ts));else if(s!==4&&(e=e.child,e!==null))for(ho(e,t,r),e=e.sibling;e!==null;)ho(e,t,r),e=e.sibling}function go(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(go(e,t,r),e=e.sibling;e!==null;)go(e,t,r),e=e.sibling}var Ke=null,kt=!1;function nr(e,t,r){for(r=r.child;r!==null;)Eu(e,t,r),r=r.sibling}function Eu(e,t,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(ms,r)}catch{}switch(r.tag){case 5:Je||Jr(r,t);case 6:var s=Ke,a=kt;Ke=null,nr(e,t,r),Ke=s,kt=a,Ke!==null&&(kt?(e=Ke,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ke.removeChild(r.stateNode));break;case 18:Ke!==null&&(kt?(e=Ke,r=r.stateNode,e.nodeType===8?_a(e.parentNode,r):e.nodeType===1&&_a(e,r),bn(e)):_a(Ke,r.stateNode));break;case 4:s=Ke,a=kt,Ke=r.stateNode.containerInfo,kt=!0,nr(e,t,r),Ke=s,kt=a;break;case 0:case 11:case 14:case 15:if(!Je&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,u=i.destroy;i=i.tag,u!==void 0&&((i&2)!==0||(i&4)!==0)&&mo(r,t,u),a=a.next}while(a!==s)}nr(e,t,r);break;case 1:if(!Je&&(Jr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(h){De(r,t,h)}nr(e,t,r);break;case 21:nr(e,t,r);break;case 22:r.mode&1?(Je=(s=Je)||r.memoizedState!==null,nr(e,t,r),Je=s):nr(e,t,r);break;default:nr(e,t,r)}}function _u(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Im),t.forEach(function(s){var a=Qm.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Ct(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,u=t,h=u;e:for(;h!==null;){switch(h.tag){case 5:Ke=h.stateNode,kt=!1;break e;case 3:Ke=h.stateNode.containerInfo,kt=!0;break e;case 4:Ke=h.stateNode.containerInfo,kt=!0;break e}h=h.return}if(Ke===null)throw Error(c(160));Eu(i,u,a),Ke=null,kt=!1;var y=a.alternate;y!==null&&(y.return=null),a.return=null}catch(T){De(a,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pu(t,e),t=t.sibling}function Pu(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),At(e),s&4){try{Kn(3,e,e.return),el(3,e)}catch(re){De(e,e.return,re)}try{Kn(5,e,e.return)}catch(re){De(e,e.return,re)}}break;case 1:Ct(t,e),At(e),s&512&&r!==null&&Jr(r,r.return);break;case 5:if(Ct(t,e),At(e),s&512&&r!==null&&Jr(r,r.return),e.flags&32){var a=e.stateNode;try{fn(a,"")}catch(re){De(e,e.return,re)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,u=r!==null?r.memoizedProps:i,h=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{h==="input"&&i.type==="radio"&&i.name!=null&&ni(a,i),ql(h,u);var T=ql(h,i);for(u=0;u<y.length;u+=2){var $=y[u],H=y[u+1];$==="style"?di(a,H):$==="dangerouslySetInnerHTML"?ci(a,H):$==="children"?fn(a,H):se(a,$,H,T)}switch(h){case"input":$l(a,i);break;case"textarea":ai(a,i);break;case"select":var U=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var G=i.value;G!=null?Pr(a,!!i.multiple,G,!1):U!==!!i.multiple&&(i.defaultValue!=null?Pr(a,!!i.multiple,i.defaultValue,!0):Pr(a,!!i.multiple,i.multiple?[]:"",!1))}a[Dn]=i}catch(re){De(e,e.return,re)}}break;case 6:if(Ct(t,e),At(e),s&4){if(e.stateNode===null)throw Error(c(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(re){De(e,e.return,re)}}break;case 3:if(Ct(t,e),At(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{bn(t.containerInfo)}catch(re){De(e,e.return,re)}break;case 4:Ct(t,e),At(e);break;case 13:Ct(t,e),At(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(vo=Ae())),s&4&&_u(e);break;case 22:if($=r!==null&&r.memoizedState!==null,e.mode&1?(Je=(T=Je)||$,Ct(t,e),Je=T):Ct(t,e),At(e),s&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!$&&(e.mode&1)!==0)for(Z=e,$=e.child;$!==null;){for(H=Z=$;Z!==null;){switch(U=Z,G=U.child,U.tag){case 0:case 11:case 14:case 15:Kn(4,U,U.return);break;case 1:Jr(U,U.return);var te=U.stateNode;if(typeof te.componentWillUnmount=="function"){s=U,r=U.return;try{t=s,te.props=t.memoizedProps,te.state=t.memoizedState,te.componentWillUnmount()}catch(re){De(s,r,re)}}break;case 5:Jr(U,U.return);break;case 22:if(U.memoizedState!==null){Fu(H);continue}}G!==null?(G.return=U,Z=G):Fu(H)}$=$.sibling}e:for($=null,H=e;;){if(H.tag===5){if($===null){$=H;try{a=H.stateNode,T?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(h=H.stateNode,y=H.memoizedProps.style,u=y!=null&&y.hasOwnProperty("display")?y.display:null,h.style.display=ui("display",u))}catch(re){De(e,e.return,re)}}}else if(H.tag===6){if($===null)try{H.stateNode.nodeValue=T?"":H.memoizedProps}catch(re){De(e,e.return,re)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;$===H&&($=null),H=H.return}$===H&&($=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:Ct(t,e),At(e),s&4&&_u(e);break;case 21:break;default:Ct(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ku(r)){var s=r;break e}r=r.return}throw Error(c(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(fn(a,""),s.flags&=-33);var i=Cu(e);go(e,i,a);break;case 3:case 4:var u=s.stateNode.containerInfo,h=Cu(e);ho(e,h,u);break;default:throw Error(c(161))}}catch(y){De(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Um(e,t,r){Z=e,Ru(e)}function Ru(e,t,r){for(var s=(e.mode&1)!==0;Z!==null;){var a=Z,i=a.child;if(a.tag===22&&s){var u=a.memoizedState!==null||Zs;if(!u){var h=a.alternate,y=h!==null&&h.memoizedState!==null||Je;h=Zs;var T=Je;if(Zs=u,(Je=y)&&!T)for(Z=a;Z!==null;)u=Z,y=u.child,u.tag===22&&u.memoizedState!==null?Lu(a):y!==null?(y.return=u,Z=y):Lu(a);for(;i!==null;)Z=i,Ru(i),i=i.sibling;Z=a,Zs=h,Je=T}Tu(e)}else(a.subtreeFlags&8772)!==0&&i!==null?(i.return=a,Z=i):Tu(e)}}function Tu(e){for(;Z!==null;){var t=Z;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Je||el(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Je)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:St(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fc(t,i,s);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fc(t,u,r)}break;case 5:var h=t.stateNode;if(r===null&&t.flags&4){r=h;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&r.focus();break;case"img":y.src&&(r.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var $=T.memoizedState;if($!==null){var H=$.dehydrated;H!==null&&bn(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}Je||t.flags&512&&po(t)}catch(U){De(t,t.return,U)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Fu(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Lu(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{el(4,t)}catch(y){De(t,r,y)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(y){De(t,a,y)}}var i=t.return;try{po(t)}catch(y){De(t,i,y)}break;case 5:var u=t.return;try{po(t)}catch(y){De(t,u,y)}}}catch(y){De(t,t.return,y)}if(t===e){Z=null;break}var h=t.sibling;if(h!==null){h.return=t.return,Z=h;break}Z=t.return}}var $m=Math.ceil,tl=ue.ReactCurrentDispatcher,xo=ue.ReactCurrentOwner,yt=ue.ReactCurrentBatchConfig,we=0,He=null,Me=null,qe=0,ft=0,Yr=Gt(0),$e=0,qn=null,wr=0,rl=0,yo=0,Wn=null,st=null,vo=0,Gr=1/0,Vt=null,nl=!1,wo=null,sr=null,sl=!1,lr=null,ll=0,Qn=0,jo=null,al=-1,ol=0;function et(){return(we&6)!==0?Ae():al!==-1?al:al=Ae()}function ar(e){return(e.mode&1)===0?1:(we&2)!==0&&qe!==0?qe&-qe:Sm.transition!==null?(ol===0&&(ol=Ci()),ol):(e=ke,e!==0||(e=window.event,e=e===void 0?16:Ai(e.type)),e)}function Et(e,t,r,s){if(50<Qn)throw Qn=0,jo=null,Error(c(185));yn(e,r,s),((we&2)===0||e!==He)&&(e===He&&((we&2)===0&&(rl|=r),$e===4&&or(e,qe)),lt(e,s),r===1&&we===0&&(t.mode&1)===0&&(Gr=Ae()+500,As&&er()))}function lt(e,t){var r=e.callbackNode;Sf(e,t);var s=gs(e,e===He?qe:0);if(s===0)r!==null&&bi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&bi(r),t===1)e.tag===0?bm(Au.bind(null,e)):wc(Au.bind(null,e)),vm(function(){(we&6)===0&&er()}),r=null;else{switch(Ei(s)){case 1:r=Zl;break;case 4:r=Si;break;case 16:r=fs;break;case 536870912:r=ki;break;default:r=fs}r=Hu(r,Du.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Du(e,t){if(al=-1,ol=0,(we&6)!==0)throw Error(c(327));var r=e.callbackNode;if(Zr()&&e.callbackNode!==r)return null;var s=gs(e,e===He?qe:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=il(e,s);else{t=s;var a=we;we|=2;var i=zu();(He!==e||qe!==t)&&(Vt=null,Gr=Ae()+500,Nr(e,t));do try{Vm();break}catch(h){Ou(e,h)}while(!0);Ia(),tl.current=i,we=a,Me!==null?t=0:(He=null,qe=0,t=$e)}if(t!==0){if(t===2&&(a=ea(e),a!==0&&(s=a,t=No(e,a))),t===1)throw r=qn,Nr(e,0),or(e,s),lt(e,Ae()),r;if(t===6)or(e,s);else{if(a=e.current.alternate,(s&30)===0&&!Bm(a)&&(t=il(e,s),t===2&&(i=ea(e),i!==0&&(s=i,t=No(e,i))),t===1))throw r=qn,Nr(e,0),or(e,s),lt(e,Ae()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(c(345));case 2:br(e,st,Vt);break;case 3:if(or(e,s),(s&130023424)===s&&(t=vo+500-Ae(),10<t)){if(gs(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){et(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ea(br.bind(null,e,st,Vt),t);break}br(e,st,Vt);break;case 4:if(or(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var u=31-jt(s);i=1<<u,u=t[u],u>a&&(a=u),s&=~i}if(s=a,s=Ae()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*$m(s/1960))-s,10<s){e.timeoutHandle=Ea(br.bind(null,e,st,Vt),s);break}br(e,st,Vt);break;case 5:br(e,st,Vt);break;default:throw Error(c(329))}}}return lt(e,Ae()),e.callbackNode===r?Du.bind(null,e):null}function No(e,t){var r=Wn;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=il(e,t),e!==2&&(t=st,st=r,t!==null&&bo(t)),e}function bo(e){st===null?st=e:st.push.apply(st,e)}function Bm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Nt(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function or(e,t){for(t&=~yo,t&=~rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jt(t),s=1<<r;e[r]=-1,t&=~s}}function Au(e){if((we&6)!==0)throw Error(c(327));Zr();var t=gs(e,0);if((t&1)===0)return lt(e,Ae()),null;var r=il(e,t);if(e.tag!==0&&r===2){var s=ea(e);s!==0&&(t=s,r=No(e,s))}if(r===1)throw r=qn,Nr(e,0),or(e,t),lt(e,Ae()),r;if(r===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,st,Vt),lt(e,Ae()),null}function So(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(Gr=Ae()+500,As&&er())}}function jr(e){lr!==null&&lr.tag===0&&(we&6)===0&&Zr();var t=we;we|=1;var r=yt.transition,s=ke;try{if(yt.transition=null,ke=1,e)return e()}finally{ke=s,yt.transition=r,we=t,(we&6)===0&&er()}}function ko(){ft=Yr.current,Pe(Yr)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ym(r)),Me!==null)for(r=Me.return;r!==null;){var s=r;switch(La(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ls();break;case 3:Qr(),Pe(tt),Pe(We),qa();break;case 5:Va(s);break;case 4:Qr();break;case 13:Pe(Fe);break;case 19:Pe(Fe);break;case 10:Ma(s.type._context);break;case 22:case 23:ko()}r=r.return}if(He=e,Me=e=ir(e.current,null),qe=ft=t,$e=0,qn=null,yo=rl=wr=0,st=Wn=null,xr!==null){for(t=0;t<xr.length;t++)if(r=xr[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var u=i.next;i.next=a,s.next=u}r.pending=s}xr=null}return e}function Ou(e,t){do{var r=Me;try{if(Ia(),Ks.current=Xs,qs){for(var s=Le.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}qs=!1}if(vr=0,Be=Ue=Le=null,Un=!1,$n=0,xo.current=null,r===null||r.return===null){$e=1,qn=t,Me=null;break}e:{var i=e,u=r.return,h=r,y=t;if(t=qe,h.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var T=y,$=h,H=$.tag;if(($.mode&1)===0&&(H===0||H===11||H===15)){var U=$.alternate;U?($.updateQueue=U.updateQueue,$.memoizedState=U.memoizedState,$.lanes=U.lanes):($.updateQueue=null,$.memoizedState=null)}var G=ou(u);if(G!==null){G.flags&=-257,iu(G,u,h,i,t),G.mode&1&&au(i,T,t),t=G,y=T;var te=t.updateQueue;if(te===null){var re=new Set;re.add(y),t.updateQueue=re}else te.add(y);break e}else{if((t&1)===0){au(i,T,t),Co();break e}y=Error(c(426))}}else if(Te&&h.mode&1){var Oe=ou(u);if(Oe!==null){(Oe.flags&65536)===0&&(Oe.flags|=256),iu(Oe,u,h,i,t),Oa(Xr(y,h));break e}}i=y=Xr(y,h),$e!==4&&($e=2),Wn===null?Wn=[i]:Wn.push(i),i=u;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var E=su(i,y,t);Tc(i,E);break e;case 1:h=y;var j=i.type,R=i.stateNode;if((i.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(sr===null||!sr.has(R)))){i.flags|=65536,t&=-t,i.lanes|=t;var V=lu(i,h,t);Tc(i,V);break e}}i=i.return}while(i!==null)}Mu(r)}catch(ne){t=ne,Me===r&&r!==null&&(Me=r=r.return);continue}break}while(!0)}function zu(){var e=tl.current;return tl.current=Xs,e===null?Xs:e}function Co(){($e===0||$e===3||$e===2)&&($e=4),He===null||(wr&268435455)===0&&(rl&268435455)===0||or(He,qe)}function il(e,t){var r=we;we|=2;var s=zu();(He!==e||qe!==t)&&(Vt=null,Nr(e,t));do try{Hm();break}catch(a){Ou(e,a)}while(!0);if(Ia(),we=r,tl.current=s,Me!==null)throw Error(c(261));return He=null,qe=0,$e}function Hm(){for(;Me!==null;)Iu(Me)}function Vm(){for(;Me!==null&&!hf();)Iu(Me)}function Iu(e){var t=Bu(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Mu(e):Me=t,xo.current=null}function Mu(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Om(r,t,ft),r!==null){Me=r;return}}else{if(r=zm(r,t),r!==null){r.flags&=32767,Me=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Me=null;return}}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);$e===0&&($e=5)}function br(e,t,r){var s=ke,a=yt.transition;try{yt.transition=null,ke=1,Km(e,t,r,s)}finally{yt.transition=a,ke=s}return null}function Km(e,t,r,s){do Zr();while(lr!==null);if((we&6)!==0)throw Error(c(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(kf(e,i),e===He&&(Me=He=null,qe=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||sl||(sl=!0,Hu(fs,function(){return Zr(),null})),i=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||i){i=yt.transition,yt.transition=null;var u=ke;ke=1;var h=we;we|=4,xo.current=null,Mm(e,r),Pu(r,e),dm(ka),vs=!!Sa,ka=Sa=null,e.current=r,Um(r),gf(),we=h,ke=u,yt.transition=i}else e.current=r;if(sl&&(sl=!1,lr=e,ll=a),i=e.pendingLanes,i===0&&(sr=null),vf(r.stateNode),lt(e,Ae()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(nl)throw nl=!1,e=wo,wo=null,e;return(ll&1)!==0&&e.tag!==0&&Zr(),i=e.pendingLanes,(i&1)!==0?e===jo?Qn++:(Qn=0,jo=e):Qn=0,er(),null}function Zr(){if(lr!==null){var e=Ei(ll),t=yt.transition,r=ke;try{if(yt.transition=null,ke=16>e?16:e,lr===null)var s=!1;else{if(e=lr,lr=null,ll=0,(we&6)!==0)throw Error(c(331));var a=we;for(we|=4,Z=e.current;Z!==null;){var i=Z,u=i.child;if((Z.flags&16)!==0){var h=i.deletions;if(h!==null){for(var y=0;y<h.length;y++){var T=h[y];for(Z=T;Z!==null;){var $=Z;switch($.tag){case 0:case 11:case 15:Kn(8,$,i)}var H=$.child;if(H!==null)H.return=$,Z=H;else for(;Z!==null;){$=Z;var U=$.sibling,G=$.return;if(Su($),$===T){Z=null;break}if(U!==null){U.return=G,Z=U;break}Z=G}}}var te=i.alternate;if(te!==null){var re=te.child;if(re!==null){te.child=null;do{var Oe=re.sibling;re.sibling=null,re=Oe}while(re!==null)}}Z=i}}if((i.subtreeFlags&2064)!==0&&u!==null)u.return=i,Z=u;else e:for(;Z!==null;){if(i=Z,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Kn(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,Z=E;break e}Z=i.return}}var j=e.current;for(Z=j;Z!==null;){u=Z;var R=u.child;if((u.subtreeFlags&2064)!==0&&R!==null)R.return=u,Z=R;else e:for(u=j;Z!==null;){if(h=Z,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:el(9,h)}}catch(ne){De(h,h.return,ne)}if(h===u){Z=null;break e}var V=h.sibling;if(V!==null){V.return=h.return,Z=V;break e}Z=h.return}}if(we=a,er(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(ms,e)}catch{}s=!0}return s}finally{ke=r,yt.transition=t}}return!1}function Uu(e,t,r){t=Xr(r,t),t=su(e,t,1),e=rr(e,t,1),t=et(),e!==null&&(yn(e,1,t),lt(e,t))}function De(e,t,r){if(e.tag===3)Uu(e,e,r);else for(;t!==null;){if(t.tag===3){Uu(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(sr===null||!sr.has(s))){e=Xr(r,e),e=lu(t,e,1),t=rr(t,e,1),e=et(),t!==null&&(yn(t,1,e),lt(t,e));break}}t=t.return}}function qm(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&r,He===e&&(qe&r)===r&&($e===4||$e===3&&(qe&130023424)===qe&&500>Ae()-vo?Nr(e,0):yo|=r),lt(e,t)}function $u(e,t){t===0&&((e.mode&1)===0?t=1:(t=hs,hs<<=1,(hs&130023424)===0&&(hs=4194304)));var r=et();e=$t(e,t),e!==null&&(yn(e,t,r),lt(e,r))}function Wm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$u(e,r)}function Qm(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(c(314))}s!==null&&s.delete(t),$u(e,r)}var Bu;Bu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)nt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return nt=!1,Am(e,t,r);nt=(e.flags&131072)!==0}else nt=!1,Te&&(t.flags&1048576)!==0&&jc(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Gs(e,t),e=t.pendingProps;var a=$r(t,We.current);Wr(t,r),a=Xa(null,t,s,e,a,r);var i=Ja();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(s)?(i=!0,Ds(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ba(t),a.updater=Js,t.stateNode=a,a._reactInternals=t,ro(t,s,e,r),t=ao(null,t,s,!0,i,r)):(t.tag=0,Te&&i&&Fa(t),Ze(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Jm(s),e=St(s,e),a){case 0:t=lo(null,t,s,e,r);break e;case 1:t=pu(null,t,s,e,r);break e;case 11:t=cu(null,t,s,e,r);break e;case 14:t=uu(null,t,s,St(s.type,e),r);break e}throw Error(c(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:St(s,a),lo(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:St(s,a),pu(e,t,s,a,r);case 3:e:{if(hu(t),e===null)throw Error(c(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Rc(e,t),Hs(t,s,null,r);var u=t.memoizedState;if(s=u.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Xr(Error(c(423)),t),t=gu(e,t,s,r,a);break e}else if(s!==a){a=Xr(Error(c(424)),t),t=gu(e,t,s,r,a);break e}else for(dt=Yt(t.stateNode.containerInfo.firstChild),ut=t,Te=!0,bt=null,r=_c(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vr(),s===a){t=Ht(e,t,r);break e}Ze(e,t,s,r)}t=t.child}return t;case 5:return Lc(t),e===null&&Aa(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,u=a.children,Ca(s,a)?u=null:i!==null&&Ca(s,i)&&(t.flags|=32),mu(e,t),Ze(e,t,u,r),t.child;case 6:return e===null&&Aa(t),null;case 13:return xu(e,t,r);case 4:return Ha(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Kr(t,null,s,r):Ze(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:St(s,a),cu(e,t,s,a,r);case 7:return Ze(e,t,t.pendingProps,r),t.child;case 8:return Ze(e,t,t.pendingProps.children,r),t.child;case 12:return Ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,u=a.value,Ee(Us,s._currentValue),s._currentValue=u,i!==null)if(Nt(i.value,u)){if(i.children===a.children&&!tt.current){t=Ht(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var h=i.dependencies;if(h!==null){u=i.child;for(var y=h.firstContext;y!==null;){if(y.context===s){if(i.tag===1){y=Bt(-1,r&-r),y.tag=2;var T=i.updateQueue;if(T!==null){T=T.shared;var $=T.pending;$===null?y.next=y:(y.next=$.next,$.next=y),T.pending=y}}i.lanes|=r,y=i.alternate,y!==null&&(y.lanes|=r),Ua(i.return,r,t),h.lanes|=r;break}y=y.next}}else if(i.tag===10)u=i.type===t.type?null:i.child;else if(i.tag===18){if(u=i.return,u===null)throw Error(c(341));u.lanes|=r,h=u.alternate,h!==null&&(h.lanes|=r),Ua(u,r,t),u=i.sibling}else u=i.child;if(u!==null)u.return=i;else for(u=i;u!==null;){if(u===t){u=null;break}if(i=u.sibling,i!==null){i.return=u.return,u=i;break}u=u.return}i=u}Ze(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Wr(t,r),a=gt(a),s=s(a),t.flags|=1,Ze(e,t,s,r),t.child;case 14:return s=t.type,a=St(s,t.pendingProps),a=St(s.type,a),uu(e,t,s,a,r);case 15:return du(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:St(s,a),Gs(e,t),t.tag=1,rt(s)?(e=!0,Ds(t)):e=!1,Wr(t,r),ru(t,s,a),ro(t,s,a,r),ao(null,t,s,!0,e,r);case 19:return vu(e,t,r);case 22:return fu(e,t,r)}throw Error(c(156,t.tag))};function Hu(e,t){return Ni(e,t)}function Xm(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,r,s){return new Xm(e,t,r,s)}function Eo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jm(e){if(typeof e=="function")return Eo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J)return 11;if(e===Ie)return 14}return 2}function ir(e,t){var r=e.alternate;return r===null?(r=vt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cl(e,t,r,s,a,i){var u=2;if(s=e,typeof e=="function")Eo(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case D:return Sr(r.children,a,i,t);case de:u=8,a|=8;break;case W:return e=vt(12,r,t,a|2),e.elementType=W,e.lanes=i,e;case ae:return e=vt(13,r,t,a),e.elementType=ae,e.lanes=i,e;case Se:return e=vt(19,r,t,a),e.elementType=Se,e.lanes=i,e;case B:return ul(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case le:u=10;break e;case K:u=9;break e;case J:u=11;break e;case Ie:u=14;break e;case Re:u=16,s=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return t=vt(u,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Sr(e,t,r,s){return e=vt(7,e,s,t),e.lanes=r,e}function ul(e,t,r,s){return e=vt(22,e,s,t),e.elementType=B,e.lanes=r,e.stateNode={isHidden:!1},e}function _o(e,t,r){return e=vt(6,e,null,t),e.lanes=r,e}function Po(e,t,r){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ym(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ta(0),this.expirationTimes=ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ro(e,t,r,s,a,i,u,h,y){return e=new Ym(e,t,r,h,y),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ba(i),e}function Gm(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pe,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Vu(e){if(!e)return Zt;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(c(171))}if(e.tag===1){var r=e.type;if(rt(r))return yc(e,r,t)}return t}function Ku(e,t,r,s,a,i,u,h,y){return e=Ro(r,s,!0,e,a,i,u,h,y),e.context=Vu(null),r=e.current,s=et(),a=ar(r),i=Bt(s,a),i.callback=t??null,rr(r,i,a),e.current.lanes=a,yn(e,a,s),lt(e,s),e}function dl(e,t,r,s){var a=t.current,i=et(),u=ar(a);return r=Vu(r),t.context===null?t.context=r:t.pendingContext=r,t=Bt(i,u),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=rr(a,t,u),e!==null&&(Et(e,a,u,i),Bs(e,a,u)),u}function fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function To(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}function Zm(){return null}var Wu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fo(e){this._internalRoot=e}ml.prototype.render=Fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));dl(e,t,null,null)},ml.prototype.unmount=Fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jr(function(){dl(null,e,null,null)}),t[zt]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ri();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qt.length&&t!==0&&t<Qt[r].priority;r++);Qt.splice(r,0,e),r===0&&Li(e)}};function Lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qu(){}function ep(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var T=fl(u);i.call(T)}}var u=Ku(t,s,e,0,null,!1,!1,"",Qu);return e._reactRootContainer=u,e[zt]=u.current,Fn(e.nodeType===8?e.parentNode:e),jr(),u}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var h=s;s=function(){var T=fl(y);h.call(T)}}var y=Ro(e,0,!1,null,null,!1,!1,"",Qu);return e._reactRootContainer=y,e[zt]=y.current,Fn(e.nodeType===8?e.parentNode:e),jr(function(){dl(t,y,r,s)}),y}function hl(e,t,r,s,a){var i=r._reactRootContainer;if(i){var u=i;if(typeof a=="function"){var h=a;a=function(){var y=fl(u);h.call(y)}}dl(t,u,e,a)}else u=ep(r,t,e,a,s);return fl(u)}_i=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xn(t.pendingLanes);r!==0&&(ra(t,r|1),lt(t,Ae()),(we&6)===0&&(Gr=Ae()+500,er()))}break;case 13:jr(function(){var s=$t(e,1);if(s!==null){var a=et();Et(s,e,1,a)}}),To(e,1)}},na=function(e){if(e.tag===13){var t=$t(e,134217728);if(t!==null){var r=et();Et(t,e,134217728,r)}To(e,134217728)}},Pi=function(e){if(e.tag===13){var t=ar(e),r=$t(e,t);if(r!==null){var s=et();Et(r,e,t,s)}To(e,t)}},Ri=function(){return ke},Ti=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}},Xl=function(e,t,r){switch(t){case"input":if($l(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Fs(s);if(!a)throw Error(c(90));Ge(s),$l(s,a)}}}break;case"textarea":ai(e,r);break;case"select":t=r.value,t!=null&&Pr(e,!!r.multiple,t,!1)}},hi=So,gi=jr;var tp={usingClientEntryPoint:!1,Events:[An,Mr,Fs,mi,pi,So]},Xn={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rp={bundleType:Xn.bundleType,version:Xn.version,rendererPackageName:Xn.rendererPackageName,rendererConfig:Xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wi(e),e===null?null:e.stateNode},findFiberByHostInstance:Xn.findFiberByHostInstance||Zm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{ms=gl.inject(rp),Tt=gl}catch{}}return at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tp,at.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lo(t))throw Error(c(200));return Gm(e,t,null,r)},at.createRoot=function(e,t){if(!Lo(e))throw Error(c(299));var r=!1,s="",a=Wu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ro(e,1,!1,null,null,r,!1,s,a),e[zt]=t.current,Fn(e.nodeType===8?e.parentNode:e),new Fo(t)},at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=wi(t),e=e===null?null:e.stateNode,e},at.flushSync=function(e){return jr(e)},at.hydrate=function(e,t,r){if(!pl(t))throw Error(c(200));return hl(null,e,t,!0,r)},at.hydrateRoot=function(e,t,r){if(!Lo(e))throw Error(c(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",u=Wu;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=Ku(t,null,e,1,r??null,a,!1,i,u),e[zt]=t.current,Fn(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ml(t)},at.render=function(e,t,r){if(!pl(t))throw Error(c(200));return hl(null,e,t,!1,r)},at.unmountComponentAtNode=function(e){if(!pl(e))throw Error(c(40));return e._reactRootContainer?(jr(function(){hl(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1},at.unstable_batchedUpdates=So,at.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!pl(r))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return hl(e,t,r,!1,s)},at.version="18.3.1-next-f1338f8080-20240426",at}var rd;function fp(){if(rd)return Oo.exports;rd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(o){console.error(o)}}return l(),Oo.exports=dp(),Oo.exports}var nd;function mp(){if(nd)return xl;nd=1;var l=fp();return xl.createRoot=l.createRoot,xl.hydrateRoot=l.hydrateRoot,xl}var pp=mp();function Nd(l,o){return function(){return l.apply(o,arguments)}}const{toString:hp}=Object.prototype,{getPrototypeOf:Yo}=Object,{iterator:Fl,toStringTag:bd}=Symbol,Ll=(l=>o=>{const c=hp.call(o);return l[c]||(l[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),Rt=l=>(l=l.toLowerCase(),o=>Ll(o)===l),Dl=l=>o=>typeof o===l,{isArray:an}=Array,Zn=Dl("undefined");function ns(l){return l!==null&&!Zn(l)&&l.constructor!==null&&!Zn(l.constructor)&&ot(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const Sd=Rt("ArrayBuffer");function gp(l){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(l):o=l&&l.buffer&&Sd(l.buffer),o}const xp=Dl("string"),ot=Dl("function"),kd=Dl("number"),ss=l=>l!==null&&typeof l=="object",yp=l=>l===!0||l===!1,Nl=l=>{if(Ll(l)!=="object")return!1;const o=Yo(l);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(bd in l)&&!(Fl in l)},vp=l=>{if(!ss(l)||ns(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},wp=Rt("Date"),jp=Rt("File"),Np=Rt("Blob"),bp=Rt("FileList"),Sp=l=>ss(l)&&ot(l.pipe),kp=l=>{let o;return l&&(typeof FormData=="function"&&l instanceof FormData||ot(l.append)&&((o=Ll(l))==="formdata"||o==="object"&&ot(l.toString)&&l.toString()==="[object FormData]"))},Cp=Rt("URLSearchParams"),[Ep,_p,Pp,Rp]=["ReadableStream","Request","Response","Headers"].map(Rt),Tp=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ls(l,o,{allOwnKeys:c=!1}={}){if(l===null||typeof l>"u")return;let d,f;if(typeof l!="object"&&(l=[l]),an(l))for(d=0,f=l.length;d<f;d++)o.call(null,l[d],d,l);else{if(ns(l))return;const p=c?Object.getOwnPropertyNames(l):Object.keys(l),m=p.length;let x;for(d=0;d<m;d++)x=p[d],o.call(null,l[x],x,l)}}function Cd(l,o){if(ns(l))return null;o=o.toLowerCase();const c=Object.keys(l);let d=c.length,f;for(;d-- >0;)if(f=c[d],o===f.toLowerCase())return f;return null}const kr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ed=l=>!Zn(l)&&l!==kr;function Vo(){const{caseless:l}=Ed(this)&&this||{},o={},c=(d,f)=>{const p=l&&Cd(o,f)||f;Nl(o[p])&&Nl(d)?o[p]=Vo(o[p],d):Nl(d)?o[p]=Vo({},d):an(d)?o[p]=d.slice():o[p]=d};for(let d=0,f=arguments.length;d<f;d++)arguments[d]&&ls(arguments[d],c);return o}const Fp=(l,o,c,{allOwnKeys:d}={})=>(ls(o,(f,p)=>{c&&ot(f)?l[p]=Nd(f,c):l[p]=f},{allOwnKeys:d}),l),Lp=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Dp=(l,o,c,d)=>{l.prototype=Object.create(o.prototype,d),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:o.prototype}),c&&Object.assign(l.prototype,c)},Ap=(l,o,c,d)=>{let f,p,m;const x={};if(o=o||{},l==null)return o;do{for(f=Object.getOwnPropertyNames(l),p=f.length;p-- >0;)m=f[p],(!d||d(m,l,o))&&!x[m]&&(o[m]=l[m],x[m]=!0);l=c!==!1&&Yo(l)}while(l&&(!c||c(l,o))&&l!==Object.prototype);return o},Op=(l,o,c)=>{l=String(l),(c===void 0||c>l.length)&&(c=l.length),c-=o.length;const d=l.indexOf(o,c);return d!==-1&&d===c},zp=l=>{if(!l)return null;if(an(l))return l;let o=l.length;if(!kd(o))return null;const c=new Array(o);for(;o-- >0;)c[o]=l[o];return c},Ip=(l=>o=>l&&o instanceof l)(typeof Uint8Array<"u"&&Yo(Uint8Array)),Mp=(l,o)=>{const d=(l&&l[Fl]).call(l);let f;for(;(f=d.next())&&!f.done;){const p=f.value;o.call(l,p[0],p[1])}},Up=(l,o)=>{let c;const d=[];for(;(c=l.exec(o))!==null;)d.push(c);return d},$p=Rt("HTMLFormElement"),Bp=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,d,f){return d.toUpperCase()+f}),sd=(({hasOwnProperty:l})=>(o,c)=>l.call(o,c))(Object.prototype),Hp=Rt("RegExp"),_d=(l,o)=>{const c=Object.getOwnPropertyDescriptors(l),d={};ls(c,(f,p)=>{let m;(m=o(f,p,l))!==!1&&(d[p]=m||f)}),Object.defineProperties(l,d)},Vp=l=>{_d(l,(o,c)=>{if(ot(l)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const d=l[c];if(ot(d)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},Kp=(l,o)=>{const c={},d=f=>{f.forEach(p=>{c[p]=!0})};return an(l)?d(l):d(String(l).split(o)),c},qp=()=>{},Wp=(l,o)=>l!=null&&Number.isFinite(l=+l)?l:o;function Qp(l){return!!(l&&ot(l.append)&&l[bd]==="FormData"&&l[Fl])}const Xp=l=>{const o=new Array(10),c=(d,f)=>{if(ss(d)){if(o.indexOf(d)>=0)return;if(ns(d))return d;if(!("toJSON"in d)){o[f]=d;const p=an(d)?[]:{};return ls(d,(m,x)=>{const k=c(m,f+1);!Zn(k)&&(p[x]=k)}),o[f]=void 0,p}}return d};return c(l,0)},Jp=Rt("AsyncFunction"),Yp=l=>l&&(ss(l)||ot(l))&&ot(l.then)&&ot(l.catch),Pd=((l,o)=>l?setImmediate:o?((c,d)=>(kr.addEventListener("message",({source:f,data:p})=>{f===kr&&p===c&&d.length&&d.shift()()},!1),f=>{d.push(f),kr.postMessage(c,"*")}))(`axios@${Math.random()}`,[]):c=>setTimeout(c))(typeof setImmediate=="function",ot(kr.postMessage)),Gp=typeof queueMicrotask<"u"?queueMicrotask.bind(kr):typeof process<"u"&&process.nextTick||Pd,Zp=l=>l!=null&&ot(l[Fl]),L={isArray:an,isArrayBuffer:Sd,isBuffer:ns,isFormData:kp,isArrayBufferView:gp,isString:xp,isNumber:kd,isBoolean:yp,isObject:ss,isPlainObject:Nl,isEmptyObject:vp,isReadableStream:Ep,isRequest:_p,isResponse:Pp,isHeaders:Rp,isUndefined:Zn,isDate:wp,isFile:jp,isBlob:Np,isRegExp:Hp,isFunction:ot,isStream:Sp,isURLSearchParams:Cp,isTypedArray:Ip,isFileList:bp,forEach:ls,merge:Vo,extend:Fp,trim:Tp,stripBOM:Lp,inherits:Dp,toFlatObject:Ap,kindOf:Ll,kindOfTest:Rt,endsWith:Op,toArray:zp,forEachEntry:Mp,matchAll:Up,isHTMLForm:$p,hasOwnProperty:sd,hasOwnProp:sd,reduceDescriptors:_d,freezeMethods:Vp,toObjectSet:Kp,toCamelCase:Bp,noop:qp,toFiniteNumber:Wp,findKey:Cd,global:kr,isContextDefined:Ed,isSpecCompliantForm:Qp,toJSONObject:Xp,isAsyncFn:Jp,isThenable:Yp,setImmediate:Pd,asap:Gp,isIterable:Zp};function xe(l,o,c,d,f){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",o&&(this.code=o),c&&(this.config=c),d&&(this.request=d),f&&(this.response=f,this.status=f.status?f.status:null)}L.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const Rd=xe.prototype,Td={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{Td[l]={value:l}});Object.defineProperties(xe,Td);Object.defineProperty(Rd,"isAxiosError",{value:!0});xe.from=(l,o,c,d,f,p)=>{const m=Object.create(Rd);return L.toFlatObject(l,m,function(k){return k!==Error.prototype},x=>x!=="isAxiosError"),xe.call(m,l.message,o,c,d,f),m.cause=l,m.name=l.name,p&&Object.assign(m,p),m};const eh=null;function Ko(l){return L.isPlainObject(l)||L.isArray(l)}function Fd(l){return L.endsWith(l,"[]")?l.slice(0,-2):l}function ld(l,o,c){return l?l.concat(o).map(function(f,p){return f=Fd(f),!c&&p?"["+f+"]":f}).join(c?".":""):o}function th(l){return L.isArray(l)&&!l.some(Ko)}const rh=L.toFlatObject(L,{},null,function(o){return/^is[A-Z]/.test(o)});function Al(l,o,c){if(!L.isObject(l))throw new TypeError("target must be an object");o=o||new FormData,c=L.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,F){return!L.isUndefined(F[C])});const d=c.metaTokens,f=c.visitor||w,p=c.dots,m=c.indexes,k=(c.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(o);if(!L.isFunction(f))throw new TypeError("visitor must be a function");function v(_){if(_===null)return"";if(L.isDate(_))return _.toISOString();if(L.isBoolean(_))return _.toString();if(!k&&L.isBlob(_))throw new xe("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(_)||L.isTypedArray(_)?k&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function w(_,C,F){let Q=_;if(_&&!F&&typeof _=="object"){if(L.endsWith(C,"{}"))C=d?C:C.slice(0,-2),_=JSON.stringify(_);else if(L.isArray(_)&&th(_)||(L.isFileList(_)||L.endsWith(C,"[]"))&&(Q=L.toArray(_)))return C=Fd(C),Q.forEach(function(se,ue){!(L.isUndefined(se)||se===null)&&o.append(m===!0?ld([C],ue,p):m===null?C:C+"[]",v(se))}),!1}return Ko(_)?!0:(o.append(ld(F,C,p),v(_)),!1)}const N=[],S=Object.assign(rh,{defaultVisitor:w,convertValue:v,isVisitable:Ko});function P(_,C){if(!L.isUndefined(_)){if(N.indexOf(_)!==-1)throw Error("Circular reference detected in "+C.join("."));N.push(_),L.forEach(_,function(Q,ee){(!(L.isUndefined(Q)||Q===null)&&f.call(o,Q,L.isString(ee)?ee.trim():ee,C,S))===!0&&P(Q,C?C.concat(ee):[ee])}),N.pop()}}if(!L.isObject(l))throw new TypeError("data must be an object");return P(l),o}function ad(l){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(d){return o[d]})}function Go(l,o){this._pairs=[],l&&Al(l,this,o)}const Ld=Go.prototype;Ld.append=function(o,c){this._pairs.push([o,c])};Ld.toString=function(o){const c=o?function(d){return o.call(this,d,ad)}:ad;return this._pairs.map(function(f){return c(f[0])+"="+c(f[1])},"").join("&")};function nh(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dd(l,o,c){if(!o)return l;const d=c&&c.encode||nh;L.isFunction(c)&&(c={serialize:c});const f=c&&c.serialize;let p;if(f?p=f(o,c):p=L.isURLSearchParams(o)?o.toString():new Go(o,c).toString(d),p){const m=l.indexOf("#");m!==-1&&(l=l.slice(0,m)),l+=(l.indexOf("?")===-1?"?":"&")+p}return l}class od{constructor(){this.handlers=[]}use(o,c,d){return this.handlers.push({fulfilled:o,rejected:c,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){L.forEach(this.handlers,function(d){d!==null&&o(d)})}}const Ad={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sh=typeof URLSearchParams<"u"?URLSearchParams:Go,lh=typeof FormData<"u"?FormData:null,ah=typeof Blob<"u"?Blob:null,oh={isBrowser:!0,classes:{URLSearchParams:sh,FormData:lh,Blob:ah},protocols:["http","https","file","blob","url","data"]},Zo=typeof window<"u"&&typeof document<"u",qo=typeof navigator=="object"&&navigator||void 0,ih=Zo&&(!qo||["ReactNative","NativeScript","NS"].indexOf(qo.product)<0),ch=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uh=Zo&&window.location.href||"http://localhost",dh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zo,hasStandardBrowserEnv:ih,hasStandardBrowserWebWorkerEnv:ch,navigator:qo,origin:uh},Symbol.toStringTag,{value:"Module"})),Ye={...dh,...oh};function fh(l,o){return Al(l,new Ye.classes.URLSearchParams,{visitor:function(c,d,f,p){return Ye.isNode&&L.isBuffer(c)?(this.append(d,c.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)},...o})}function mh(l){return L.matchAll(/\w+|\[(\w*)]/g,l).map(o=>o[0]==="[]"?"":o[1]||o[0])}function ph(l){const o={},c=Object.keys(l);let d;const f=c.length;let p;for(d=0;d<f;d++)p=c[d],o[p]=l[p];return o}function Od(l){function o(c,d,f,p){let m=c[p++];if(m==="__proto__")return!0;const x=Number.isFinite(+m),k=p>=c.length;return m=!m&&L.isArray(f)?f.length:m,k?(L.hasOwnProp(f,m)?f[m]=[f[m],d]:f[m]=d,!x):((!f[m]||!L.isObject(f[m]))&&(f[m]=[]),o(c,d,f[m],p)&&L.isArray(f[m])&&(f[m]=ph(f[m])),!x)}if(L.isFormData(l)&&L.isFunction(l.entries)){const c={};return L.forEachEntry(l,(d,f)=>{o(mh(d),f,c,0)}),c}return null}function hh(l,o,c){if(L.isString(l))try{return(o||JSON.parse)(l),L.trim(l)}catch(d){if(d.name!=="SyntaxError")throw d}return(c||JSON.stringify)(l)}const as={transitional:Ad,adapter:["xhr","http","fetch"],transformRequest:[function(o,c){const d=c.getContentType()||"",f=d.indexOf("application/json")>-1,p=L.isObject(o);if(p&&L.isHTMLForm(o)&&(o=new FormData(o)),L.isFormData(o))return f?JSON.stringify(Od(o)):o;if(L.isArrayBuffer(o)||L.isBuffer(o)||L.isStream(o)||L.isFile(o)||L.isBlob(o)||L.isReadableStream(o))return o;if(L.isArrayBufferView(o))return o.buffer;if(L.isURLSearchParams(o))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let x;if(p){if(d.indexOf("application/x-www-form-urlencoded")>-1)return fh(o,this.formSerializer).toString();if((x=L.isFileList(o))||d.indexOf("multipart/form-data")>-1){const k=this.env&&this.env.FormData;return Al(x?{"files[]":o}:o,k&&new k,this.formSerializer)}}return p||f?(c.setContentType("application/json",!1),hh(o)):o}],transformResponse:[function(o){const c=this.transitional||as.transitional,d=c&&c.forcedJSONParsing,f=this.responseType==="json";if(L.isResponse(o)||L.isReadableStream(o))return o;if(o&&L.isString(o)&&(d&&!this.responseType||f)){const m=!(c&&c.silentJSONParsing)&&f;try{return JSON.parse(o)}catch(x){if(m)throw x.name==="SyntaxError"?xe.from(x,xe.ERR_BAD_RESPONSE,this,null,this.response):x}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ye.classes.FormData,Blob:Ye.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],l=>{as.headers[l]={}});const gh=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xh=l=>{const o={};let c,d,f;return l&&l.split(`
`).forEach(function(m){f=m.indexOf(":"),c=m.substring(0,f).trim().toLowerCase(),d=m.substring(f+1).trim(),!(!c||o[c]&&gh[c])&&(c==="set-cookie"?o[c]?o[c].push(d):o[c]=[d]:o[c]=o[c]?o[c]+", "+d:d)}),o},id=Symbol("internals");function Yn(l){return l&&String(l).trim().toLowerCase()}function bl(l){return l===!1||l==null?l:L.isArray(l)?l.map(bl):String(l)}function yh(l){const o=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=c.exec(l);)o[d[1]]=d[2];return o}const vh=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function Mo(l,o,c,d,f){if(L.isFunction(d))return d.call(this,o,c);if(f&&(o=c),!!L.isString(o)){if(L.isString(d))return o.indexOf(d)!==-1;if(L.isRegExp(d))return d.test(o)}}function wh(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,c,d)=>c.toUpperCase()+d)}function jh(l,o){const c=L.toCamelCase(" "+o);["get","set","has"].forEach(d=>{Object.defineProperty(l,d+c,{value:function(f,p,m){return this[d].call(this,o,f,p,m)},configurable:!0})})}let it=class{constructor(o){o&&this.set(o)}set(o,c,d){const f=this;function p(x,k,v){const w=Yn(k);if(!w)throw new Error("header name must be a non-empty string");const N=L.findKey(f,w);(!N||f[N]===void 0||v===!0||v===void 0&&f[N]!==!1)&&(f[N||k]=bl(x))}const m=(x,k)=>L.forEach(x,(v,w)=>p(v,w,k));if(L.isPlainObject(o)||o instanceof this.constructor)m(o,c);else if(L.isString(o)&&(o=o.trim())&&!vh(o))m(xh(o),c);else if(L.isObject(o)&&L.isIterable(o)){let x={},k,v;for(const w of o){if(!L.isArray(w))throw TypeError("Object iterator must return a key-value pair");x[v=w[0]]=(k=x[v])?L.isArray(k)?[...k,w[1]]:[k,w[1]]:w[1]}m(x,c)}else o!=null&&p(c,o,d);return this}get(o,c){if(o=Yn(o),o){const d=L.findKey(this,o);if(d){const f=this[d];if(!c)return f;if(c===!0)return yh(f);if(L.isFunction(c))return c.call(this,f,d);if(L.isRegExp(c))return c.exec(f);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,c){if(o=Yn(o),o){const d=L.findKey(this,o);return!!(d&&this[d]!==void 0&&(!c||Mo(this,this[d],d,c)))}return!1}delete(o,c){const d=this;let f=!1;function p(m){if(m=Yn(m),m){const x=L.findKey(d,m);x&&(!c||Mo(d,d[x],x,c))&&(delete d[x],f=!0)}}return L.isArray(o)?o.forEach(p):p(o),f}clear(o){const c=Object.keys(this);let d=c.length,f=!1;for(;d--;){const p=c[d];(!o||Mo(this,this[p],p,o,!0))&&(delete this[p],f=!0)}return f}normalize(o){const c=this,d={};return L.forEach(this,(f,p)=>{const m=L.findKey(d,p);if(m){c[m]=bl(f),delete c[p];return}const x=o?wh(p):String(p).trim();x!==p&&delete c[p],c[x]=bl(f),d[x]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const c=Object.create(null);return L.forEach(this,(d,f)=>{d!=null&&d!==!1&&(c[f]=o&&L.isArray(d)?d.join(", "):d)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,c])=>o+": "+c).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...c){const d=new this(o);return c.forEach(f=>d.set(f)),d}static accessor(o){const d=(this[id]=this[id]={accessors:{}}).accessors,f=this.prototype;function p(m){const x=Yn(m);d[x]||(jh(f,m),d[x]=!0)}return L.isArray(o)?o.forEach(p):p(o),this}};it.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(it.prototype,({value:l},o)=>{let c=o[0].toUpperCase()+o.slice(1);return{get:()=>l,set(d){this[c]=d}}});L.freezeMethods(it);function Uo(l,o){const c=this||as,d=o||c,f=it.from(d.headers);let p=d.data;return L.forEach(l,function(x){p=x.call(c,p,f.normalize(),o?o.status:void 0)}),f.normalize(),p}function zd(l){return!!(l&&l.__CANCEL__)}function on(l,o,c){xe.call(this,l??"canceled",xe.ERR_CANCELED,o,c),this.name="CanceledError"}L.inherits(on,xe,{__CANCEL__:!0});function Id(l,o,c){const d=c.config.validateStatus;!c.status||!d||d(c.status)?l(c):o(new xe("Request failed with status code "+c.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function Nh(l){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return o&&o[1]||""}function bh(l,o){l=l||10;const c=new Array(l),d=new Array(l);let f=0,p=0,m;return o=o!==void 0?o:1e3,function(k){const v=Date.now(),w=d[p];m||(m=v),c[f]=k,d[f]=v;let N=p,S=0;for(;N!==f;)S+=c[N++],N=N%l;if(f=(f+1)%l,f===p&&(p=(p+1)%l),v-m<o)return;const P=w&&v-w;return P?Math.round(S*1e3/P):void 0}}function Sh(l,o){let c=0,d=1e3/o,f,p;const m=(v,w=Date.now())=>{c=w,f=null,p&&(clearTimeout(p),p=null),l(...v)};return[(...v)=>{const w=Date.now(),N=w-c;N>=d?m(v,w):(f=v,p||(p=setTimeout(()=>{p=null,m(f)},d-N)))},()=>f&&m(f)]}const El=(l,o,c=3)=>{let d=0;const f=bh(50,250);return Sh(p=>{const m=p.loaded,x=p.lengthComputable?p.total:void 0,k=m-d,v=f(k),w=m<=x;d=m;const N={loaded:m,total:x,progress:x?m/x:void 0,bytes:k,rate:v||void 0,estimated:v&&x&&w?(x-m)/v:void 0,event:p,lengthComputable:x!=null,[o?"download":"upload"]:!0};l(N)},c)},cd=(l,o)=>{const c=l!=null;return[d=>o[0]({lengthComputable:c,total:l,loaded:d}),o[1]]},ud=l=>(...o)=>L.asap(()=>l(...o)),kh=Ye.hasStandardBrowserEnv?((l,o)=>c=>(c=new URL(c,Ye.origin),l.protocol===c.protocol&&l.host===c.host&&(o||l.port===c.port)))(new URL(Ye.origin),Ye.navigator&&/(msie|trident)/i.test(Ye.navigator.userAgent)):()=>!0,Ch=Ye.hasStandardBrowserEnv?{write(l,o,c,d,f,p){const m=[l+"="+encodeURIComponent(o)];L.isNumber(c)&&m.push("expires="+new Date(c).toGMTString()),L.isString(d)&&m.push("path="+d),L.isString(f)&&m.push("domain="+f),p===!0&&m.push("secure"),document.cookie=m.join("; ")},read(l){const o=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove(l){this.write(l,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Eh(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function _h(l,o){return o?l.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):l}function Md(l,o,c){let d=!Eh(o);return l&&(d||c==!1)?_h(l,o):o}const dd=l=>l instanceof it?{...l}:l;function _r(l,o){o=o||{};const c={};function d(v,w,N,S){return L.isPlainObject(v)&&L.isPlainObject(w)?L.merge.call({caseless:S},v,w):L.isPlainObject(w)?L.merge({},w):L.isArray(w)?w.slice():w}function f(v,w,N,S){if(L.isUndefined(w)){if(!L.isUndefined(v))return d(void 0,v,N,S)}else return d(v,w,N,S)}function p(v,w){if(!L.isUndefined(w))return d(void 0,w)}function m(v,w){if(L.isUndefined(w)){if(!L.isUndefined(v))return d(void 0,v)}else return d(void 0,w)}function x(v,w,N){if(N in o)return d(v,w);if(N in l)return d(void 0,v)}const k={url:p,method:p,data:p,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:x,headers:(v,w,N)=>f(dd(v),dd(w),N,!0)};return L.forEach(Object.keys({...l,...o}),function(w){const N=k[w]||f,S=N(l[w],o[w],w);L.isUndefined(S)&&N!==x||(c[w]=S)}),c}const Ud=l=>{const o=_r({},l);let{data:c,withXSRFToken:d,xsrfHeaderName:f,xsrfCookieName:p,headers:m,auth:x}=o;o.headers=m=it.from(m),o.url=Dd(Md(o.baseURL,o.url,o.allowAbsoluteUrls),l.params,l.paramsSerializer),x&&m.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):"")));let k;if(L.isFormData(c)){if(Ye.hasStandardBrowserEnv||Ye.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if((k=m.getContentType())!==!1){const[v,...w]=k?k.split(";").map(N=>N.trim()).filter(Boolean):[];m.setContentType([v||"multipart/form-data",...w].join("; "))}}if(Ye.hasStandardBrowserEnv&&(d&&L.isFunction(d)&&(d=d(o)),d||d!==!1&&kh(o.url))){const v=f&&p&&Ch.read(p);v&&m.set(f,v)}return o},Ph=typeof XMLHttpRequest<"u",Rh=Ph&&function(l){return new Promise(function(c,d){const f=Ud(l);let p=f.data;const m=it.from(f.headers).normalize();let{responseType:x,onUploadProgress:k,onDownloadProgress:v}=f,w,N,S,P,_;function C(){P&&P(),_&&_(),f.cancelToken&&f.cancelToken.unsubscribe(w),f.signal&&f.signal.removeEventListener("abort",w)}let F=new XMLHttpRequest;F.open(f.method.toUpperCase(),f.url,!0),F.timeout=f.timeout;function Q(){if(!F)return;const se=it.from("getAllResponseHeaders"in F&&F.getAllResponseHeaders()),me={data:!x||x==="text"||x==="json"?F.responseText:F.response,status:F.status,statusText:F.statusText,headers:se,config:l,request:F};Id(function(D){c(D),C()},function(D){d(D),C()},me),F=null}"onloadend"in F?F.onloadend=Q:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(Q)},F.onabort=function(){F&&(d(new xe("Request aborted",xe.ECONNABORTED,l,F)),F=null)},F.onerror=function(){d(new xe("Network Error",xe.ERR_NETWORK,l,F)),F=null},F.ontimeout=function(){let ue=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const me=f.transitional||Ad;f.timeoutErrorMessage&&(ue=f.timeoutErrorMessage),d(new xe(ue,me.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,l,F)),F=null},p===void 0&&m.setContentType(null),"setRequestHeader"in F&&L.forEach(m.toJSON(),function(ue,me){F.setRequestHeader(me,ue)}),L.isUndefined(f.withCredentials)||(F.withCredentials=!!f.withCredentials),x&&x!=="json"&&(F.responseType=f.responseType),v&&([S,_]=El(v,!0),F.addEventListener("progress",S)),k&&F.upload&&([N,P]=El(k),F.upload.addEventListener("progress",N),F.upload.addEventListener("loadend",P)),(f.cancelToken||f.signal)&&(w=se=>{F&&(d(!se||se.type?new on(null,l,F):se),F.abort(),F=null)},f.cancelToken&&f.cancelToken.subscribe(w),f.signal&&(f.signal.aborted?w():f.signal.addEventListener("abort",w)));const ee=Nh(f.url);if(ee&&Ye.protocols.indexOf(ee)===-1){d(new xe("Unsupported protocol "+ee+":",xe.ERR_BAD_REQUEST,l));return}F.send(p||null)})},Th=(l,o)=>{const{length:c}=l=l?l.filter(Boolean):[];if(o||c){let d=new AbortController,f;const p=function(v){if(!f){f=!0,x();const w=v instanceof Error?v:this.reason;d.abort(w instanceof xe?w:new on(w instanceof Error?w.message:w))}};let m=o&&setTimeout(()=>{m=null,p(new xe(`timeout ${o} of ms exceeded`,xe.ETIMEDOUT))},o);const x=()=>{l&&(m&&clearTimeout(m),m=null,l.forEach(v=>{v.unsubscribe?v.unsubscribe(p):v.removeEventListener("abort",p)}),l=null)};l.forEach(v=>v.addEventListener("abort",p));const{signal:k}=d;return k.unsubscribe=()=>L.asap(x),k}},Fh=function*(l,o){let c=l.byteLength;if(c<o){yield l;return}let d=0,f;for(;d<c;)f=d+o,yield l.slice(d,f),d=f},Lh=async function*(l,o){for await(const c of Dh(l))yield*Fh(c,o)},Dh=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const o=l.getReader();try{for(;;){const{done:c,value:d}=await o.read();if(c)break;yield d}}finally{await o.cancel()}},fd=(l,o,c,d)=>{const f=Lh(l,o);let p=0,m,x=k=>{m||(m=!0,d&&d(k))};return new ReadableStream({async pull(k){try{const{done:v,value:w}=await f.next();if(v){x(),k.close();return}let N=w.byteLength;if(c){let S=p+=N;c(S)}k.enqueue(new Uint8Array(w))}catch(v){throw x(v),v}},cancel(k){return x(k),f.return()}},{highWaterMark:2})},Ol=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$d=Ol&&typeof ReadableStream=="function",Ah=Ol&&(typeof TextEncoder=="function"?(l=>o=>l.encode(o))(new TextEncoder):async l=>new Uint8Array(await new Response(l).arrayBuffer())),Bd=(l,...o)=>{try{return!!l(...o)}catch{return!1}},Oh=$d&&Bd(()=>{let l=!1;const o=new Request(Ye.origin,{body:new ReadableStream,method:"POST",get duplex(){return l=!0,"half"}}).headers.has("Content-Type");return l&&!o}),md=64*1024,Wo=$d&&Bd(()=>L.isReadableStream(new Response("").body)),_l={stream:Wo&&(l=>l.body)};Ol&&(l=>{["text","arrayBuffer","blob","formData","stream"].forEach(o=>{!_l[o]&&(_l[o]=L.isFunction(l[o])?c=>c[o]():(c,d)=>{throw new xe(`Response type '${o}' is not supported`,xe.ERR_NOT_SUPPORT,d)})})})(new Response);const zh=async l=>{if(l==null)return 0;if(L.isBlob(l))return l.size;if(L.isSpecCompliantForm(l))return(await new Request(Ye.origin,{method:"POST",body:l}).arrayBuffer()).byteLength;if(L.isArrayBufferView(l)||L.isArrayBuffer(l))return l.byteLength;if(L.isURLSearchParams(l)&&(l=l+""),L.isString(l))return(await Ah(l)).byteLength},Ih=async(l,o)=>{const c=L.toFiniteNumber(l.getContentLength());return c??zh(o)},Mh=Ol&&(async l=>{let{url:o,method:c,data:d,signal:f,cancelToken:p,timeout:m,onDownloadProgress:x,onUploadProgress:k,responseType:v,headers:w,withCredentials:N="same-origin",fetchOptions:S}=Ud(l);v=v?(v+"").toLowerCase():"text";let P=Th([f,p&&p.toAbortSignal()],m),_;const C=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let F;try{if(k&&Oh&&c!=="get"&&c!=="head"&&(F=await Ih(w,d))!==0){let me=new Request(o,{method:"POST",body:d,duplex:"half"}),pe;if(L.isFormData(d)&&(pe=me.headers.get("content-type"))&&w.setContentType(pe),me.body){const[D,de]=cd(F,El(ud(k)));d=fd(me.body,md,D,de)}}L.isString(N)||(N=N?"include":"omit");const Q="credentials"in Request.prototype;_=new Request(o,{...S,signal:P,method:c.toUpperCase(),headers:w.normalize().toJSON(),body:d,duplex:"half",credentials:Q?N:void 0});let ee=await fetch(_,S);const se=Wo&&(v==="stream"||v==="response");if(Wo&&(x||se&&C)){const me={};["status","statusText","headers"].forEach(W=>{me[W]=ee[W]});const pe=L.toFiniteNumber(ee.headers.get("content-length")),[D,de]=x&&cd(pe,El(ud(x),!0))||[];ee=new Response(fd(ee.body,md,D,()=>{de&&de(),C&&C()}),me)}v=v||"text";let ue=await _l[L.findKey(_l,v)||"text"](ee,l);return!se&&C&&C(),await new Promise((me,pe)=>{Id(me,pe,{data:ue,headers:it.from(ee.headers),status:ee.status,statusText:ee.statusText,config:l,request:_})})}catch(Q){throw C&&C(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,l,_),{cause:Q.cause||Q}):xe.from(Q,Q&&Q.code,l,_)}}),Qo={http:eh,xhr:Rh,fetch:Mh};L.forEach(Qo,(l,o)=>{if(l){try{Object.defineProperty(l,"name",{value:o})}catch{}Object.defineProperty(l,"adapterName",{value:o})}});const pd=l=>`- ${l}`,Uh=l=>L.isFunction(l)||l===null||l===!1,Hd={getAdapter:l=>{l=L.isArray(l)?l:[l];const{length:o}=l;let c,d;const f={};for(let p=0;p<o;p++){c=l[p];let m;if(d=c,!Uh(c)&&(d=Qo[(m=String(c)).toLowerCase()],d===void 0))throw new xe(`Unknown adapter '${m}'`);if(d)break;f[m||"#"+p]=d}if(!d){const p=Object.entries(f).map(([x,k])=>`adapter ${x} `+(k===!1?"is not supported by the environment":"is not available in the build"));let m=o?p.length>1?`since :
`+p.map(pd).join(`
`):" "+pd(p[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return d},adapters:Qo};function $o(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new on(null,l)}function hd(l){return $o(l),l.headers=it.from(l.headers),l.data=Uo.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),Hd.getAdapter(l.adapter||as.adapter)(l).then(function(d){return $o(l),d.data=Uo.call(l,l.transformResponse,d),d.headers=it.from(d.headers),d},function(d){return zd(d)||($o(l),d&&d.response&&(d.response.data=Uo.call(l,l.transformResponse,d.response),d.response.headers=it.from(d.response.headers))),Promise.reject(d)})}const Vd="1.11.0",zl={};["object","boolean","number","function","string","symbol"].forEach((l,o)=>{zl[l]=function(d){return typeof d===l||"a"+(o<1?"n ":" ")+l}});const gd={};zl.transitional=function(o,c,d){function f(p,m){return"[Axios v"+Vd+"] Transitional option '"+p+"'"+m+(d?". "+d:"")}return(p,m,x)=>{if(o===!1)throw new xe(f(m," has been removed"+(c?" in "+c:"")),xe.ERR_DEPRECATED);return c&&!gd[m]&&(gd[m]=!0,console.warn(f(m," has been deprecated since v"+c+" and will be removed in the near future"))),o?o(p,m,x):!0}};zl.spelling=function(o){return(c,d)=>(console.warn(`${d} is likely a misspelling of ${o}`),!0)};function $h(l,o,c){if(typeof l!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const d=Object.keys(l);let f=d.length;for(;f-- >0;){const p=d[f],m=o[p];if(m){const x=l[p],k=x===void 0||m(x,p,l);if(k!==!0)throw new xe("option "+p+" must be "+k,xe.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new xe("Unknown option "+p,xe.ERR_BAD_OPTION)}}const Sl={assertOptions:$h,validators:zl},Ot=Sl.validators;let Cr=class{constructor(o){this.defaults=o||{},this.interceptors={request:new od,response:new od}}async request(o,c){try{return await this._request(o,c)}catch(d){if(d instanceof Error){let f={};Error.captureStackTrace?Error.captureStackTrace(f):f=new Error;const p=f.stack?f.stack.replace(/^.+\n/,""):"";try{d.stack?p&&!String(d.stack).endsWith(p.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+p):d.stack=p}catch{}}throw d}}_request(o,c){typeof o=="string"?(c=c||{},c.url=o):c=o||{},c=_r(this.defaults,c);const{transitional:d,paramsSerializer:f,headers:p}=c;d!==void 0&&Sl.assertOptions(d,{silentJSONParsing:Ot.transitional(Ot.boolean),forcedJSONParsing:Ot.transitional(Ot.boolean),clarifyTimeoutError:Ot.transitional(Ot.boolean)},!1),f!=null&&(L.isFunction(f)?c.paramsSerializer={serialize:f}:Sl.assertOptions(f,{encode:Ot.function,serialize:Ot.function},!0)),c.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?c.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:c.allowAbsoluteUrls=!0),Sl.assertOptions(c,{baseUrl:Ot.spelling("baseURL"),withXsrfToken:Ot.spelling("withXSRFToken")},!0),c.method=(c.method||this.defaults.method||"get").toLowerCase();let m=p&&L.merge(p.common,p[c.method]);p&&L.forEach(["delete","get","head","post","put","patch","common"],_=>{delete p[_]}),c.headers=it.concat(m,p);const x=[];let k=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(c)===!1||(k=k&&C.synchronous,x.unshift(C.fulfilled,C.rejected))});const v=[];this.interceptors.response.forEach(function(C){v.push(C.fulfilled,C.rejected)});let w,N=0,S;if(!k){const _=[hd.bind(this),void 0];for(_.unshift(...x),_.push(...v),S=_.length,w=Promise.resolve(c);N<S;)w=w.then(_[N++],_[N++]);return w}S=x.length;let P=c;for(N=0;N<S;){const _=x[N++],C=x[N++];try{P=_(P)}catch(F){C.call(this,F);break}}try{w=hd.call(this,P)}catch(_){return Promise.reject(_)}for(N=0,S=v.length;N<S;)w=w.then(v[N++],v[N++]);return w}getUri(o){o=_r(this.defaults,o);const c=Md(o.baseURL,o.url,o.allowAbsoluteUrls);return Dd(c,o.params,o.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(o){Cr.prototype[o]=function(c,d){return this.request(_r(d||{},{method:o,url:c,data:(d||{}).data}))}});L.forEach(["post","put","patch"],function(o){function c(d){return function(p,m,x){return this.request(_r(x||{},{method:o,headers:d?{"Content-Type":"multipart/form-data"}:{},url:p,data:m}))}}Cr.prototype[o]=c(),Cr.prototype[o+"Form"]=c(!0)});let Bh=class Kd{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(p){c=p});const d=this;this.promise.then(f=>{if(!d._listeners)return;let p=d._listeners.length;for(;p-- >0;)d._listeners[p](f);d._listeners=null}),this.promise.then=f=>{let p;const m=new Promise(x=>{d.subscribe(x),p=x}).then(f);return m.cancel=function(){d.unsubscribe(p)},m},o(function(p,m,x){d.reason||(d.reason=new on(p,m,x),c(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const c=this._listeners.indexOf(o);c!==-1&&this._listeners.splice(c,1)}toAbortSignal(){const o=new AbortController,c=d=>{o.abort(d)};return this.subscribe(c),o.signal.unsubscribe=()=>this.unsubscribe(c),o.signal}static source(){let o;return{token:new Kd(function(f){o=f}),cancel:o}}};function Hh(l){return function(c){return l.apply(null,c)}}function Vh(l){return L.isObject(l)&&l.isAxiosError===!0}const Xo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xo).forEach(([l,o])=>{Xo[o]=l});function qd(l){const o=new Cr(l),c=Nd(Cr.prototype.request,o);return L.extend(c,Cr.prototype,o,{allOwnKeys:!0}),L.extend(c,o,null,{allOwnKeys:!0}),c.create=function(f){return qd(_r(l,f))},c}const ze=qd(as);ze.Axios=Cr;ze.CanceledError=on;ze.CancelToken=Bh;ze.isCancel=zd;ze.VERSION=Vd;ze.toFormData=Al;ze.AxiosError=xe;ze.Cancel=ze.CanceledError;ze.all=function(o){return Promise.all(o)};ze.spread=Hh;ze.isAxiosError=Vh;ze.mergeConfig=_r;ze.AxiosHeaders=it;ze.formToJSON=l=>Od(L.isHTMLForm(l)?new FormData(l):l);ze.getAdapter=Hd.getAdapter;ze.HttpStatusCode=Xo;ze.default=ze;const{Axios:Ag,AxiosError:Og,CanceledError:zg,isCancel:Ig,CancelToken:Mg,VERSION:Ug,all:$g,Cancel:Bg,isAxiosError:Hg,spread:Vg,toFormData:Kg,AxiosHeaders:qg,HttpStatusCode:Wg,formToJSON:Qg,getAdapter:Xg,mergeConfig:Jg}=ze,ge=ze.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json"}});ge.interceptors.request.use(l=>{console.log("Making API request:",l.method?.toUpperCase(),l.url),console.log("Full URL:",l.baseURL+l.url);const o=localStorage.getItem("authToken");return o&&l.headers?(l.headers.Authorization=`Bearer ${o}`,console.log("Token added to request")):console.log("No token found for request"),l},l=>(console.error("Request interceptor error:",l),Promise.reject(l)));ge.interceptors.response.use(l=>(console.log("API response received:",l.status,l.config.url),l),l=>(console.error("API response error:",{status:l.response?.status,statusText:l.response?.statusText,url:l.config?.url,data:l.response?.data,message:l.message}),l.response?.status===401&&(l.config?.url!=="/auth/login"?(console.log("401 error on non-login request, redirecting to login"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/"):console.log("401 error on login request, not redirecting")),Promise.reject(l)));const Wd=async()=>{try{console.log("Testing API connection through proxy: /api/health");const l=await ge.get("/health");return console.log("API connection test response:",l.status),!0}catch(l){return console.error("API connection test failed:",l),console.error("Error details:",{status:l.response?.status,statusText:l.response?.statusText,data:l.response?.data,message:l.message}),!1}},Qd=async()=>{try{console.log("Testing login endpoint...");const l=await ge.post("/auth/login",{username_or_email:"test",password:"test"});return console.log("Login endpoint test response:",l.status),!0}catch(l){return console.error("Login endpoint test failed:",l),console.error("Error details:",{status:l.response?.status,statusText:l.response?.statusText,data:l.response?.data,message:l.message,code:l.code}),!1}},Xd=async(l,o)=>{try{console.log("Testing login with:",l);const c=await _t.login({username_or_email:l,password:o});return console.log("Test login result:",c),c}catch(c){return console.error("Test login failed:",c),null}},_t={async login(l){try{console.log(" Starting login request..."),console.log(" Login endpoint: /auth/login"),console.log(" Username:",l.username_or_email),console.log(" Base URL will be: /api (through proxy)");const o=await ge.post("/auth/login",l);return console.log(" Login response received:"),console.log("  - Status:",o.status),console.log("  - Token received:",o.data.auth_token?" YES":" NO"),console.log("  - Token length:",o.data.auth_token?.length||0),o.data}catch(o){if(console.error(" Login request failed:"),console.error("  - Status:",o.response?.status),console.error("  - Status Text:",o.response?.statusText),console.error("  - Response Data:",o.response?.data),console.error("  - Error Message:",o.message),console.error("  - Error Code:",o.code),console.error("  - Full Error Object:",o),o.response?.status===422){const c=o.response?.data?.detail?.[0]?.msg||"Validation error";throw new Error(`Validation Error: ${c}`)}else throw o.response?.status===401?new Error("Invalid username or password"):o.code==="NETWORK_ERROR"||!o.response?new Error("Network error. Please check your connection and try again."):new Error(o.response?.data?.detail?.[0]?.msg||"Login failed. Please check your credentials.")}},async getCurrentUser(){try{console.log("Making getCurrentUser request to:","/auth/me");const l=await ge.get("/auth/me",{timeout:1e4});return console.log("GetCurrentUser response received:",l.status,l.data),l.data}catch(l){throw console.error("GetCurrentUser request failed:",{status:l.response?.status,statusText:l.response?.statusText,data:l.response?.data,message:l.message}),new Error(l.response?.data?.detail?.[0]?.msg||"Failed to fetch user information.")}},logout(){localStorage.removeItem("authToken"),localStorage.removeItem("user")},isAuthenticated(){return!!localStorage.getItem("authToken")},getToken(){return localStorage.getItem("authToken")},storeAuthData(l,o){localStorage.setItem("authToken",l),localStorage.setItem("user",JSON.stringify(o))},getStoredUser(){const l=localStorage.getItem("user");return l?JSON.parse(l):null}};typeof window<"u"&&(window.testApiConnection=Wd,window.testLoginEndpoint=Qd,window.testLogin=Xd,window.authService=_t);const Kh=Object.freeze(Object.defineProperty({__proto__:null,authService:_t,testApiConnection:Wd,testLogin:Xd,testLoginEndpoint:Qd},Symbol.toStringTag,{value:"Module"})),Jd=O.createContext(void 0),xd=l=>({id:l.id,username:l.username,role:l.role,name:l.username,email:l.email,phone:void 0,is_active:l.is_active,created_at:l.created_at,updated_at:l.updated_at});function qh({children:l}){const[o,c]=O.useState(null),[d,f]=O.useState(!0);O.useEffect(()=>{console.log("User state changed:",o?.username||"null")},[o]),O.useEffect(()=>{(async()=>{try{if(console.log("Initializing auth..."),_t.isAuthenticated()){console.log("User is authenticated, getting stored user...");const k=_t.getStoredUser();if(k){console.log("Found stored user:",k.username);const v=xd(k);c(v)}else console.log("No stored user found")}else console.log("User is not authenticated")}catch(k){console.error("Error during auth initialization:",k),_t.logout()}finally{console.log("Auth initialization complete, setting loading to false"),f(!1)}})()},[]);const p=async(x,k)=>{try{f(!0),console.log("Starting login process...");const v=await _t.login({username_or_email:x,password:k});console.log("Login API successful, got token:",v.auth_token?"YES":"NO"),localStorage.setItem("authToken",v.auth_token),console.log("Token stored in localStorage");try{const w=await _t.getCurrentUser();console.log("Got user info:",w.username),_t.storeAuthData(v.auth_token,w),console.log("Stored complete auth data in localStorage");const N=xd(w);c(N),console.log("Set user in state:",N.username)}catch(w){console.warn("Failed to fetch user info, using fallback user data:",w.message);const N={id:1,username:x,role:"admin",name:x,email:`${x}@example.com`,phone:void 0,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};_t.storeAuthData(v.auth_token,N),console.log("Stored fallback auth data in localStorage"),c(N),console.log("Set fallback user in state:",N.username)}return{success:!0}}catch(v){return console.error("Login error:",v),{success:!1,error:v.message||"Login failed. Please try again."}}finally{f(!1)}},m=()=>{_t.logout(),c(null)};return n.jsx(Jd.Provider,{value:{user:o,login:p,logout:m,isAuthenticated:!!o,loading:d},children:l})}function os(){const l=O.useContext(Jd);if(l===void 0)throw new Error("useAuth must be used within an AuthProvider");return l}const en={async getProducts(){try{console.log("Fetching products...");const l=await ge.get("/products/");return console.log("Products fetched successfully:",l.data.length,"products"),l.data}catch(l){throw console.error("Failed to fetch products:",l),new Error(l.response?.data?.detail?.[0]?.msg||"Failed to fetch products. Please try again.")}},async getProduct(l){try{console.log("Fetching product:",l);const o=await ge.get(`/products/${l}`);return console.log("Product fetched successfully:",o.data.name),o.data}catch(o){throw console.error("Failed to fetch product:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to fetch product. Please try again.")}},async createProduct(l){try{console.log("Creating product:",{name:l.name,price:l.price});const o=await ge.post("/products/",l);return console.log("Product created successfully:",o.data.name),o.data}catch(o){throw console.error("Failed to create product:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to create product. Please check the information and try again.")}},async updateProduct(l,o){try{console.log("Updating product:",l,o);const c=await ge.put(`/products/${l}`,o);return console.log("Product updated successfully:",c.data.name),c.data}catch(c){throw console.error("Failed to update product:",c),new Error(c.response?.data?.detail?.[0]?.msg||"Failed to update product. Please try again.")}},async deleteProduct(l){try{console.log("Deleting product:",l);const o=await ge.delete(`/products/${l}`);return console.log("Product deleted successfully"),o.data}catch(o){throw console.error("Failed to delete product:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to delete product. Please try again.")}},async uploadProductImage(l,o){try{console.log("Uploading image for product:",l);const c=new FormData;c.append("file",o);const d=await ge.post(`/products/${l}/upload-image`,c,{headers:{"Content-Type":"multipart/form-data"}});return console.log("Image uploaded successfully for product:",d.data.name),d.data}catch(c){throw console.error("Failed to upload product image:",c),new Error(c.response?.data?.detail?.[0]?.msg||"Failed to upload image. Please try again.")}}};typeof window<"u"&&(window.productService=en);const Yd=O.createContext(void 0),yl=l=>({id:l.id,name:l.name,description:l.description,price:l.price,stock:l.stock,image_url:l.image_url,category_id:l.category_id,created_at:l.created_at,updated_at:l.updated_at,category:"General",imageUrl:l.image_url});function Wh({children:l}){const[o,c]=O.useState([]),[d,f]=O.useState(!0),[p,m]=O.useState(null);O.useEffect(()=>{(async()=>{try{f(!0),m(null),console.log("ProductContext: Fetching products from API...");const P=(await en.getProducts()).map(yl);c(P),console.log("ProductContext: Successfully loaded",P.length,"products")}catch(S){console.warn("ProductContext: API not available, using empty data:",S.message),m(S.message||"Failed to fetch products"),c([])}finally{f(!1)}})()},[]);const x=async N=>{try{m(null);const S=await en.createProduct({name:N.name,description:N.description,price:N.price,stock:N.stock,image_url:N.image_url||"",category_id:N.category_id||1}),P=yl(S);c(_=>[..._,P])}catch(S){throw m(S.message||"Failed to create product"),S}},k=async(N,S)=>{try{m(null);const P=await en.updateProduct(N,{name:S.name,description:S.description,price:S.price,stock:S.stock,image_url:S.image_url,category_id:S.category_id}),_=yl(P);c(C=>C.map(F=>F.id===N?_:F))}catch(P){throw m(P.message||"Failed to update product"),P}},v=async N=>{try{m(null),await en.deleteProduct(N),c(S=>S.filter(P=>P.id!==N))}catch(S){throw m(S.message||"Failed to delete product"),S}},w=async()=>{try{f(!0),m(null);const S=(await en.getProducts()).map(yl);c(S)}catch(N){m(N.message||"Failed to refresh products"),console.error("Error refreshing products:",N)}finally{f(!1)}};return n.jsx(Yd.Provider,{value:{products:o,loading:d,error:p,addProduct:x,updateProduct:k,deleteProduct:v,refreshProducts:w},children:l})}function Il(){const l=O.useContext(Yd);if(l===void 0)throw new Error("useProducts must be used within a ProductProvider");return l}const tn={async getCategories(){try{console.log("Fetching categories...");const l=await ge.get("/categories/");return console.log("Categories fetched successfully:",l.data.length,"categories"),l.data}catch(l){throw console.error("Failed to fetch categories:",l),new Error(l.response?.data?.detail?.[0]?.msg||"Failed to fetch categories. Please try again.")}},async getCategory(l){try{console.log("Fetching category:",l);const o=await ge.get(`/categories/${l}`);return console.log("Category fetched successfully:",o.data.name),o.data}catch(o){throw console.error("Failed to fetch category:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to fetch category. Please try again.")}},async createCategory(l){try{console.log("Creating category:",{name:l.name});const o=await ge.post("/categories/",l);return console.log("Category created successfully:",o.data.name),o.data}catch(o){throw console.error("Failed to create category:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to create category. Please check the information and try again.")}},async updateCategory(l,o){try{console.log("Updating category:",l,o);const c=await ge.put(`/categories/${l}`,o);return console.log("Category updated successfully:",c.data.name),c.data}catch(c){throw console.error("Failed to update category:",c),new Error(c.response?.data?.detail?.[0]?.msg||"Failed to update category. Please try again.")}},async deleteCategory(l){try{console.log("Deleting category:",l);const o=await ge.delete(`/categories/${l}`);return console.log("Category deleted successfully"),o.data}catch(o){throw console.error("Failed to delete category:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to delete category. Please try again.")}},async seedCategories(){try{console.log("Seeding default categories...");const l=await ge.post("/categories/seed-categories");return console.log("Categories seeded successfully:",l.data),l.data}catch(l){throw console.error("Failed to seed categories:",l),new Error(l.response?.data?.detail?.[0]?.msg||"Failed to seed categories. Please try again.")}}};typeof window<"u"&&(window.categoryService=tn);const vl=l=>({id:l.id,name:l.name,created_at:l.created_at,updated_at:l.updated_at}),Gd=O.createContext(void 0);function Qh({children:l}){const[o,c]=O.useState([]),[d,f]=O.useState(!0),[p,m]=O.useState(null);O.useEffect(()=>{(async()=>{try{f(!0),m(null),console.log("CategoryContext: Fetching categories from API...");const P=(await tn.getCategories()).map(vl);c(P),console.log("CategoryContext: Successfully loaded",P.length,"categories")}catch(S){console.warn("CategoryContext: API not available, using empty data:",S.message),m(S.message||"Failed to fetch categories"),c([])}finally{f(!1)}})()},[]);const x=async N=>{try{m(null);const S=await tn.createCategory(N),P=vl(S);c(_=>[..._,P])}catch(S){throw m(S.message||"Failed to create category"),S}},k=async(N,S)=>{try{m(null);const P=await tn.updateCategory(N,S),_=vl(P);c(C=>C.map(F=>F.id===N?_:F))}catch(P){throw m(P.message||"Failed to update category"),P}},v=async N=>{try{m(null),await tn.deleteCategory(N),c(S=>S.filter(P=>P.id!==N))}catch(S){throw m(S.message||"Failed to delete category"),S}},w=async()=>{try{f(!0),m(null);const S=(await tn.getCategories()).map(vl);c(S)}catch(N){m(N.message||"Failed to refresh categories"),console.error("Error refreshing categories:",N)}finally{f(!1)}};return n.jsx(Gd.Provider,{value:{categories:o,loading:d,error:p,addCategory:x,updateCategory:k,deleteCategory:v,refreshCategories:w},children:l})}function Xh(){const l=O.useContext(Gd);if(l===void 0)throw new Error("useCategories must be used within a CategoryProvider");return l}const wl={async getCustomers(){try{console.log("Fetching customers...");const l=await ge.get("/customers/");return console.log("Customers fetched successfully:",l.data.length,"customers"),l.data}catch(l){throw console.error("Failed to fetch customers:",l),new Error(l.response?.data?.detail?.[0]?.msg||"Failed to fetch customers. Please try again.")}},async getCustomer(l){try{console.log("Fetching customer:",l);const o=await ge.get(`/customers/${l}`);return console.log("Customer fetched successfully:",o.data.name),o.data}catch(o){throw console.error("Failed to fetch customer:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to fetch customer. Please try again.")}},async createCustomer(l){try{console.log("Creating customer:",l.name);const o=await ge.post("/customers/",l);return console.log("Customer created successfully:",o.data.name),o.data}catch(o){throw console.error("Failed to create customer:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to create customer. Please try again.")}},async updateCustomer(l,o){try{console.log("Updating customer:",l);const c=await ge.put(`/customers/${l}`,o);return console.log("Customer updated successfully:",c.data.name),c.data}catch(c){throw console.error("Failed to update customer:",c),new Error(c.response?.data?.detail?.[0]?.msg||"Failed to update customer. Please try again.")}},async deleteCustomer(l){try{console.log("Deleting customer:",l);const o=await ge.delete(`/customers/${l}`);return console.log("Customer deleted successfully"),o.data}catch(o){throw console.error("Failed to delete customer:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to delete customer. Please try again.")}},async getCustomerByCard(l){try{console.log("Fetching customer by card:",l);const o=await ge.get(`/customers/search/by-card/${l}`);return console.log("Customer fetched successfully:",o.data.name),o.data}catch(o){throw console.error("Failed to fetch customer by card:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to fetch customer. Please try again.")}},async getCustomerByRfid(l){try{console.log("Fetching customer by RFID:",l);const o=await ge.get(`/customers/search/by-rfid/${l}`);return console.log("Customer fetched successfully:",o.data.name),o.data}catch(o){throw console.error("Failed to fetch customer by RFID:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to fetch customer. Please try again.")}}},Zd=O.createContext(void 0),cn=()=>{const l=O.useContext(Zd);if(l===void 0)throw new Error("useCustomers must be used within a CustomerProvider");return l},Jh=({children:l})=>{const[o,c]=O.useState([]),[d,f]=O.useState(!1),[p,m]=O.useState(null),x=P=>({...P,cardRefId:P.card_number||"",rfId:P.rfid_no||"",createdAt:P.created_at?new Date(P.created_at):new Date,address:void 0}),k=async()=>{try{f(!0),m(null),console.log("Refreshing customers...");const _=(await wl.getCustomers()).map(x);c(_),console.log("Customers refreshed successfully:",_.length)}catch(P){console.error("Failed to refresh customers:",P),m(P.message||"Failed to fetch customers")}finally{f(!1)}},v=async P=>{try{f(!0),m(null),console.log("Adding customer:",P.name);const _=await wl.createCustomer(P),C=x(_);c(F=>[...F,C]),console.log("Customer added successfully:",C.name)}catch(_){throw console.error("Failed to add customer:",_),m(_.message||"Failed to add customer"),_}finally{f(!1)}},w=async(P,_)=>{try{f(!0),m(null),console.log("Updating customer:",P);const C=await wl.updateCustomer(P,_),F=x(C);c(Q=>Q.map(ee=>ee.id===P?F:ee)),console.log("Customer updated successfully:",F.name)}catch(C){throw console.error("Failed to update customer:",C),m(C.message||"Failed to update customer"),C}finally{f(!1)}},N=async P=>{try{f(!0),m(null),console.log("Deleting customer:",P),await wl.deleteCustomer(P),c(_=>_.filter(C=>C.id!==P)),console.log("Customer deleted successfully")}catch(_){throw console.error("Failed to delete customer:",_),m(_.message||"Failed to delete customer"),_}finally{f(!1)}};O.useEffect(()=>{k()},[]);const S={customers:o,loading:d,error:p,addCustomer:v,updateCustomer:w,deleteCustomer:N,refreshCustomers:k};return n.jsx(Zd.Provider,{value:S,children:l})},kl={async createRecharge(l){try{console.log("Creating recharge:",l.amount,"for customer:",l.customer_id);const o=await ge.post("/sales/recharge",l);return console.log("Recharge created successfully:",o.data.id),o.data}catch(o){throw console.error("Failed to create recharge:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to create recharge. Please try again.")}},async getRechargeHistory(l){try{console.log("Fetching recharge history for customer:",l);const o=await ge.get(`/sales/recharge/history/${l}`);return console.log("Recharge history fetched successfully:",o.data.length,"recharges"),o.data}catch(o){throw console.error("Failed to fetch recharge history:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to fetch recharge history. Please try again.")}}};typeof window<"u"&&(window.rechargeService=kl);const ef=O.createContext(void 0),tf=()=>{const l=O.useContext(ef);if(l===void 0)throw new Error("useRecharges must be used within a RechargeProvider");return l},Yh=({children:l})=>{const[o,c]=O.useState([]),[d,f]=O.useState(!1),[p,m]=O.useState(null),x=P=>({...P,customerId:P.customer_id?.toString()||"0",timestamp:P.recharge_date?new Date(P.recharge_date):new Date,previousBalance:0,newBalance:0}),k=async()=>{try{f(!0),m(null),console.log("Refreshing recharges...");const _=(await kl.getRecharges()).map(x);c(_),console.log("Recharges refreshed successfully:",_.length)}catch(P){console.error("Failed to refresh recharges:",P),m(P.message||"Failed to fetch recharges")}finally{f(!1)}},v=async P=>{try{f(!0),m(null),console.log("Adding recharge:",P.amount,"for customer:",P.customer_id);const _=await kl.createRecharge(P),C=x(_);c(F=>[...F,C]),console.log("Recharge added successfully:",C.id)}catch(_){throw console.error("Failed to add recharge:",_),m(_.message||"Failed to add recharge"),_}finally{f(!1)}},w=async P=>{try{f(!0),m(null),console.log("Deleting recharge:",P),await kl.deleteRecharge(P),c(_=>_.filter(C=>C.id!==P)),console.log("Recharge deleted successfully")}catch(_){throw console.error("Failed to delete recharge:",_),m(_.message||"Failed to delete recharge"),_}finally{f(!1)}},N=P=>o.filter(_=>_.customer_id===P);O.useEffect(()=>{k()},[]);const S={recharges:o,loading:d,error:p,addRecharge:v,deleteRecharge:w,refreshRecharges:k,getRechargesByCustomer:N};return n.jsx(ef.Provider,{value:S,children:l})},ur={async getSales(){try{console.log("Fetching sales...");const l=await ge.get("/sales/");return console.log("Sales fetched successfully:",l.data.length,"sales"),l.data}catch(l){throw console.error("Failed to fetch sales:",l),new Error(l.response?.data?.detail?.[0]?.msg||"Failed to fetch sales. Please try again.")}},async getSale(l){try{console.log("Fetching sale:",l);const o=await ge.get(`/sales/${l}`);return console.log("Sale fetched successfully:",o.data.id),o.data}catch(o){throw console.error("Failed to fetch sale:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to fetch sale. Please try again.")}},async createSale(l){try{console.log("Creating sale:",l);const o=await ge.post("/sales/",l);return console.log("Sale created successfully:",o.data.id),o.data}catch(o){throw console.error("Failed to create sale:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to create sale. Please try again.")}},async getPendingSales(){try{console.log("Fetching pending sales...");const l=await ge.get("/sales/reports/pending");return console.log("Pending sales fetched successfully:",l.data.length,"sales"),l.data}catch(l){throw console.error("Failed to fetch pending sales:",l),new Error(l.response?.data?.detail?.[0]?.msg||"Failed to fetch pending sales. Please try again.")}},async getPendingSalesSummary(l){try{console.log("Fetching pending sales summary for customer:",l);const o=l?`/sales/pending?customer_id=${l}`:"/sales/pending",c=await ge.get(o);return console.log("Pending sales summary fetched successfully"),c.data}catch(o){throw console.error("Failed to fetch pending sales summary:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to fetch pending sales summary. Please try again.")}},async settleSale(l,o){try{console.log("Settling sale:",l);const c=await ge.put(`/sales/${l}/settle`,o);return console.log("Sale settled successfully:",c.data.id),c.data}catch(c){throw console.error("Failed to settle sale:",c),new Error(c.response?.data?.detail?.[0]?.msg||"Failed to settle sale. Please try again.")}},async batchSettleSales(l){try{console.log("Batch settling sales:",l.sale_ids.length,"sales");const o=await ge.post("/sales/settle-batch",l);return console.log("Batch settlement completed:",o.data.settled_count,"settled,",o.data.failed_count,"failed"),o.data}catch(o){throw console.error("Failed to batch settle sales:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to batch settle sales. Please try again.")}}},rf=O.createContext(void 0),Ml=()=>{const l=O.useContext(rf);if(l===void 0)throw new Error("useSales must be used within a SalesProvider");return l},Gh=({children:l})=>{const[o,c]=O.useState([]),[d,f]=O.useState(!1),[p,m]=O.useState(null),x=_=>({..._,total:_.total_price,subtotal:_.total_price,tax:0,customerId:_.customer_id?.toString()||"0",salesmanId:"1",createdAt:new Date(_.timestamp),invoiceNumber:`INV-${_.id?.toString().padStart(6,"0")||"000000"}`,items:(_.items||[]).map(C=>({...C,productId:C.product_id?.toString()||"0",productName:"",price:0,total:0}))});O.useEffect(()=>{(async()=>{try{f(!0),m(null),console.log("SalesContext: Initializing sales data...");const F=(await ur.getSales()).map(x);c(F),console.log("SalesContext: Successfully loaded",F.length,"sales")}catch(C){console.warn("SalesContext: API not available, using empty data:",C.message),m(C.message||"Failed to fetch sales"),c([])}finally{f(!1)}})()},[]);const k=async()=>{try{f(!0),m(null),console.log("Refreshing sales...");const C=(await ur.getSales()).map(x);c(C),console.log("Sales refreshed successfully:",C.length)}catch(_){console.error("Failed to refresh sales:",_),m(_.message||"Failed to fetch sales")}finally{f(!1)}},v=async _=>{try{f(!0),m(null),console.log("Adding sale:",_);const C=await ur.createSale(_),F=x(C);c(Q=>[...Q,F]),console.log("Sale added successfully:",F.id)}catch(C){throw console.error("Failed to add sale:",C),m(C.message||"Failed to add sale"),C}finally{f(!1)}},w=async(_,C)=>{try{f(!0),m(null),console.log("Settling sale:",_);const F=await ur.settleSale(_,C),Q=x(F);c(ee=>ee.map(se=>se.id===_?Q:se)),console.log("Sale settled successfully:",Q.id)}catch(F){throw console.error("Failed to settle sale:",F),m(F.message||"Failed to settle sale"),F}finally{f(!1)}},N=async()=>{try{console.log("Fetching pending sales...");const C=(await ur.getPendingSales()).map(x);return console.log("Pending sales fetched successfully:",C.length),C}catch(_){throw console.error("Failed to fetch pending sales:",_),_}},S=async _=>{try{console.log("Fetching pending sales summary...");const C=await ur.getPendingSalesSummary(_);return console.log("Pending sales summary fetched successfully"),C}catch(C){throw console.error("Failed to fetch pending sales summary:",C),C}};O.useEffect(()=>{k()},[]);const P={sales:o,loading:d,error:p,addSale:v,settleSale:w,refreshSales:k,getPendingSales:N,getPendingSalesSummary:S};return n.jsx(rf.Provider,{value:P,children:l})},Zh="modulepreload",eg=function(l){return"/"+l},yd={},tg=function(o,c,d){let f=Promise.resolve();if(c&&c.length>0){let v=function(w){return Promise.all(w.map(N=>Promise.resolve(N).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var m=v;document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),k=x?.nonce||x?.getAttribute("nonce");f=v(c.map(w=>{if(w=eg(w),w in yd)return;yd[w]=!0;const N=w.endsWith(".css"),S=N?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${S}`))return;const P=document.createElement("link");if(P.rel=N?"stylesheet":Zh,N||(P.as="script"),P.crossOrigin="",P.href=w,k&&P.setAttribute("nonce",k),document.head.appendChild(P),N)return new Promise((_,C)=>{P.addEventListener("load",_),P.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${w}`)))})}))}function p(x){const k=new Event("vite:preloadError",{cancelable:!0});if(k.payload=x,window.dispatchEvent(k),!k.defaultPrevented)throw x}return f.then(x=>{for(const k of x||[])k.status==="rejected"&&p(k.reason);return o().catch(p)})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(l,o)=>{const c=O.forwardRef(({color:d="currentColor",size:f=24,strokeWidth:p=2,absoluteStrokeWidth:m,className:x="",children:k,...v},w)=>O.createElement("svg",{ref:w,...rg,width:f,height:f,stroke:d,strokeWidth:m?Number(p)*24/Number(f):p,className:["lucide",`lucide-${ng(l)}`,x].join(" "),...v},[...o.map(([N,S])=>O.createElement(N,S)),...Array.isArray(k)?k:[k]]));return c.displayName=`${l}`,c};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=ye("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=ye("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=ye("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=ye("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=ye("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ye("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ye("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=ye("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=ye("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ye("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=ye("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ye("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function yg(){const[l,o]=O.useState("admin"),[c,d]=O.useState("admin123"),[f,p]=O.useState(""),[m,x]=O.useState(!1),{login:k}=os();ip.useEffect(()=>{(async()=>{try{const{testApiConnection:N}=await tg(async()=>{const{testApiConnection:S}=await Promise.resolve().then(()=>Kh);return{testApiConnection:S}},void 0);await N()}catch(N){console.error("Failed to test API connection:",N)}})()},[]);const v=async w=>{w.preventDefault(),console.log("Login form submitted with:",l),x(!0),p("");const N=await k(l,c);console.log("Login result:",N),N.success?console.log("Login successful, should redirect to dashboard"):(console.log("Login failed, setting error:",N.error),p(N.error||"Invalid username or password")),x(!1)};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"bg-amber-900 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(og,{className:"w-8 h-8 text-white"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cafe D Revenue"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"FBR Department System"})]}),n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-xs text-blue-800",children:[n.jsx("p",{children:n.jsx("strong",{children:"Debug Info:"})}),n.jsxs("p",{children:["Frontend URL: ",window.location.origin]}),n.jsx("p",{children:"API Base URL: /api (proxied to backend)"}),n.jsx("p",{children:"Try credentials: admin / admin123"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),n.jsx("input",{type:"text",value:l,onChange:w=>o(w.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Enter your username",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",value:c,onChange:w=>d(w.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Enter your password",required:!0})]}),f&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[n.jsx(es,{size:16}),n.jsx("span",{className:"text-sm",children:f})]}),n.jsx("button",{type:"submit",disabled:m,className:"w-full bg-amber-900 text-white py-3 px-4 rounded-lg hover:bg-amber-800 focus:ring-4 focus:ring-amber-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:m?"Signing In...":"Sign In"})]})]})})}function vg({activeView:l,onViewChange:o}){const{user:c,logout:d}=os(),p=[{id:"dashboard",label:"Dashboard",icon:cg,roles:["admin","manager"]},{id:"sales",label:"Sales POS",icon:ts,roles:["admin","manager","salesman"]},{id:"pending-sales",label:"Pending Sales",icon:sn,roles:["admin","manager"]},{id:"products",label:"Products",icon:ln,roles:["admin","manager"]},{id:"customers",label:"Customers",icon:Er,roles:["admin","manager"]},{id:"cards",label:"Card Management",icon:mt,roles:["admin"]},{id:"reports",label:"Reports",icon:Pl,roles:["admin","manager"]},{id:"settings",label:"Settings",icon:hg,roles:["admin"]}].filter(m=>c?.role&&m.roles.includes(c.role));return n.jsxs("div",{className:"w-64 bg-gradient-to-b from-amber-800 to-amber-900 text-white flex flex-col shadow-xl",children:[n.jsxs("div",{className:"p-6 border-b border-amber-700/50 flex-shrink-0",children:[n.jsx("h1",{className:"text-xl font-bold",children:"Cafe D Revenue"}),n.jsx("p",{className:"text-sm text-amber-200",children:"FBR Department"})]}),n.jsx("div",{className:"px-6 py-4 border-b border-amber-700/50 flex-shrink-0",children:n.jsxs("div",{className:"bg-amber-700/30 rounded-lg p-3",children:[n.jsx("p",{className:"text-sm text-amber-200",children:"Logged in as:"}),n.jsx("p",{className:"font-semibold",children:c?.name}),n.jsx("p",{className:"text-xs text-amber-300 capitalize",children:c?.role})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:n.jsx("nav",{className:"space-y-1 px-2",children:p.map(m=>{const x=m.icon,k=l===m.id;return n.jsxs("button",{onClick:()=>o(m.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${k?"bg-amber-700 text-white shadow-lg scale-105":"text-amber-200 hover:bg-amber-700/50 hover:text-white hover:scale-105"}`,children:[n.jsx(x,{size:20}),n.jsx("span",{className:"font-medium",children:m.label})]},m.id)})})}),n.jsx("div",{className:"p-4 border-t border-amber-700/50 flex-shrink-0",children:n.jsxs("button",{onClick:d,className:"w-full flex items-center space-x-3 px-4 py-3 text-amber-200 hover:bg-amber-700/50 hover:text-white rounded-lg transition-all duration-200",children:[n.jsx(ug,{size:20}),n.jsx("span",{className:"font-medium",children:"Logout"})]})})]})}const Cl={async getOverview(l,o){try{console.log("Fetching dashboard overview...",l,"to",o);const c=await ge.get(`/dashboard/overview?from_date=${l}&to_date=${o}`);return console.log("Dashboard overview fetched successfully"),c.data}catch(c){return console.error("Failed to fetch dashboard overview:",c),{total_sales:0,total_transactions:0,total_customers:0,average_transaction:0}}},async getSalesTrends(l=30){try{console.log("Fetching sales trends for",l,"days");const o=await ge.get(`/dashboard/trends?days=${l}`);return console.log("Sales trends fetched successfully:",o.data.length,"data points"),o.data}catch(o){return console.error("Failed to fetch sales trends:",o),[]}},async getTrends(l=30){return this.getSalesTrends(l)},async getCustomerInsights(l=5){try{console.log("Fetching customer insights...");const o=await ge.get(`/dashboard/customers/insights?limit=${l}`);return console.log("Customer insights fetched successfully:",o.data.length,"customers"),o.data}catch(o){return console.error("Failed to fetch customer insights:",o),[]}}};typeof window<"u"&&(window.dashboardService=Cl);function jd({onViewChange:l}){const{user:o}=os(),{sales:c}=Ml(),{customers:d}=cn(),{products:f}=Il(),[p,m]=O.useState(null),[x,k]=O.useState(null),[v,w]=O.useState(null),[N,S]=O.useState(!1),[P,_]=O.useState(null),[C,F]=O.useState("today"),[Q,ee]=O.useState({fromDate:"",toDate:""}),se=c.reduce((K,J)=>K+(J.total||J.total_price),0),ue=c.filter(K=>{const J=new Date;return new Date(K.timestamp||K.createdAt||new Date).toDateString()===J.toDateString()}),me=ue.reduce((K,J)=>K+(J.total||J.total_price),0),pe=f.filter(K=>K.stock<20),D=d.reduce((K,J)=>K+J.balance,0),de=()=>{const K=new Date,J=new Date(K.getFullYear(),K.getMonth(),1);switch(C){case"today":return{fromDate:K.toISOString().split("T")[0],toDate:K.toISOString().split("T")[0]};case"week":return{fromDate:new Date(Date.now()-10080*60*1e3).toISOString().split("T")[0],toDate:K.toISOString().split("T")[0]};case"month":return{fromDate:J.toISOString().split("T")[0],toDate:K.toISOString().split("T")[0]};case"custom":return{fromDate:Q.fromDate,toDate:Q.toDate};default:return{fromDate:J.toISOString().split("T")[0],toDate:K.toISOString().split("T")[0]}}},W=async()=>{S(!0),_(null);try{const{fromDate:K,toDate:J}=de(),[ae,Se,Ie]=await Promise.all([Cl.getOverview(K,J),Cl.getSalesTrends(30),Cl.getCustomerInsights(5)]);m(ae),k(Se),w(Ie)}catch(K){console.error("Failed to fetch dashboard data:",K),_(K.message||"Failed to fetch dashboard data")}finally{S(!1)}};O.useEffect(()=>{W()},[C,Q.fromDate,Q.toDate]);const le=[{title:"Today's Sales",value:`PKR ${me.toLocaleString()}`,icon:Pt,color:"bg-green-500",change:"+12%"},{title:"Total Revenue",value:`PKR ${se.toLocaleString()}`,icon:Tl,color:"bg-blue-500",change:"+8%"},{title:"Active Customers",value:d.length.toString(),icon:Er,color:"bg-purple-500",change:"+3%"},{title:"Card Balance",value:`PKR ${D.toLocaleString()}`,icon:mt,color:"bg-amber-500",change:"+15%"}];return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),n.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",o?.name||o?.username]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("select",{value:C,onChange:K=>F(K.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"}),n.jsx("option",{value:"custom",children:"Custom Range"})]}),n.jsxs("button",{onClick:W,disabled:N,className:"bg-amber-900 text-white px-4 py-2 rounded-lg hover:bg-amber-800 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[n.jsx(Rl,{size:16,className:N?"animate-spin":""}),n.jsx("span",{children:"Refresh"})]}),n.jsx("div",{className:"bg-amber-900 text-white px-4 py-2 rounded-lg",children:n.jsx("span",{className:"text-sm font-medium capitalize",children:o?.role})})]})]}),C==="custom"&&n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),n.jsx("input",{type:"date",value:Q.fromDate,onChange:K=>ee(J=>({...J,fromDate:K.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),n.jsx("input",{type:"date",value:Q.toDate,onChange:K=>ee(J=>({...J,toDate:K.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]})}),P&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-800",children:P})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:le.map((K,J)=>n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:K.title}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:K.value}),n.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[K.change," from last week"]})]}),n.jsx("div",{className:`${K.color} p-3 rounded-lg`,children:n.jsx(K.icon,{className:"w-6 h-6 text-white"})})]})},J))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{onClick:()=>l("sales"),className:"flex items-center space-x-2 bg-amber-900 text-white px-4 py-3 rounded-lg hover:bg-amber-800 transition-colors",children:[n.jsx(ts,{size:16}),n.jsx("span",{className:"text-sm",children:"New Sale"})]}),o?.role!=="salesman"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>l("products"),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(ln,{size:16}),n.jsx("span",{className:"text-sm",children:"Add Product"})]}),n.jsxs("button",{onClick:()=>l("customers"),className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:[n.jsx(Er,{size:16}),n.jsx("span",{className:"text-sm",children:"Add Customer"})]}),n.jsxs("button",{onClick:()=>l("cards"),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(mt,{size:16}),n.jsx("span",{className:"text-sm",children:"Recharge Card"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alerts & Notifications"}),n.jsxs("div",{className:"space-y-3",children:[pe.length>0&&n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 rounded",children:[n.jsx("p",{className:"text-sm font-medium text-red-800",children:"Low Stock Alert"}),n.jsxs("p",{className:"text-sm text-red-700",children:[pe.length," products running low"]})]}),n.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-3 rounded",children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"System Status"}),n.jsx("p",{className:"text-sm text-green-700",children:"All systems operational"})]}),n.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Today's Performance"}),n.jsxs("p",{className:"text-sm text-blue-700",children:[ue.length," transactions completed"]})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Sales"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left py-2 font-medium text-gray-700",children:"Invoice #"}),n.jsx("th",{className:"text-left py-2 font-medium text-gray-700",children:"Items"}),n.jsx("th",{className:"text-left py-2 font-medium text-gray-700",children:"Payment"}),n.jsx("th",{className:"text-left py-2 font-medium text-gray-700",children:"Total"}),n.jsx("th",{className:"text-left py-2 font-medium text-gray-700",children:"Time"})]})}),n.jsx("tbody",{children:c.slice(-5).reverse().map(K=>n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("td",{className:"py-3 font-medium",children:K.invoiceNumber}),n.jsxs("td",{className:"py-3 text-gray-600",children:[K.items.length," items"]}),n.jsx("td",{className:"py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${K.payment_method==="cash"?"bg-green-100 text-green-800":K.payment_method==="card"?"bg-blue-100 text-blue-800":K.payment_method==="easypaisa"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800"}`,children:K.payment_method.toUpperCase()})}),n.jsxs("td",{className:"py-3 font-semibold",children:["PKR ",K.total||K.total_price]}),n.jsx("td",{className:"py-3 text-gray-500",children:new Date(K.createdAt||K.timestamp||new Date).toLocaleTimeString()})]},K.id))})]})})]}),p&&n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Pl,{className:"w-5 h-5 mr-2"}),"Dashboard Overview (API Data)"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Sales"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["PKR ",p.total_sales?.toLocaleString()||"0"]})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Transactions"}),n.jsx("p",{className:"text-2xl font-bold text-green-900",children:p.total_transactions||0})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Total Customers"}),n.jsx("p",{className:"text-2xl font-bold text-purple-900",children:p.total_customers||0})]}),n.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-amber-600 font-medium",children:"Average Transaction"}),n.jsxs("p",{className:"text-2xl font-bold text-amber-900",children:["PKR ",p.average_transaction?.toLocaleString()||"0"]})]})]})]}),x&&x.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Tl,{className:"w-5 h-5 mr-2"}),"Sales Trends (Last 30 Days)"]}),n.jsx("div",{className:"space-y-3",children:x.slice(0,10).map((K,J)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:new Date(K.date).toLocaleDateString()}),n.jsxs("p",{className:"text-sm text-gray-600",children:[K.transactions," transactions"]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-green-600",children:["PKR ",K.sales?.toLocaleString()||"0"]})})]},J))}),x.length===0&&n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No trend data available for the selected period"})]}),v&&v.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Er,{className:"w-5 h-5 mr-2"}),"Top Customer Insights"]}),n.jsx("div",{className:"space-y-3",children:v.map((K,J)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:J+1}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:K.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[K.transaction_count," transactions"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Last purchase: ",new Date(K.last_purchase).toLocaleDateString()]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-purple-600",children:["PKR ",K.total_spent?.toLocaleString()||"0"]})})]},K.id))}),v.length===0&&n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No customer insights available"})]}),N&&n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(wt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-amber-600"}),n.jsx("p",{className:"text-gray-600",children:"Loading dashboard data..."})]})})})]})}function wg(){const{products:l}=Il(),{customers:o}=cn(),{addSale:c,loading:d}=Ml(),[f,p]=O.useState("all"),[m,x]=O.useState([]),[k,v]=O.useState(""),[w,N]=O.useState("cash"),[S,P]=O.useState(""),[_,C]=O.useState(""),[F,Q]=O.useState(""),[ee,se]=O.useState(!1),[ue,me]=O.useState(""),[pe,D]=O.useState("success"),[de,W]=O.useState(!1),[le,K]=O.useState(!1),[J,ae]=O.useState(null),Se=["all",...new Set(l.map(A=>A.category))],Ie=l.filter(A=>{const he=f==="all"||A.category===f,be=A.name.toLowerCase().includes(k.toLowerCase());return he&&be}),Re=A=>{const he=m.find(be=>be.product_id===A.id);x(he?m.map(be=>be.product_id===A.id?{...be,quantity:be.quantity+1,total:(be.quantity+1)*(be.price||A.price)}:be):[...m,{product_id:A.id,productId:A.id.toString(),productName:A.name,quantity:1,price:A.price,total:A.price}])},B=(A,he)=>{x(m.map(be=>{if(be.productId===A||be.product_id===parseInt(A)){const Ge=Math.max(0,be.quantity+he);return Ge===0?null:{...be,quantity:Ge,total:Ge*(be.price||0)}}return be}).filter(Boolean))},I=A=>{x(m.filter(he=>he.productId!==A&&he.product_id!==parseInt(A)))},X=m.reduce((A,he)=>A+he.total,0),q=X,b=parseFloat(_)||0,M=b-q,g=(A,he)=>{me(A),D(he),se(!0)},z=async()=>{if(m.length===0){g("Cannot process empty cart. Please add items first.","error");return}if(w==="cash"&&b<q){g("Insufficient payment amount. Please enter the correct amount.","error");return}if(w==="pending"&&!F.trim()){g("Room number is required for pending payments.","error");return}if(w==="card"&&!S){g("Please select a customer for card payment.","error");return}K(!0);try{const A={customer_id:S?parseInt(S):1,room_no:F||"",payment_method:w,items:m.map(dr=>({product_id:dr.product_id,quantity:dr.quantity}))};console.log("Processing sale:",A);const he=await c(A),be=`INV-${Date.now().toString().slice(-6)}`,Ge={items:m,subtotal:X,total:q,paymentMethod:w,customerId:S,invoiceNumber:be,paidAmount:w==="cash"?b:q,change:w==="cash"?M:0,roomNumber:w==="pending"?F:null,createdAt:new Date,saleId:he?.id||Date.now()};ae(Ge),W(!0),g("Sale processed successfully!","success")}catch(A){console.error("Failed to process sale:",A);const he=A.message||"Failed to process sale. Please try again.";g(he,"error")}finally{K(!1)}},Y=()=>{try{const A=window.open("","_blank");if(!A){g("Please allow popups to print the receipt.","error");return}const he=ce();A.document.write(he),A.document.close(),A.print(),A.close()}catch(A){console.error("Print error:",A),window.print()}},ce=()=>J?`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Receipt - ${J.invoiceNumber}</title>
        <style>
          body { font-family: 'Courier New', monospace; width: 300px; margin: 0; padding: 10px; }
          .header { text-align: center; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .item-row { display: flex; justify-content: space-between; margin: 5px 0; }
          .total-row { border-top: 1px dashed #000; padding-top: 10px; font-weight: bold; }
          .footer { text-align: center; margin-top: 20px; font-size: 12px; }
        </style>
      </head>
      <body>
        <div class="header">
          <h2>Cafe D Revenue</h2>
          <p>FBR Department</p>
          <p>Invoice: ${J.invoiceNumber}</p>
          <p>Date: ${J.createdAt.toLocaleDateString()}</p>
          <p>Time: ${J.createdAt.toLocaleTimeString()}</p>
          ${J.roomNumber?`<p>Room: ${J.roomNumber}</p>`:""}
        </div>
        
        <div class="items">
          ${J.items.map(A=>`
            <div class="item-row">
              <span>${A.productName} x${A.quantity}</span>
              <span>PKR ${A.total}</span>
            </div>
          `).join("")}
        </div>
        
        <div class="total-row">
          <div class="item-row">
            <span>Total:</span>
            <span>PKR ${J.total.toFixed(2)}</span>
          </div>
          ${J.paymentMethod==="cash"?`
            <div class="item-row">
              <span>Paid:</span>
              <span>PKR ${J.paidAmount.toFixed(2)}</span>
            </div>
            <div class="item-row">
              <span>Change:</span>
              <span>PKR ${J.change.toFixed(2)}</span>
            </div>
          `:""}
          <div class="item-row">
            <span>Payment:</span>
            <span>${J.paymentMethod.toUpperCase()}</span>
          </div>
        </div>
        
        <div class="footer">
          <p>Thank you for your business!</p>
          <p>Visit us again soon</p>
        </div>
      </body>
      </html>
    `:"",Ce=()=>{x([]),P(""),C(""),Q(""),W(!1),ae(null)},je={cash:ag,card:mt,easypaisa:sf,pending:sn};return n.jsxs("div",{className:"h-full flex",children:[n.jsxs("div",{className:"flex-1 p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Point of Sale"}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(un,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search products...",value:k,onChange:A=>v(A.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),n.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:Se.map(A=>n.jsx("button",{onClick:()=>p(A),className:`px-4 py-2 rounded-lg whitespace-nowrap font-medium transition-colors ${f===A?"bg-amber-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:A==="all"?"All":A},A))})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Ie.map(A=>n.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>Re(A),children:[n.jsxs("div",{className:"h-24 bg-gradient-to-br from-amber-100 to-orange-100 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:[A.imageUrl?n.jsx("img",{src:A.imageUrl,alt:A.name,className:"w-full h-full object-cover",onError:he=>{const be=he.currentTarget;be.style.display="none";const Ge=be.nextElementSibling;Ge&&(Ge.style.display="flex")}}):null,n.jsx("div",{className:`w-full h-full flex items-center justify-center ${A.imageUrl?"hidden":""}`,children:n.jsx(ln,{className:"w-8 h-8 text-amber-700"})})]}),n.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:A.name}),n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:A.category}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-lg font-bold text-amber-900",children:["PKR ",A.price]}),n.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${A.stock>20?"bg-green-100 text-green-800":A.stock>5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[A.stock," left"]})]})]},A.id))})]}),n.jsxs("div",{className:"w-96 bg-white border-l border-gray-200 flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center space-x-2 p-6 pb-4 border-b border-gray-200",children:[n.jsx(ts,{className:"w-6 h-6 text-amber-900"}),n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Current Order"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:[n.jsx("div",{className:"mb-6",children:m.length===0?n.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[n.jsx(ts,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),n.jsx("p",{children:"No items in cart"})]}):n.jsx("div",{className:"space-y-3",children:m.map(A=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("span",{className:"font-medium text-gray-900 text-sm",children:A.productName}),n.jsx("button",{onClick:()=>I(A.productId),className:"text-red-600 hover:text-red-800",children:n.jsx(nn,{size:14})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>B(A.productId,-1),className:"w-6 h-6 rounded-full bg-gray-300 hover:bg-gray-400 flex items-center justify-center",children:n.jsx(fg,{size:12})}),n.jsx("span",{className:"w-8 text-center font-medium",children:A.quantity}),n.jsx("button",{onClick:()=>B(A.productId,1),className:"w-6 h-6 rounded-full bg-amber-900 hover:bg-amber-800 text-white flex items-center justify-center",children:n.jsx(is,{size:12})})]}),n.jsxs("span",{className:"font-semibold text-gray-900",children:["PKR ",A.total]})]})]},A.productId))})}),m.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Customer ",w==="card"?"(Required for Card Payment)":"(Optional)"]}),w==="card"&&n.jsxs("div",{className:"mb-3",children:[n.jsx("input",{type:"text",placeholder:"Tap/Scan customer card or enter card number...",className:"w-full px-3 py-2 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm bg-amber-50",onKeyDown:A=>{if(A.key==="Enter"){const he=A.currentTarget.value.trim();if(he){const be=o.find(Ge=>Ge.cardRefId===he||Ge.card_number===he||Ge.rfid_no===he);be?(P(be.id.toString()),A.currentTarget.value="",g(`Customer ${be.name} selected successfully!`,"success")):g("Card not found. Please select from the list below.","error")}}}}),n.jsx("p",{className:"text-xs text-amber-700 mt-1",children:" Scan customer card or enter card number, then press Enter"})]}),n.jsxs("select",{value:S,onChange:A=>P(A.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm ${w==="card"?"border-amber-300 bg-amber-50":"border-gray-300"}`,required:w==="card",children:[n.jsx("option",{value:"",children:w==="card"?"Select a customer for card payment":"Walk-in Customer"}),o.map(A=>n.jsxs("option",{value:A.id,children:[A.name," - Balance: PKR ",A.balance?.toFixed(2)||"0.00","(",A.cardRefId||A.card_number||"No Card",")"]},A.id))]}),w==="card"&&S&&n.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-sm",children:(()=>{const A=o.find(he=>he.id.toString()===S);if(A){const he=(A.balance||0)>=q;return n.jsxs("div",{className:he?"text-green-800":"text-red-800",children:[n.jsx("div",{className:"font-medium",children:A.name}),n.jsxs("div",{children:["Balance: PKR ",A.balance?.toFixed(2)||"0.00"]}),n.jsxs("div",{children:["Card: ",A.cardRefId||A.card_number||"None"]}),!he&&n.jsxs("div",{className:"text-red-600 font-medium mt-1",children:[" Insufficient balance! Short by PKR ",(q-(A.balance||0)).toFixed(2)]})]})}return null})()})]}),m.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(je).map(A=>{const he=je[A];return n.jsxs("button",{onClick:()=>N(A),className:`flex items-center space-x-2 p-3 rounded-lg border transition-colors ${w===A?"border-amber-900 bg-amber-50 text-amber-900":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(he,{size:16}),n.jsx("span",{className:"text-sm font-medium capitalize",children:A})]},A)})})]}),m.length>0&&w==="cash"&&n.jsxs("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-amber-800 mb-2",children:"Amount Paid"}),n.jsx("input",{type:"number",value:_,onChange:A=>C(A.target.value),className:"w-full px-3 py-2 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",placeholder:"Enter amount received from customer",min:"0",step:"0.01"})]}),m.length>0&&w==="pending"&&n.jsxs("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-amber-800 mb-2",children:"Room Number"}),n.jsx("input",{type:"number",value:F,onChange:A=>Q(A.target.value),className:"w-full px-3 py-2 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",placeholder:"Enter room number",min:"1"})]}),m.length>0&&n.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["PKR ",q.toFixed(2)]})]}),w==="cash"&&_&&n.jsxs("div",{className:"bg-amber-50 p-3 rounded-lg border border-amber-200",children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"font-medium",children:"Paid:"}),n.jsxs("span",{className:"font-semibold",children:["PKR ",b.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[n.jsx("span",{children:"Change:"}),n.jsxs("span",{className:M>=0?"text-green-600":"text-red-600",children:["PKR ",M.toFixed(2)]})]})]})]})]}),m.length>0&&n.jsx("div",{className:"p-6 pt-4 border-t border-gray-200 bg-white",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{onClick:z,disabled:le,className:"bg-amber-900 text-white px-4 py-3 rounded-lg hover:bg-amber-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[le&&n.jsx(wt,{size:16,className:"animate-spin"}),n.jsx("span",{children:le?"Processing...":"Process Sale"})]}),n.jsxs("button",{className:"border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors font-medium flex items-center justify-center space-x-2",children:[n.jsx(vd,{size:16}),n.jsx("span",{children:"Print"})]})]})})]}),ee&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full mb-4 ${pe==="success"?"bg-green-100":"bg-red-100"}`,children:pe==="success"?n.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("h3",{className:`text-lg font-medium mb-2 ${pe==="success"?"text-green-900":"text-red-900"}`,children:pe==="success"?"Success!":"Error!"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:ue}),n.jsx("button",{onClick:()=>se(!1),className:`w-full px-4 py-2 rounded-lg font-medium transition-colors ${pe==="success"?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:"OK"})]})})}),de&&J&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cafe D Revenue"}),n.jsx("p",{className:"text-sm text-gray-600",children:"FBR Department"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Invoice: ",J.invoiceNumber]})]}),n.jsxs("div",{className:"border-t border-b border-gray-200 py-4",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Date: ",J.createdAt.toLocaleDateString()]}),n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Time: ",J.createdAt.toLocaleTimeString()]}),J.roomNumber&&n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Room: ",J.roomNumber]})]}),n.jsxs("div",{className:"py-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Items:"}),n.jsx("div",{className:"space-y-2",children:J.items.map(A=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:[A.productName," x",A.quantity]}),n.jsxs("span",{children:["PKR ",A.total]})]},A.productId))})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["PKR ",J.total.toFixed(2)]})]}),J.paymentMethod==="cash"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Paid:"}),n.jsxs("span",{children:["PKR ",J.paidAmount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm font-semibold",children:[n.jsx("span",{children:"Change:"}),n.jsxs("span",{className:J.change>=0?"text-green-600":"text-red-600",children:["PKR ",J.change.toFixed(2)]})]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Payment:"}),n.jsx("span",{className:"capitalize",children:J.paymentMethod})]})]}),n.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:n.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Thank you!"})}),n.jsxs("div",{className:"flex space-x-3 mt-6 print:hidden",children:[n.jsxs("button",{onClick:Y,className:"flex-1 bg-amber-900 text-white py-2 px-4 rounded-lg hover:bg-amber-800 transition-colors font-medium flex items-center justify-center space-x-2",children:[n.jsx(vd,{size:16}),n.jsx("span",{children:"Print"})]}),n.jsx("button",{onClick:Ce,className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Close"})]})]})})]})}function jg(){const{products:l,loading:o,error:c,addProduct:d,updateProduct:f,deleteProduct:p}=Il(),{categories:m,loading:x,error:k,addCategory:v,deleteCategory:w}=Xh(),[N,S]=O.useState("all"),[P,_]=O.useState(""),[C,F]=O.useState(!1),[Q,ee]=O.useState(null),[se,ue]=O.useState(!1),[me,pe]=O.useState(null),[D,de]=O.useState(!1),[W,le]=O.useState(""),[K,J]=O.useState(!1),[ae,Se]=O.useState({name:"",category:"",price:"",stock:"",description:"",imageUrl:""}),Ie=l.filter(g=>{const z=N==="all"||g.category===N,Y=g.name.toLowerCase().includes(P.toLowerCase());return z&&Y}),Re=l.filter(g=>g.stock<20),B=async g=>{g.preventDefault();try{ue(!0);const z={name:ae.name,description:ae.description,price:Number(ae.price),stock:Number(ae.stock),image_url:ae.imageUrl,category_id:1};Q?(await f(Q.id,z),ee(null)):await d(z),Se({name:"",category:"",price:"",stock:"",description:"",imageUrl:""}),pe(null),F(!1)}catch(z){console.error("Error submitting product:",z)}finally{ue(!1)}},I=g=>{ee(g),Se({name:g.name,category:g.category||"",price:g.price.toString(),stock:g.stock.toString(),description:g.description||"",imageUrl:g.imageUrl||g.image_url||""}),F(!0)},X=async g=>{if(window.confirm("Are you sure you want to delete this product?"))try{await p(g)}catch(z){console.error("Error deleting product:",z)}},q=g=>{const z=g.target.files?.[0];z&&pe(z)},b=async g=>{if(g.preventDefault(),!!W.trim())try{J(!0),await v({name:W.trim()}),le(""),de(!1)}catch(z){console.error("Error adding category:",z)}finally{J(!1)}},M=async g=>{if(window.confirm("Are you sure you want to delete this category? This will affect all products in this category."))try{await w(g)}catch(z){console.error("Error deleting category:",z)}};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage your cafe inventory and pricing"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:()=>{de(!0),le("")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[n.jsx(wd,{size:20}),n.jsx("span",{children:"Add Category"})]}),n.jsxs("button",{onClick:()=>{F(!0),ee(null),Se({name:"",category:"",price:"",stock:"",description:"",imageUrl:""})},className:"bg-amber-900 text-white px-4 py-2 rounded-lg hover:bg-amber-800 transition-colors flex items-center space-x-2",children:[n.jsx(is,{size:20}),n.jsx("span",{children:"Add Product"})]})]})]}),(c||k)&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(es,{className:"text-red-400 mr-2",size:20}),n.jsx("p",{className:"text-red-800",children:c||k})]})}),Re.length>0&&n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lg,{className:"w-5 h-5 text-red-600"}),n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Low Stock Alert"})]}),n.jsxs("p",{className:"text-sm text-red-700 mt-1",children:[Re.length," products have stock below 20 units"]})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(un,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search products...",value:P,onChange:g=>_(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(nf,{className:"w-5 h-5 text-gray-500"}),n.jsxs("select",{value:N,onChange:g=>S(g.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",disabled:x,children:[n.jsx("option",{value:"all",children:"All Categories"}),m.map(g=>n.jsx("option",{value:g.name,children:g.name},g.id))]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200",children:o?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(wt,{className:"animate-spin text-amber-600",size:32}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading products..."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ie.map(g=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[g.imageUrl||g.image_url?n.jsx("img",{src:g.imageUrl||g.image_url,alt:g.name,className:"h-10 w-10 rounded-lg object-cover mr-3",onError:z=>{const Y=z.currentTarget;Y.style.display="none";const ce=Y.nextElementSibling;ce&&(ce.style.display="flex")}}):null,n.jsx("div",{className:`h-10 w-10 bg-gradient-to-br from-amber-100 to-orange-100 rounded-lg flex items-center justify-center mr-3 ${g.imageUrl||g.image_url?"hidden":""}`,children:n.jsx(ln,{className:"w-5 h-5 text-amber-700"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.name}),g.description&&n.jsx("div",{className:"text-sm text-gray-500",children:g.description})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:g.category})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["PKR ",g.price]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g.stock>20?"bg-green-100 text-green-800":g.stock>5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[g.stock," units"]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[n.jsx("button",{onClick:()=>I(g),className:"text-blue-600 hover:text-blue-900",children:n.jsx(ti,{size:16})}),n.jsx("button",{onClick:()=>X(g.id),className:"text-red-600 hover:text-red-900",children:n.jsx(nn,{size:16})})]})]},g.id))})]})})}),C&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[n.jsx("div",{className:"flex-shrink-0 p-6 pb-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:Q?"Edit Product":"Add New Product"})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("form",{onSubmit:B,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:ae.name,onChange:g=>Se({...ae,name:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{value:ae.category,onChange:g=>Se({...ae,category:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0,disabled:x,children:[n.jsx("option",{value:"",children:"Select Category"}),m.map(g=>n.jsx("option",{value:g.name,children:g.name},g.id))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (PKR)"}),n.jsx("input",{type:"number",value:ae.price,onChange:g=>Se({...ae,price:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock"}),n.jsx("input",{type:"number",value:ae.stock,onChange:g=>Se({...ae,stock:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:ae.description,onChange:g=>Se({...ae,description:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",rows:2})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),me&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Selected: ",me.name]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Or enter image URL:"}),n.jsx("input",{type:"url",value:ae.imageUrl,onChange:g=>Se({...ae,imageUrl:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"})]})]})]})}),n.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:B,disabled:se,className:"flex-1 bg-amber-900 text-white py-2 px-4 rounded-lg hover:bg-amber-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:se?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"animate-spin mr-2",size:16}),Q?"Updating...":"Adding..."]}):`${Q?"Update":"Add"} Product`}),n.jsx("button",{type:"button",onClick:()=>{F(!1),ee(null)},className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"})]})})]})}),D&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[n.jsx("div",{className:"flex-shrink-0 p-6 pb-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add New Category"}),n.jsx("button",{onClick:()=>{de(!1),le("")},className:"text-gray-400 hover:text-gray-600",children:n.jsx(rs,{size:24})})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsx("form",{onSubmit:b,className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),n.jsx("input",{type:"text",value:W,onChange:g=>le(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter category name",required:!0})]})})}),n.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:b,disabled:K,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:K?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"animate-spin mr-2",size:16}),"Adding..."]}):"Add Category"}),n.jsx("button",{type:"button",onClick:()=>{de(!1),le("")},className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"})]})})]})}),m.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200",children:[n.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Categories"})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(g=>n.jsxs("div",{className:"flex items-center space-x-2 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[n.jsx(wd,{size:14}),n.jsx("span",{children:g.name}),n.jsx("button",{onClick:()=>M(g.id),className:"text-blue-600 hover:text-blue-800 ml-1",children:n.jsx(rs,{size:14})})]},g.id))})})]})]})}function Ng(){const{customers:l,loading:o,error:c,addCustomer:d,updateCustomer:f,deleteCustomer:p}=cn(),[m,x]=O.useState(""),[k,v]=O.useState(!1),[w,N]=O.useState(null),[S,P]=O.useState({name:"",phone:"",address:"",cardRefId:"",rfId:""}),[_,C]=O.useState(null),[F,Q]=O.useState(!1),ee=l.filter(D=>D.name.toLowerCase().includes(m.toLowerCase())||D.phone.includes(m)||(D.cardRefId||D.card_number).toLowerCase().includes(m.toLowerCase())||(D.rfId||D.rfid_no)?.toLowerCase().includes(m.toLowerCase())),se=async D=>{D.preventDefault(),Q(!0);try{w?(await f(w.id,{name:S.name,phone:S.phone,rfid_no:S.rfId,card_number:S.cardRefId,balance:w.balance}),N(null)):await d({name:S.name,phone:S.phone,rfid_no:S.rfId,card_number:S.cardRefId,balance:0}),P({name:"",phone:"",address:"",cardRefId:"",rfId:""}),v(!1)}catch(de){console.error("Failed to save customer:",de)}finally{Q(!1)}},ue=D=>{N(D),P({name:D.name,phone:D.phone,address:D.address||"",cardRefId:D.cardRefId||D.card_number,rfId:D.rfId||D.rfid_no||""}),v(!0)},me=async D=>{try{await p(D),C(null)}catch(de){console.error("Failed to delete customer:",de)}},pe=D=>{C(D)};return o&&l.length===0?n.jsx("div",{className:"p-6 flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(wt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-amber-600"}),n.jsx("p",{className:"text-gray-600",children:"Loading customers..."})]})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage customer accounts and card balances"})]}),n.jsxs("button",{onClick:()=>{v(!0),N(null),P({name:"",phone:"",address:"",cardRefId:"",rfId:""})},className:"bg-amber-900 text-white px-4 py-2 rounded-lg hover:bg-amber-800 transition-colors flex items-center space-x-2",children:[n.jsx(is,{size:20}),n.jsx("span",{children:"Add Customer"})]})]}),c&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-800",children:c})}),n.jsxs("div",{className:"relative",children:[n.jsx(un,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search customers by name, phone, card ID, or RF ID...",value:m,onChange:D=>x(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Card Details"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map(D=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mr-3",children:n.jsx(Er,{className:"w-5 h-5 text-blue-700"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[n.jsx(mg,{size:12,className:"mr-1"}),D.phone]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mt,{size:14,className:"text-amber-600"}),n.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 rounded text-xs font-medium",children:D.cardRefId||D.card_number})]}),(D.rfId||D.rfid_no)&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(af,{size:14,className:"text-blue-600"}),n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:D.rfId||D.rfid_no})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ei,{size:12,className:"mr-1"}),D.createdAt?D.createdAt.toLocaleDateString():new Date(D.created_at).toLocaleDateString()]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[n.jsx("button",{onClick:()=>ue(D),className:"text-blue-600 hover:text-blue-900",children:n.jsx(ti,{size:14})}),n.jsx("button",{onClick:()=>pe(D),className:"text-red-600 hover:text-red-900",children:n.jsx(nn,{size:14})})]})]},D.id))})]})})}),k&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[n.jsx("div",{className:"flex-shrink-0 p-6 pb-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:w?"Edit Customer":"Add New Customer"})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("form",{onSubmit:se,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:S.name,onChange:D=>P({...S,name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone No."}),n.jsx("input",{type:"tel",value:S.phone,onChange:D=>P({...S,phone:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"+92-300-1234567",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsx("textarea",{value:S.address,onChange:D=>P({...S,address:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Enter customer address",rows:3})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[n.jsx(mt,{size:16,className:"mr-2 text-amber-600"}),"Card Details"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Reference ID"}),n.jsx("input",{type:"text",value:S.cardRefId,onChange:D=>P({...S,cardRefId:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"CARD001 or leave empty for auto-generation"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to auto-generate: CARD001, CARD002, etc."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RF ID (Optional)"}),n.jsx("input",{type:"text",value:S.rfId,onChange:D=>P({...S,rfId:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"RF123456789"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"RFID tag number for contactless payments"})]})]})]})]})}),n.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{type:"button",onClick:se,disabled:F,className:"flex-1 bg-amber-900 text-white py-2 px-4 rounded-lg hover:bg-amber-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[F&&n.jsx(wt,{size:16,className:"animate-spin"}),n.jsxs("span",{children:[w?"Update":"Add"," Customer"]})]}),n.jsx("button",{type:"button",onClick:()=>{v(!1),N(null)},className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"})]})})]})}),_&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md text-center",children:[n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx("div",{className:"h-10 w-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:n.jsx(nn,{className:"w-5 h-5 text-red-600"})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Delete Customer"})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Do you want to delete this customer?"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:()=>me(_.id),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[n.jsx(nn,{size:16}),n.jsx("span",{children:"Delete"})]}),n.jsx("button",{onClick:()=>C(null),className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"})]})]})})]})}function bg({isOpen:l,onClose:o,onSave:c,existingCustomers:d}){const[f,p]=O.useState({name:"",phone:"",cardRefId:"",rfId:""}),[m,x]=O.useState({});O.useEffect(()=>{l&&(p({name:"",phone:"",cardRefId:"",rfId:""}),x({}))},[l]);const k=()=>{const S={};return f.name.trim()||(S.name="Name is required"),f.phone.trim()?/^\+92-\d{3}-\d{7}$/.test(f.phone)||(S.phone="Phone must be in format +92-XXX-XXXXXXX"):S.phone="Phone number is required",f.cardRefId.trim()?d.some(P=>P.cardRefId===f.cardRefId)&&(S.cardRefId="This Card ID already exists"):S.cardRefId="Card ID is required",f.rfId.trim()&&d.some(P=>P.rfId===f.rfId)&&(S.rfId="This RF ID already exists"),x(S),Object.keys(S).length===0},v=S=>{S.preventDefault(),k()&&(c({name:f.name.trim(),phone:f.phone.trim(),cardRefId:f.cardRefId.trim(),balance:0,...f.rfId.trim()&&{rfId:f.rfId.trim()}}),p({name:"",phone:"",cardRefId:"",rfId:""}),x({}),o())},w=S=>{const P=S.replace(/\D/g,"");return P.length===0?"":P.length<=2?`+${P}`:P.length<=5?`+${P.slice(0,2)}-${P.slice(2)}`:P.length<=12?`+${P.slice(0,2)}-${P.slice(2,5)}-${P.slice(5)}`:`+${P.slice(0,2)}-${P.slice(2,5)}-${P.slice(5,12)}`},N=(S,P)=>{let _=P;S==="phone"&&(_=w(P)),p(C=>({...C,[S]:_})),m[S]&&x(C=>({...C,[S]:""}))};return l?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Card"}),n.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(rs,{size:24})})]}),n.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(lf,{className:"inline w-4 h-4 mr-2"}),"Customer Name"]}),n.jsx("input",{type:"text",value:f.name,onChange:S=>N("name",S.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${m.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter customer name"}),m.name&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n.jsx("input",{type:"text",value:f.phone,onChange:S=>N("phone",S.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${m.phone?"border-red-500":"border-gray-300"}`,placeholder:"+92-300-1234567",maxLength:15}),m.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(mt,{className:"inline w-4 h-4 mr-2"}),"Card ID"]}),n.jsx("input",{type:"text",value:f.cardRefId,onChange:S=>N("cardRefId",S.target.value.toUpperCase()),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${m.cardRefId?"border-red-500":"border-gray-300"}`,placeholder:"Enter your preferred card ID (e.g., CARD001)"}),m.cardRefId&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.cardRefId})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(af,{className:"inline w-4 h-4 mr-2"}),"RF ID (Optional)"]}),n.jsx("input",{type:"text",value:f.rfId,onChange:S=>N("rfId",S.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${m.rfId?"border-red-500":"border-gray-300"}`,placeholder:"Enter RF ID (optional)"}),m.rfId&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.rfId})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-amber-900 text-white rounded-lg hover:bg-amber-800 transition-colors",children:"Create Card"})]})]})]})}):null}function Sg({isOpen:l,onClose:o,onRecharge:c,customer:d}){const{addRecharge:f,loading:p}=tf(),{updateCustomer:m}=cn(),[x,k]=O.useState(0),[v,w]=O.useState({}),[N,S]=O.useState(!1),P=async Q=>{if(Q.preventDefault(),_()&&d){S(!0);try{await f({amount:x,customer_id:d.id}),await m(d.id,{balance:d.balance+x}),c(d.id.toString(),x),k(0),w({}),o()}catch(ee){console.error("Failed to recharge:",ee)}finally{S(!1)}}},_=()=>{const Q={};return x<=0&&(Q.amount="Amount must be greater than 0"),x>1e5&&(Q.amount="Amount cannot exceed PKR 100,000"),w(Q),Object.keys(Q).length===0},C=Q=>{const ee=parseFloat(Q)||0;k(ee),v.amount&&w(se=>({...se,amount:""}))},F=[500,1e3,2e3,5e3,1e4];return!l||!d?null:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recharge Card"}),n.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(rs,{size:24})})]}),n.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-amber-900 p-2 rounded-lg",children:n.jsx(mt,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:d.name}),n.jsx("p",{className:"text-sm text-gray-600",children:d.cardRefId}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Current Balance: PKR ",d.balance.toLocaleString()]})]})]})}),n.jsxs("form",{onSubmit:P,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Pt,{className:"inline w-4 h-4 mr-2"}),"Recharge Amount (PKR)"]}),n.jsx("input",{type:"number",min:"1",max:"100000",step:"1",value:x||"",onChange:Q=>C(Q.target.value),className:`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-lg ${v.amount?"border-red-500":"border-gray-300"}`,placeholder:"Enter amount",autoFocus:!0}),v.amount&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.amount})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Amounts"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:F.map(Q=>n.jsxs("button",{type:"button",onClick:()=>{k(Q),v.amount&&w(ee=>({...ee,amount:""}))},className:`px-3 py-2 text-sm rounded-lg border transition-colors ${x===Q?"bg-amber-900 text-white border-amber-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:["PKR ",Q.toLocaleString()]},Q))})]}),x>0&&n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Pt,{className:"w-5 h-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-green-800",children:"New Balance"}),n.jsxs("p",{className:"text-lg font-bold text-green-900",children:["PKR ",(d.balance+x).toLocaleString()]})]})]})})]})]}),n.jsx("div",{className:"p-6 border-t border-gray-200 flex-shrink-0",children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs("button",{type:"button",onClick:P,disabled:x<=0||N,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[N&&n.jsx(wt,{size:16,className:"animate-spin"}),n.jsx(Pt,{size:16}),n.jsx("span",{children:N?"Processing...":`Recharge PKR ${x.toLocaleString()}`})]})]})})]})})}function kg({isOpen:l,onClose:o,customer:c,transactions:d}){const{getRechargesByCustomer:f,loading:p}=tf();if(!l||!c)return null;const m=f(c.id).length>0?f(c.id):d.filter(v=>v.customerId===c.id.toString()),x=v=>(typeof v=="string"?new Date(v):v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=v=>(typeof v=="string"?new Date(v):v).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recharge History"}),n.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(rs,{size:24})})]}),n.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-amber-900 p-2 rounded-lg",children:n.jsx(mt,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:c.name}),n.jsx("p",{className:"text-sm text-gray-600",children:c.cardRefId||c.card_number}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Current Balance: PKR ",c.balance.toLocaleString()]})]})]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recharge Transactions"}),p?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(wt,{className:"w-8 h-8 animate-spin mx-auto mb-3 text-amber-600"}),n.jsx("p",{className:"text-gray-500",children:"Loading recharge history..."})]}):m.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Pt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"No recharge transactions found"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Recharge history will appear here after the first transaction"})]}):n.jsx("div",{className:"space-y-3",children:m.sort((v,w)=>{const N=v.timestamp||new Date(v.recharge_date);return(w.timestamp||new Date(w.recharge_date)).getTime()-N.getTime()}).map(v=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:n.jsx(Pt,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-900",children:["+PKR ",v.amount.toLocaleString()]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ei,{className:"w-4 h-4"}),n.jsx("span",{children:x(v.timestamp||v.recharge_date)})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(sn,{className:"w-4 h-4"}),n.jsx("span",{children:k(v.timestamp||v.recharge_date)})]})]})]})]}),n.jsx("div",{className:"text-right",children:v.previousBalance&&v.newBalance?n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Previous: PKR ",v.previousBalance.toLocaleString()]}),n.jsxs("p",{className:"text-sm font-medium text-green-600",children:["New: PKR ",v.newBalance.toLocaleString()]})]}):n.jsx("p",{className:"text-sm text-gray-600",children:"Recharge Amount"})})]})},v.id))})]})]}),m.length>0&&n.jsx("div",{className:"p-6 border-t border-gray-200 flex-shrink-0",children:n.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-800",children:"Total Recharged"}),n.jsxs("p",{className:"text-lg font-bold text-blue-900",children:["PKR ",m.reduce((v,w)=>v+w.amount,0).toLocaleString()]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-blue-800",children:"Transactions"}),n.jsx("p",{className:"text-lg font-bold text-blue-900",children:m.length})]})]})})}),n.jsx("div",{className:"p-6 border-t border-gray-200 flex-shrink-0",children:n.jsx("button",{onClick:o,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})}function Cg(){const{customers:l,addCustomer:o}=cn(),[c,d]=O.useState(""),[f,p]=O.useState(!1),[m,x]=O.useState(!1),[k,v]=O.useState(!1),[w,N]=O.useState(null),[S,P]=O.useState([]),_=l.filter(D=>D.name.toLowerCase().includes(c.toLowerCase())||(D.cardRefId||D.card_number).toLowerCase().includes(c.toLowerCase())||(D.rfId||D.rfid_no)?.toLowerCase().includes(c.toLowerCase())),C=l.length,F=l.reduce((D,de)=>D+de.balance,0),Q=l.filter(D=>D.balance>0).length,ee=async D=>{try{await o({name:D.name,phone:D.phone,rfid_no:D.rfId||"",card_number:D.cardRefId||"",balance:D.balance||0})}catch(de){console.error("Failed to create customer:",de)}},se=(D,de)=>{const W=l.find(le=>le.id.toString()===D);if(W){const le=W.balance,K=le+de,J={id:Date.now(),customer_id:parseInt(D),amount:de,previousBalance:le,newBalance:K,timestamp:new Date,recharge_date:new Date().toISOString()};P(ae=>[...ae,J])}},ue=D=>{N(D),x(!0)},me=D=>{N(D),v(!0)},pe=[{title:"Total Cards",value:C.toString(),icon:mt,color:"bg-blue-500"},{title:"Active Cards",value:Q.toString(),icon:sg,color:"bg-green-500"},{title:"Total Balance",value:`PKR ${F.toLocaleString()}`,icon:Pt,color:"bg-purple-500"},{title:"Avg Balance",value:`PKR ${Math.round(F/C).toLocaleString()}`,icon:Tl,color:"bg-amber-500"}];return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Card Management"}),n.jsx("p",{className:"text-gray-600",children:"Monitor and manage customer prepaid cards"})]}),n.jsxs("button",{onClick:()=>p(!0),className:"bg-amber-900 text-white px-4 py-2 rounded-lg hover:bg-amber-800 transition-colors flex items-center space-x-2",children:[n.jsx(is,{size:20}),n.jsx("span",{children:"New Card"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:pe.map((D,de)=>n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:D.title}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:D.value})]}),n.jsx("div",{className:`${D.color} p-3 rounded-lg`,children:n.jsx(D.icon,{className:"w-6 h-6 text-white"})})]})},de))}),n.jsxs("div",{className:"relative",children:[n.jsx(un,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by customer name, card ID, or RF ID...",value:c,onChange:D=>d(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(D=>n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-br from-amber-900 to-orange-800 p-6 text-white",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs opacity-80",children:"CAFE D REVENUE"}),n.jsx("p",{className:"text-lg font-bold",children:D.cardRefId||D.card_number})]}),n.jsx(mt,{className:"w-8 h-8 opacity-80"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs opacity-80",children:"CARDHOLDER"}),n.jsx("p",{className:"font-semibold",children:D.name.toUpperCase()})]}),n.jsxs("div",{className:"mt-4 flex justify-between items-end",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs opacity-80",children:"BALANCE"}),n.jsxs("p",{className:"text-xl font-bold",children:["PKR ",D.balance.toLocaleString()]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs opacity-80",children:"MEMBER SINCE"}),n.jsx("p",{className:"text-sm",children:D.createdAt?D.createdAt.getFullYear():new Date(D.created_at).getFullYear()})]})]})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-3",children:[n.jsxs("span",{children:["Phone: ",D.phone]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.balance>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.balance>0?"Active":"Empty"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>ue(D),className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-lg hover:bg-green-700 transition-colors text-sm font-medium flex items-center justify-center space-x-1",children:[n.jsx(Pt,{size:14}),n.jsx("span",{children:"Recharge"})]}),n.jsx("button",{onClick:()=>me(D),className:"flex-1 border border-gray-300 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"View History"})]})]})]},D.id))}),n.jsx(bg,{isOpen:f,onClose:()=>p(!1),onSave:ee,existingCustomers:l}),n.jsx(Sg,{isOpen:m,onClose:()=>{x(!1),N(null)},onRecharge:se,customer:w}),n.jsx(kg,{isOpen:k,onClose:()=>{v(!1),N(null)},customer:w,transactions:S})]})}function Eg(){const{settleSale:l,loading:o,error:c}=Ml(),{customers:d,refreshCustomers:f}=cn(),[p,m]=O.useState([]),[x,k]=O.useState([]),[v,w]=O.useState(!1),[N,S]=O.useState(new Set),[P,_]=O.useState(new Set),[C,F]=O.useState(""),[Q,ee]=O.useState(""),[se,ue]=O.useState(""),[me,pe]=O.useState({payment_method:"cash",customer_id:0}),D=async()=>{w(!0);try{const B=await ur.getPendingSales();m(B),k(B)}catch(B){console.error("Error loading pending sales:",B)}finally{w(!1)}};O.useEffect(()=>{D(),f()},[]),O.useEffect(()=>{let B=p;if(C){const I=parseInt(C);B=B.filter(X=>X.customer_id===I)}Q&&(B=B.filter(I=>I.room_no.toLowerCase().includes(Q.toLowerCase()))),k(B)},[p,C,Q]);const de=B=>d.find(X=>X.id===B)?.name||`Customer #${B}`,W=B=>d.find(X=>X.id===B)?.balance||0,le=async(B,I)=>{if(!P.has(B.id)){_(X=>new Set([...X,B.id]));try{const X={payment_method:I,customer_id:B.customer_id};await l(B.id,X),m(q=>q.filter(b=>b.id!==B.id)),ue(`Sale #${B.id} settled successfully!`),setTimeout(()=>ue(""),3e3)}catch(X){console.error("Error settling sale:",X)}finally{_(X=>{const q=new Set(X);return q.delete(B.id),q})}}},K=async()=>{if(N.size===0)return;const B=Array.from(N);try{const I={sale_ids:B,payment_method:me.payment_method},X=await ur.batchSettleSales(I);m(q=>q.filter(b=>!X.settled_sales.includes(b.id))),ue(`Batch settlement completed: ${X.settled_count} settled, ${X.failed_count} failed`),X.failed_sales.length>0&&console.warn("Failed settlements:",X.failed_sales),setTimeout(()=>ue(""),5e3)}catch(I){console.error("Error in batch settlement:",I)}S(new Set)},J=B=>{const I=new Set(N);I.has(B)?I.delete(B):I.add(B),S(I)},ae=()=>{N.size===x.length?S(new Set):S(new Set(x.map(B=>B.id)))},Se=()=>x.reduce((B,I)=>B+I.total_price,0),Ie=()=>Array.from(N).map(B=>p.find(I=>I.id===B)).filter(Boolean).reduce((B,I)=>B+(I?.total_price||0),0),Re=[{value:"cash",label:"Cash",icon:Pt,color:"text-green-600"},{value:"card",label:"Card",icon:mt,color:"text-blue-600"},{value:"easypaisa",label:"EasyPaisa",icon:sf,color:"text-purple-600"}];return n.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pending Sales Management"}),n.jsx("p",{className:"text-gray-600",children:"Settle pending sales and manage outstanding transactions"})]}),se&&n.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center space-x-2",children:[n.jsx(Bo,{className:"text-green-600",size:20}),n.jsx("span",{className:"text-green-800",children:se})]}),c&&n.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[n.jsx(es,{className:"text-red-600",size:20}),n.jsx("span",{className:"text-red-800",children:c})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sn,{className:"text-orange-600",size:20}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Pending"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:x.length})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Pt,{className:"text-red-600",size:20}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),n.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["PKR ",Se().toFixed(2)]})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Bo,{className:"text-blue-600",size:20}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Selected"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:N.size})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mt,{className:"text-green-600",size:20}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Selected Amount"}),n.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["PKR ",Ie().toFixed(2)]})]})]})})]}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(nf,{size:16,className:"text-gray-500"}),n.jsxs("select",{value:C,onChange:B=>F(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"",children:"All Customers"}),d.map(B=>n.jsx("option",{value:B.id,children:B.name},B.id))]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(un,{size:16,className:"text-gray-500"}),n.jsx("input",{type:"text",value:Q,onChange:B=>ee(B.target.value),placeholder:"Search by room...",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm"})]}),n.jsxs("button",{onClick:D,disabled:v,className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:[n.jsx(Rl,{className:`${v?"animate-spin":""}`,size:16}),n.jsx("span",{children:"Refresh"})]})]}),N.size>0&&n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("select",{value:me.payment_method,onChange:B=>pe(I=>({...I,payment_method:B.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",children:Re.map(B=>n.jsx("option",{value:B.value,children:B.label},B.value))}),n.jsxs("button",{onClick:K,disabled:o,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[n.jsx(Bo,{size:16}),n.jsxs("span",{children:["Settle Selected (",N.size,")"]})]})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left",children:n.jsx("input",{type:"checkbox",checked:x.length>0&&N.size===x.length,onChange:ae,className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sale ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer Balance"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v?n.jsx("tr",{children:n.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(Rl,{className:"animate-spin text-gray-400",size:20}),n.jsx("span",{className:"text-gray-500",children:"Loading pending sales..."})]})})}):x.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"text-gray-500",children:[n.jsx(sn,{className:"mx-auto mb-2",size:48}),n.jsx("p",{className:"text-lg font-medium",children:"No pending sales found"}),n.jsx("p",{className:"text-sm",children:"All sales have been settled or no sales match your filters"})]})})}):x.map(B=>n.jsxs("tr",{className:N.has(B.id)?"bg-amber-50":"",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:N.has(B.id),onChange:()=>J(B.id),className:"rounded border-gray-300 text-amber-600 focus:ring-amber-500"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["#",B.id]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lf,{className:"text-gray-400",size:16}),n.jsx("span",{className:"text-sm text-gray-900",children:de(B.customer_id)})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900",children:B.room_no})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["PKR ",B.total_price.toFixed(2)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-500",children:new Date(B.timestamp).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"text-sm text-gray-500",children:[B.items.length," items"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-medium ${W(B.customer_id)>=B.total_price?"text-green-600":"text-red-600"}`,children:["PKR ",W(B.customer_id).toFixed(2)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex space-x-2",children:Re.map(I=>{const X=I.icon;return n.jsx("button",{onClick:()=>le(B,I.value),disabled:P.has(B.id),className:`p-2 rounded-lg transition-colors ${I.color} bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed`,title:`Settle with ${I.label}`,children:n.jsx(X,{size:16})},I.value)})})})]},B.id))})]})})})]})})}const Gn={async getPendingSalesSummary(l){try{console.log("Fetching pending sales summary for customer:",l);const o=l?`/sales/pending?customer_id=${l}`:"/sales/pending",c=await ge.get(o);return console.log("Pending sales summary fetched successfully"),c.data}catch(o){throw console.error("Failed to fetch pending sales summary:",o),new Error(o.response?.data?.detail?.[0]?.msg||"Failed to fetch pending sales summary. Please try again.")}},async getSalesByDate(l,o){try{console.log("Fetching sales by date:",l,"to",o);const c=await ge.get(`/reports/sales-by-date?from_date=${l}&to_date=${o}`);return JSON.stringify(c.data,null,2)}catch(c){throw console.error("Failed to fetch sales by date:",c),new Error(c.response?.data?.detail||"Failed to fetch sales by date. Please try again.")}},async getSalesByProduct(l,o){try{console.log("Fetching sales by product:",l,"to",o);const c=await ge.get(`/reports/sales-by-product?from_date=${l}&to_date=${o}`);return JSON.stringify(c.data,null,2)}catch(c){throw console.error("Failed to fetch sales by product:",c),new Error(c.response?.data?.detail||"Failed to fetch sales by product. Please try again.")}},async getSalesBySalesman(l,o){try{console.log("Fetching sales summary:",l,"to",o);const c=await ge.get(`/reports/sales-summary?from_date=${l}&to_date=${o}`);return JSON.stringify(c.data,null,2)}catch(c){throw console.error("Failed to fetch sales summary:",c),new Error(c.response?.data?.detail||"Failed to fetch sales summary. Please try again.")}},async getPaymentBreakdown(){try{console.log("Fetching payment breakdown");const l=await ge.get("/reports/payment-breakdown");return JSON.stringify(l.data,null,2)}catch(l){throw console.error("Failed to fetch payment breakdown:",l),new Error(l.response?.data?.detail||"Failed to fetch payment breakdown. Please try again.")}}};typeof window<"u"&&(window.reportsService=Gn);function _g(){const{sales:l,loading:o,error:c}=Ml(),{products:d}=Il(),[f,p]=O.useState("today"),[m,x]=O.useState("overview"),[k,v]=O.useState(null),[w,N]=O.useState(!1),[S,P]=O.useState(null),[_,C]=O.useState(""),[F,Q]=O.useState(!1),[ee,se]=O.useState({startDate:"",endDate:""}),ue={primary:"bg-amber-900 text-white"},me=new Date,pe=new Date(me.getFullYear(),me.getMonth(),1);let D=l;if(f==="today")D=l.filter(g=>new Date(g.timestamp||g.createdAt||new Date).toDateString()===me.toDateString());else if(f==="week"){const g=new Date(Date.now()-6048e5);D=l.filter(z=>new Date(z.timestamp||z.createdAt||new Date)>=g)}else f==="month"&&(D=l.filter(g=>new Date(g.timestamp||g.createdAt||new Date)>=pe));const de=D.reduce((g,z)=>g+(z.total||z.total_price),0),W=D.length,le=W>0?de/W:0,K=D.reduce((g,z)=>{const Y=z.payment_method||z.paymentMethod||"unknown",ce=z.total||z.total_price;return g[Y]=(g[Y]||0)+ce,g},{}),J=D.filter(g=>g.items&&Array.isArray(g.items)).flatMap(g=>g.items).reduce((g,z)=>{const Y=z.productName||`Product ${z.product_id||"Unknown"}`;return g[Y]||(g[Y]={quantity:0,revenue:0}),g[Y].quantity+=z.quantity||0,g[Y].revenue+=z.total||0,g},{}),ae=Object.entries(J).sort(([,g],[,z])=>z.revenue-g.revenue).slice(0,5),Se=()=>{if(!k)return null;try{const g=typeof k=="string"?JSON.parse(k):k;switch(m){case"sales_by_date":return Ie(g);case"sales_by_product":return Re(g);case"sales_by_salesman":return B(g);case"payment_breakdown":return I(g);default:return n.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-x-auto",children:typeof k=="string"?k:JSON.stringify(k,null,2)})}}catch(g){return n.jsxs("div",{className:"text-red-600 p-4 border border-red-200 rounded",children:[n.jsxs("p",{children:["Error parsing report data: ",g instanceof Error?g.message:"Unknown error"]}),n.jsxs("details",{className:"mt-2",children:[n.jsx("summary",{className:"cursor-pointer",children:"Raw Data"}),n.jsx("pre",{className:"mt-2 text-xs",children:k})]})]})}},Ie=g=>n.jsxs("div",{className:"space-y-4",children:[g.summary&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[n.jsx("h4",{className:"font-semibold text-blue-900",children:"Total Sales"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["PKR ",g.summary.total_sales?.toLocaleString()||"0"]})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("h4",{className:"font-semibold text-green-900",children:"Total Transactions"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.summary.total_transactions||0})]}),n.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[n.jsx("h4",{className:"font-semibold text-purple-900",children:"Avg Daily Sales"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["PKR ",g.summary.average_daily_sales?.toLocaleString()||"0"]})]})]}),g.sales_by_date&&g.sales_by_date.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm border-collapse border border-gray-300",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Date"}),n.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Transactions"}),n.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Total Sales"}),n.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Avg Order Value"})]})}),n.jsx("tbody",{children:g.sales_by_date.map((z,Y)=>n.jsxs("tr",{className:Y%2===0?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"border border-gray-300 p-2",children:z.date}),n.jsx("td",{className:"border border-gray-300 p-2 text-right",children:z.transaction_count}),n.jsxs("td",{className:"border border-gray-300 p-2 text-right",children:["PKR ",z.total_sales?.toLocaleString()]}),n.jsxs("td",{className:"border border-gray-300 p-2 text-right",children:["PKR ",z.average_order_value?.toLocaleString()]})]},Y))})]})}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No sales data available for the selected date range."})]}),Re=g=>n.jsxs("div",{className:"space-y-4",children:[g.summary&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:[n.jsx("h4",{className:"font-semibold text-amber-900",children:"Total Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:["PKR ",g.summary.total_revenue?.toLocaleString()||"0"]})]}),n.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[n.jsx("h4",{className:"font-semibold text-indigo-900",children:"Total Quantity Sold"}),n.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:g.summary.total_quantity_sold||0})]})]}),g.products&&g.products.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm border-collapse border border-gray-300",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Product"}),n.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Quantity Sold"}),n.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Revenue"}),n.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"% of Total"})]})}),n.jsx("tbody",{children:g.products.map((z,Y)=>n.jsxs("tr",{className:Y%2===0?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"border border-gray-300 p-2 font-medium",children:z.product_name}),n.jsx("td",{className:"border border-gray-300 p-2 text-right",children:z.quantity_sold}),n.jsxs("td",{className:"border border-gray-300 p-2 text-right",children:["PKR ",z.total_revenue?.toLocaleString()]}),n.jsxs("td",{className:"border border-gray-300 p-2 text-right",children:[z.percentage_of_total,"%"]})]},Y))})]})}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No product sales data available for the selected date range."})]}),B=g=>n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.settled_sales&&n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Settled Sales"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["Count: ",g.settled_sales.count]}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["Amount: PKR ",g.settled_sales.total_amount?.toLocaleString()]}),n.jsxs("p",{className:"text-sm text-green-700",children:["Avg: PKR ",g.settled_sales.average_order_value?.toLocaleString()]})]}),g.pending_sales&&n.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[n.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"Pending Sales"}),n.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["Count: ",g.pending_sales.count]}),n.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["Amount: PKR ",g.pending_sales.total_amount?.toLocaleString()]})]})]}),g.overall&&n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Overall Statistics"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-700",children:"Total Transactions"}),n.jsx("p",{className:"text-xl font-bold text-blue-600",children:g.overall.total_transactions})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-700",children:"Total Gross Sales"}),n.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["PKR ",g.overall.total_gross_sales?.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-700",children:"Settlement Rate"}),n.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[g.overall.settlement_rate?.toFixed(1),"%"]})]})]})]})]}),I=g=>n.jsxs("div",{className:"space-y-4",children:[g.summary&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[n.jsx("h4",{className:"font-semibold text-teal-900",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold text-teal-600",children:["PKR ",g.summary.total_amount?.toLocaleString()||"0"]})]}),n.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg border border-cyan-200",children:[n.jsx("h4",{className:"font-semibold text-cyan-900",children:"Total Transactions"}),n.jsx("p",{className:"text-2xl font-bold text-cyan-600",children:g.summary.total_transactions||0})]})]}),g.payment_methods&&g.payment_methods.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm border-collapse border border-gray-300",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Payment Method"}),n.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Transactions"}),n.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Total Amount"}),n.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"% of Total"})]})}),n.jsx("tbody",{children:g.payment_methods.map((z,Y)=>n.jsxs("tr",{className:Y%2===0?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"border border-gray-300 p-2 font-medium capitalize",children:z.payment_method}),n.jsx("td",{className:"border border-gray-300 p-2 text-right",children:z.transaction_count}),n.jsxs("td",{className:"border border-gray-300 p-2 text-right",children:["PKR ",z.total_amount?.toLocaleString()]}),n.jsxs("td",{className:"border border-gray-300 p-2 text-right",children:[z.percentage_of_total,"%"]})]},Y))})]})}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Payment Method Distribution"}),n.jsx("div",{className:"space-y-2",children:g.payment_methods.map((z,Y)=>{const ce=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-purple-500"];return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-4 h-4 rounded ${ce[Y%ce.length]}`}),n.jsx("span",{className:"capitalize font-medium",children:z.payment_method})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-gray-600",children:[z.percentage_of_total,"%"]}),n.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${ce[Y%ce.length]}`,style:{width:`${z.percentage_of_total}%`}})})]})]},Y)})})]})]}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No payment data available for the selected date range."})]}),X=()=>{const g=new Date,z=new Date(g.getFullYear(),g.getMonth(),1);switch(f){case"today":return{startDate:g.toISOString().split("T")[0],endDate:g.toISOString().split("T")[0]};case"week":return{startDate:new Date(Date.now()-10080*60*1e3).toISOString().split("T")[0],endDate:g.toISOString().split("T")[0]};case"month":return{startDate:z.toISOString().split("T")[0],endDate:g.toISOString().split("T")[0]};case"custom":return{startDate:ee.startDate,endDate:ee.endDate};default:return{startDate:z.toISOString().split("T")[0],endDate:g.toISOString().split("T")[0]}}},q=async g=>{N(!0),P(null);try{const{startDate:z,endDate:Y}=X();let ce;switch(g){case"sales_by_date":ce=await Gn.getSalesByDate(z,Y);break;case"sales_by_product":ce=await Gn.getSalesByProduct(z,Y);break;case"sales_by_salesman":ce=await Gn.getSalesBySalesman(z,Y);break;case"payment_breakdown":ce=await Gn.getPaymentBreakdown();break;default:throw new Error("Invalid report type")}v(ce),C(new Date().toLocaleString())}catch(z){console.error("Failed to fetch report:",z),P(z.message||"Failed to fetch report")}finally{N(!1)}},b=g=>{x(g),g!=="overview"&&q(g)},M=[{title:"Total Revenue",value:`PKR ${de.toLocaleString()}`,icon:Pt,color:"bg-green-500"},{title:"Transactions",value:W.toString(),icon:ts,color:"bg-blue-500"},{title:"Avg Order Value",value:`PKR ${Math.round(le).toLocaleString()}`,icon:Tl,color:"bg-purple-500"},{title:"Products Sold",value:Object.values(J).reduce((g,z)=>g+z.quantity,0).toString(),icon:ln,color:"bg-amber-500"}];return o&&l.length===0?n.jsx("div",{className:"p-6 flex items-center justify-center min-h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(wt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-amber-600"}),n.jsx("p",{className:"text-gray-600",children:"Loading sales data..."})]})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Business Reports"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive analytics and insights for your cafe revenue management"}),_&&n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.jsx(sn,{className:"w-4 h-4 inline mr-1"}),"Last updated: ",_]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"autoRefresh",checked:F,onChange:g=>Q(g.target.checked),className:"rounded border-gray-300 text-amber-900 focus:ring-amber-500"}),n.jsx("label",{htmlFor:"autoRefresh",className:"text-sm text-gray-700",children:"Auto-refresh"})]}),n.jsxs("select",{value:f,onChange:g=>p(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-white",children:[n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"}),n.jsx("option",{value:"custom",children:"Custom Range"})]}),n.jsxs("button",{onClick:()=>m!=="overview"&&q(m),disabled:w,className:`${ue.primary} px-4 py-2 rounded-lg hover:bg-amber-800 transition-colors flex items-center space-x-2 disabled:opacity-50`,children:[n.jsx(Rl,{size:16,className:w?"animate-spin":""}),n.jsx("span",{children:"Refresh"})]}),n.jsxs("button",{className:`${ue.primary} px-4 py-2 rounded-lg hover:bg-amber-800 transition-colors flex items-center space-x-2`,children:[n.jsx(ig,{size:16}),n.jsx("span",{children:"Export All"})]})]})]}),f==="custom"&&n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),n.jsx("input",{type:"date",value:ee.startDate,onChange:g=>se(z=>({...z,startDate:g.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),n.jsx("input",{type:"date",value:ee.endDate,onChange:g=>se(z=>({...z,endDate:g.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Report Type"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>b("overview"),className:`p-4 rounded-lg border transition-colors ${m==="overview"?"border-amber-900 bg-amber-50 text-amber-900":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(Pl,{className:"w-6 h-6 mx-auto mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Overview"})]}),n.jsxs("button",{onClick:()=>b("sales_by_date"),className:`p-4 rounded-lg border transition-colors ${m==="sales_by_date"?"border-amber-900 bg-amber-50 text-amber-900":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(ei,{className:"w-6 h-6 mx-auto mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Sales by Date"})]}),n.jsxs("button",{onClick:()=>b("sales_by_product"),className:`p-4 rounded-lg border transition-colors ${m==="sales_by_product"?"border-amber-900 bg-amber-50 text-amber-900":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(ln,{className:"w-6 h-6 mx-auto mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Sales by Product"})]}),n.jsxs("button",{onClick:()=>b("sales_by_salesman"),className:`p-4 rounded-lg border transition-colors ${m==="sales_by_salesman"?"border-amber-900 bg-amber-50 text-amber-900":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(Er,{className:"w-6 h-6 mx-auto mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Sales by Salesman"})]}),n.jsxs("button",{onClick:()=>b("payment_breakdown"),className:`p-4 rounded-lg border transition-colors ${m==="payment_breakdown"?"border-amber-900 bg-amber-50 text-amber-900":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(pg,{className:"w-6 h-6 mx-auto mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Payment Breakdown"})]})]})]}),c&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-800",children:c})}),S&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-800",children:S})}),m==="overview"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:M.map((g,z)=>n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:g.title}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:g.value})]}),n.jsx("div",{className:`${g.color} p-3 rounded-lg`,children:n.jsx(g.icon,{className:"w-6 h-6 text-white"})})]})},z))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Methods"}),n.jsx("div",{className:"space-y-3",children:Object.entries(K).map(([g,z])=>{const Y=de>0?z/de*100:0;return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"capitalize font-medium",children:g}),n.jsxs("span",{children:["PKR ",z.toLocaleString()," (",Y.toFixed(1),"%)"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-amber-900 h-2 rounded-full transition-all duration-300",style:{width:`${Y}%`}})})]},g)})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Selling Products"}),n.jsx("div",{className:"space-y-3",children:ae.map(([g,z],Y)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-amber-900 text-white rounded-full flex items-center justify-center text-sm font-bold",children:Y+1}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:g}),n.jsxs("p",{className:"text-sm text-gray-600",children:[z.quantity," units sold"]})]})]}),n.jsxs("span",{className:"font-semibold text-amber-900",children:["PKR ",z.revenue]})]},g))})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Transactions"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left py-3 font-medium text-gray-700",children:"Invoice"}),n.jsx("th",{className:"text-left py-3 font-medium text-gray-700",children:"Items"}),n.jsx("th",{className:"text-left py-3 font-medium text-gray-700",children:"Payment"}),n.jsx("th",{className:"text-left py-3 font-medium text-gray-700",children:"Amount"}),n.jsx("th",{className:"text-left py-3 font-medium text-gray-700",children:"Date & Time"})]})}),n.jsx("tbody",{children:D.slice(-10).reverse().map(g=>n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 font-medium",children:g.invoiceNumber}),n.jsx("td",{className:"py-3 text-gray-600",children:g.items&&g.items.length>0?g.items.map(z=>z.productName||`Product ${z.product_id||"Unknown"}`).join(", "):"No items"}),n.jsx("td",{className:"py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(g.payment_method||g.paymentMethod)==="cash"?"bg-green-100 text-green-800":(g.payment_method||g.paymentMethod)==="card"?"bg-blue-100 text-blue-800":(g.payment_method||g.paymentMethod)==="easypaisa"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800"}`,children:(g.payment_method||g.paymentMethod||"Unknown").toUpperCase()})}),n.jsxs("td",{className:"py-3 font-semibold",children:["PKR ",(g.total||g.total_price||0).toLocaleString()]}),n.jsxs("td",{className:"py-3 text-gray-500",children:[new Date(g.createdAt||g.timestamp||new Date).toLocaleDateString()," ",new Date(g.createdAt||g.timestamp||new Date).toLocaleTimeString()]})]},g.id))})]})})]})]}):n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[m==="sales_by_date"&&"Sales by Date Report",m==="sales_by_product"&&"Sales by Product Report",m==="sales_by_salesman"&&"Sales Summary Report",m==="payment_breakdown"&&"Payment Breakdown Report"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:[X().startDate," to ",X().endDate]}),n.jsx("button",{onClick:()=>q(m),disabled:w,className:"px-3 py-1 text-sm bg-amber-900 text-white rounded hover:bg-amber-800 disabled:opacity-50",children:"Refresh"})]})]}),w?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(wt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-amber-600"}),n.jsx("p",{className:"text-gray-600",children:"Loading report data..."})]})}):k?n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Report Data"}),Se()]})}):k?n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Report Data"}),Se()]})}):n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Pl,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:'Click "Refresh" to load report data'})]})]})]})}const rn={async getUsers(){try{console.log("Fetching users...");const l=await ge.get("/users/");return console.log("Users fetched successfully:",l.data.length,"users"),l.data}catch(l){throw console.error("Failed to fetch users:",l),new Error(l.response?.data?.detail||"Failed to fetch users. Please try again.")}},async createUser(l){try{console.log("Creating user:",l.username);const o=await ge.post("/users/",l);return console.log("User created successfully:",o.data.username),o.data}catch(o){throw console.error("Failed to create user:",o),new Error(o.response?.data?.detail||"Failed to create user. Please try again.")}},async updateUser(l,o){try{console.log("Updating user:",l);const c=await ge.put(`/users/${l}`,o);return console.log("User updated successfully:",c.data.username),c.data}catch(c){throw console.error("Failed to update user:",c),new Error(c.response?.data?.detail||"Failed to update user. Please try again.")}},async deleteUser(l){try{console.log("Deleting user:",l),await ge.delete(`/users/${l}`),console.log("User deleted successfully")}catch(o){throw console.error("Failed to delete user:",o),new Error(o.response?.data?.detail||"Failed to delete user. Please try again.")}}};typeof window<"u"&&(window.userService=rn);const jl=l=>({id:l.id.toString(),username:l.username,role:l.role,name:l.username,email:l.email,phone:void 0,isActive:l.is_active,createdAt:new Date(l.created_at)});function Pg(){const{user:l}=os(),[o,c]=O.useState([]),[d,f]=O.useState(!0),[p,m]=O.useState(null),[x,k]=O.useState(!1),[v,w]=O.useState(null),[N,S]=O.useState(""),[P,_]=O.useState("all"),[C,F]=O.useState({username:"",email:"",role:"salesman",password:"",confirmPassword:""});O.useEffect(()=>{(async()=>{try{f(!0),m(null);const K=(await rn.getUsers()).map(jl);c(K)}catch(le){m(le.message||"Failed to fetch users"),console.error("Error fetching users:",le)}finally{f(!1)}})()},[]);const Q=o.filter(W=>{const le=P==="all"||W.role===P,K=W.name.toLowerCase().includes(N.toLowerCase())||W.username.toLowerCase().includes(N.toLowerCase())||W.email?.toLowerCase().includes(N.toLowerCase());return le&&K}),ee=async W=>{if(W.preventDefault(),!v&&C.password!==C.confirmPassword){m("Passwords do not match!");return}if(!v&&C.password.length<6){m("Password must be at least 6 characters long!");return}try{if(m(null),v){const le={username:C.username,email:C.email,role:C.role};C.password&&(le.password=C.password);const K=await rn.updateUser(parseInt(v.id),le),J=jl(K);c(o.map(ae=>ae.id===v.id?J:ae)),w(null)}else{const le=await rn.createUser({username:C.username,email:C.email,password:C.password,role:C.role}),K=jl(le);c([...o,K])}F({username:"",email:"",role:"salesman",password:"",confirmPassword:""}),k(!1)}catch(le){m(le.message||"Operation failed. Please try again."),console.error("Error in handleSubmit:",le)}},se=W=>{w(W),F({username:W.username,email:W.email||"",role:W.role,password:"",confirmPassword:""}),k(!0)},ue=async W=>{if(window.confirm("Are you sure you want to delete this user?"))try{m(null),await rn.deleteUser(parseInt(W)),c(o.filter(le=>le.id!==W))}catch(le){m(le.message||"Failed to delete user. Please try again."),console.error("Error deleting user:",le)}},me=async W=>{try{m(null);const le=o.find(ae=>ae.id===W);if(!le)return;const K=await rn.updateUser(parseInt(W),{is_active:!le.isActive}),J=jl(K);c(o.map(ae=>ae.id===W?J:ae))}catch(le){m(le.message||"Failed to update user status. Please try again."),console.error("Error updating user status:",le)}},pe=W=>{switch(W){case"admin":return"bg-red-100 text-red-800";case"manager":return"bg-blue-100 text-blue-800";case"salesman":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},D=W=>{switch(W){case"admin":return n.jsx(gg,{size:16});case"manager":return n.jsx(Er,{size:16});case"salesman":return n.jsx(Ho,{size:16});default:return n.jsx(Ho,{size:16})}};return l?.role==="admin"?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage system users and their roles"})]}),n.jsxs("button",{onClick:()=>{k(!0),w(null),F({username:"",email:"",role:"salesman",password:"",confirmPassword:""})},className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[n.jsx(is,{size:20}),n.jsx("span",{children:"Add User"})]})]}),p&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(es,{className:"text-red-400 mr-2",size:20}),n.jsx("p",{className:"text-red-800",children:p})]})}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search users...",value:N,onChange:W=>S(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),n.jsxs("select",{value:P,onChange:W=>_(W.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Roles"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"manager",children:"Manager"}),n.jsx("option",{value:"salesman",children:"Salesman"})]})]}),x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[n.jsx("div",{className:"flex-shrink-0 p-6 pb-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold",children:v?"Edit User":"Add New User"})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),n.jsx("input",{type:"text",required:!0,value:C.username,onChange:W=>F({...C,username:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),n.jsx("input",{type:"email",required:!0,value:C.email,onChange:W=>F({...C,email:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),n.jsxs("select",{required:!0,value:C.role,onChange:W=>F({...C,role:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[n.jsx("option",{value:"salesman",children:"Salesman"}),n.jsx("option",{value:"manager",children:"Manager"}),n.jsx("option",{value:"admin",children:"Admin"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:v?"New Password (leave blank to keep current)":"Password *"}),n.jsx("input",{type:"password",required:!v,value:C.password,onChange:W=>F({...C,password:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:v?"Confirm New Password":"Confirm Password *"}),n.jsx("input",{type:"password",required:!v,value:C.confirmPassword,onChange:W=>F({...C,confirmPassword:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]})]})}),n.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:ee,className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg transition-colors",children:v?"Update User":"Create User"}),n.jsx("button",{type:"button",onClick:()=>k(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg transition-colors",children:"Cancel"})]})})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(wt,{className:"animate-spin text-amber-600",size:32}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading users..."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.map(W=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["@",W.username]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:W.email&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(dg,{size:14,className:"text-gray-400"}),n.jsx("span",{children:W.email})]})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${pe(W.role)}`,children:[D(W.role),n.jsx("span",{className:"ml-1 capitalize",children:W.role})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("button",{onClick:()=>me(W.id),className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${W.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[W.isActive?n.jsx(Ho,{size:14}):n.jsx(xg,{size:14}),n.jsx("span",{className:"ml-1",children:W.isActive?"Active":"Inactive"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:W.createdAt.toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>se(W),className:"text-amber-600 hover:text-amber-900",children:n.jsx(ti,{size:16})}),n.jsx("button",{onClick:()=>ue(W.id),className:"text-red-600 hover:text-red-900",children:n.jsx(nn,{size:16})})]})})]},W.id))})]})})})]}):n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(es,{className:"text-red-400 mr-2",size:20}),n.jsx("p",{className:"text-red-800",children:"Access denied. Only administrators can manage users."})]})})})}class Rg extends O.Component{state={hasError:!1};static getDerivedStateFromError(o){return{hasError:!0,error:o}}componentDidCatch(o,c){console.error("ErrorBoundary caught an error:",o,c),this.setState({error:o,errorInfo:c})}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-2xl w-full",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Something went wrong"})})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm text-red-700",children:"The application encountered an unexpected error. Please refresh the page to try again."}),this.state.error&&n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-sm font-medium text-red-800",children:"Error Details"}),n.jsx("div",{className:"mt-2 p-4 bg-red-100 rounded-md",children:n.jsxs("pre",{className:"text-xs text-red-800 whitespace-pre-wrap overflow-auto",children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Refresh Page"})})]})}):this.props.children}}function Tg(){const{isAuthenticated:l,loading:o,user:c}=os(),[d,f]=O.useState("dashboard");O.useEffect(()=>{const k=new URLSearchParams(window.location.search).get("view"),v=localStorage.getItem("activeView");if(c?.role==="salesman"){f("sales"),localStorage.setItem("activeView","sales");return}const w=k||v||"dashboard";["dashboard","sales","pending-sales","products","customers","cards","reports","settings"].includes(w)?f(w):f("dashboard")},[c?.role]),O.useEffect(()=>{const x=()=>{const v=new URLSearchParams(window.location.search).get("view");v&&["dashboard","sales","pending-sales","products","customers","cards","reports","settings"].includes(v)?(f(v),localStorage.setItem("activeView",v)):(f("dashboard"),localStorage.setItem("activeView","dashboard"))};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[]);const p=x=>{if(c?.role==="salesman"&&x!=="sales")return;f(x),localStorage.setItem("activeView",x);const k=new URL(window.location.href);k.searchParams.set("view",x),window.history.pushState({},"",k.toString())};if(console.log("App render - loading:",o,"isAuthenticated:",l,"user:",c?.username),o)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-900 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(!l)return console.log("Not authenticated, showing login form"),n.jsx(yg,{});console.log("Authenticated, showing main app");const m=()=>{switch(d){case"dashboard":return n.jsx(jd,{onViewChange:p});case"sales":return n.jsx(wg,{});case"pending-sales":return n.jsx(Eg,{});case"products":return n.jsx(jg,{});case"customers":return n.jsx(Ng,{});case"cards":return n.jsx(Cg,{});case"reports":return n.jsx(_g,{});case"settings":return n.jsx(Pg,{});default:return n.jsx(jd,{onViewChange:p})}};return n.jsxs("div",{className:"h-screen flex bg-gray-50 overflow-hidden",children:[n.jsx(vg,{activeView:d,onViewChange:p}),n.jsx("main",{className:"flex-1 overflow-y-auto",children:m()})]})}function Fg(){return n.jsx(Rg,{children:n.jsx(qh,{children:n.jsx(Wh,{children:n.jsx(Qh,{children:n.jsx(Jh,{children:n.jsx(Yh,{children:n.jsx(Gh,{children:n.jsx(Tg,{})})})})})})})})}pp.createRoot(document.getElementById("root")).render(n.jsx(O.StrictMode,{children:n.jsx(Fg,{})}));
